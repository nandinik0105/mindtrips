<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>MindTrips ‚Äî Plan India, Your Way</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet"/>
  <style>
:root{--saffron:#FF6B35;--deep:#0D0D0D;--sand:#F5EDD6;--muted:#8C7B6B;--accent:#C8A96E;--green:#4CAF7D;--blue:#5B9BD5}
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{background:var(--deep);color:var(--sand);font-family:'DM Sans',sans-serif;font-weight:300;overflow-x:hidden}
body::before{content:'';position:fixed;inset:0;z-index:0;pointer-events:none;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");opacity:.35}

/* ‚ïê‚ïê‚ïê INDIA BACKGROUND SYMBOLS ‚ïê‚ïê‚ïê */
.india-bg{position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden}
.india-symbol{position:absolute;opacity:0;animation:symbolFloat linear infinite}
.india-symbol svg{display:block}
@keyframes symbolFloat{
  0%  {opacity:0;transform:translateY(0) rotate(0deg) scale(1)}
  8%  {opacity:1}
  92% {opacity:1}
  100%{opacity:0;transform:translateY(-100vh) rotate(15deg) scale(1.05)}
}
@keyframes symbolDrift{
  0%  {opacity:0;transform:translate(0,0) rotate(0deg)}
  10% {opacity:1}
  50% {transform:translate(30px,-50vh) rotate(8deg)}
  90% {opacity:1}
  100%{opacity:0;transform:translate(-20px,-100vh) rotate(-5deg)}
}
@keyframes symbolSway{
  0%  {opacity:0;transform:translateY(0) rotate(-5deg)}
  10% {opacity:1}
  50% {transform:translateY(-50vh) rotate(5deg)}
  90% {opacity:1}
  100%{opacity:0;transform:translateY(-100vh) rotate(-3deg)}
}

/* FROM CITY DROPDOWN */
.from-group-label{padding:.45rem 1rem .25rem;font-size:.62rem;letter-spacing:.18em;text-transform:uppercase;color:var(--muted);border-top:1px solid rgba(200,169,110,.1);margin-top:.2rem;position:sticky;top:0;background:#1a1a1a;z-index:2}
.from-group-label:first-child{border-top:none;margin-top:0}
.from-option{padding:.55rem 1rem;font-size:.85rem;color:rgba(245,237,214,.75);cursor:pointer;transition:background .15s,color .15s;display:flex;align-items:center;gap:.6rem}
.from-option:hover,.from-option.highlighted{background:rgba(200,169,110,.12);color:var(--sand)}
.from-option .city-emoji{font-size:.95rem;flex-shrink:0}
.from-no-results{padding:.8rem 1rem;font-size:.82rem;color:var(--muted);font-style:italic}

/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:200;display:flex;align-items:center;justify-content:space-between;padding:1.4rem 4rem;backdrop-filter:blur(20px);background:rgba(13,13,13,.8);border-bottom:1px solid rgba(200,169,110,.15)}
.logo{font-family:'Cormorant Garamond',serif;font-size:1.7rem;font-weight:600;letter-spacing:.05em;color:var(--sand);text-decoration:none}
.logo span{color:var(--saffron)}
.nav-links{display:flex;gap:2.5rem;list-style:none}
.nav-links a{color:rgba(245,237,214,.6);text-decoration:none;font-size:.82rem;letter-spacing:.08em;text-transform:uppercase;transition:color .3s}
.nav-links a:hover{color:var(--accent)}
.btn-nav{padding:.5rem 1.4rem;border:1px solid var(--accent);color:var(--accent);background:transparent;border-radius:2px;font-family:'DM Sans',sans-serif;font-size:.8rem;letter-spacing:.1em;text-transform:uppercase;cursor:pointer;transition:all .3s;text-decoration:none}
.btn-nav:hover{background:var(--accent);color:var(--deep)}

/* HERO */
.hero{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;position:relative;padding:0 2rem;overflow:hidden}
.hero::after{content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:700px;height:700px;background:radial-gradient(circle,rgba(255,107,53,.08) 0%,rgba(200,169,110,.05) 40%,transparent 70%);border-radius:50%;animation:pulse 6s ease-in-out infinite;pointer-events:none}
@keyframes pulse{0%,100%{transform:translate(-50%,-50%) scale(1);opacity:.7}50%{transform:translate(-50%,-50%) scale(1.1);opacity:1}}
.hero-tag{font-size:.72rem;letter-spacing:.3em;text-transform:uppercase;color:var(--accent);margin-bottom:1.5rem;display:flex;align-items:center;gap:.8rem;animation:fadeUp .8s ease both}
.hero-tag::before,.hero-tag::after{content:'';display:block;width:40px;height:1px;background:var(--accent)}
.hero h1{font-family:'Cormorant Garamond',serif;font-size:clamp(3.5rem,8vw,7rem);font-weight:300;line-height:1.05;letter-spacing:-.02em;animation:fadeUp .8s .15s ease both}
.hero h1 em{font-style:italic;color:var(--saffron)}
.hero-sub{margin-top:1.5rem;max-width:520px;font-size:.98rem;line-height:1.75;color:rgba(245,237,214,.55);animation:fadeUp .8s .3s ease both}
.hero-actions{margin-top:2.5rem;display:flex;gap:1rem;flex-wrap:wrap;justify-content:center;animation:fadeUp .8s .45s ease both}
.btn-primary{padding:.9rem 2.4rem;background:var(--saffron);color:white;border:none;border-radius:2px;font-family:'DM Sans',sans-serif;font-size:.88rem;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;transition:all .3s;text-decoration:none;display:inline-block}
.btn-primary:hover{background:#e55a25;transform:translateY(-2px)}
.btn-ghost{padding:.9rem 2.4rem;border:1px solid rgba(245,237,214,.25);color:var(--sand);background:transparent;border-radius:2px;font-family:'DM Sans',sans-serif;font-size:.88rem;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;transition:all .3s;text-decoration:none;display:inline-block}
.btn-ghost:hover{border-color:var(--sand)}
@keyframes fadeUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
.scroll-hint{position:absolute;bottom:2.5rem;left:50%;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;gap:.5rem;color:rgba(245,237,214,.3);font-size:.68rem;letter-spacing:.2em;text-transform:uppercase;animation:fadeUp 1s 1s ease both}
.scroll-line{width:1px;height:40px;background:linear-gradient(to bottom,rgba(245,237,214,.3),transparent);animation:scrollLine 2s ease-in-out infinite}
@keyframes scrollLine{0%{transform:scaleY(0);transform-origin:top}50%{transform:scaleY(1);transform-origin:top}51%{transform:scaleY(1);transform-origin:bottom}100%{transform:scaleY(0);transform-origin:bottom}}

/* MARQUEE */
.marquee-wrap{position:relative;z-index:1;padding:3.5rem 0;overflow:hidden;border-top:1px solid rgba(200,169,110,.1);border-bottom:1px solid rgba(200,169,110,.1)}
.marquee{display:flex;gap:3rem;width:max-content;animation:marquee 30s linear infinite}
.marquee-item{display:flex;align-items:center;gap:.8rem;font-family:'Cormorant Garamond',serif;font-size:1.4rem;font-weight:300;color:rgba(245,237,214,.3);white-space:nowrap}
.marquee-item span{color:var(--saffron);font-size:.65rem}
@keyframes marquee{from{transform:translateX(0)}to{transform:translateX(-50%)}}

/* PLANNER */
.planner{position:relative;z-index:1;padding:8rem 2rem;max-width:920px;margin:0 auto}
.section-label{font-size:.7rem;letter-spacing:.3em;text-transform:uppercase;color:var(--accent);margin-bottom:1rem}
.planner h2,.sec-title{font-family:'Cormorant Garamond',serif;font-size:clamp(2.2rem,4vw,3.2rem);font-weight:300;line-height:1.2;margin-bottom:3rem}
.planner-card{background:rgba(245,237,214,.04);border:1px solid rgba(200,169,110,.2);border-radius:4px;padding:2.8rem;backdrop-filter:blur(10px)}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:1.5rem}
.form-row.three{grid-template-columns:1fr 1fr 1fr}
.form-group{display:flex;flex-direction:column;gap:.45rem}
.form-group label{font-size:.7rem;letter-spacing:.15em;text-transform:uppercase;color:var(--muted)}
.form-group input,.form-group select{background:rgba(245,237,214,.06);border:1px solid rgba(200,169,110,.2);border-radius:2px;padding:.78rem 1rem;color:var(--sand);font-family:'DM Sans',sans-serif;font-size:.88rem;outline:none;transition:border-color .3s;-webkit-appearance:none}
.form-group input:focus,.form-group select:focus{border-color:var(--accent)}
.form-group select option{background:#1a1a1a}
.btn-plan{width:100%;margin-top:1rem;padding:1rem;background:var(--saffron);color:white;border:none;border-radius:2px;font-family:'DM Sans',sans-serif;font-size:.88rem;letter-spacing:.1em;text-transform:uppercase;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:.6rem}
.btn-plan:hover{background:#e55a25}
.btn-plan.loading{opacity:.7;pointer-events:none}

/* RESULTS */
#results{display:none;margin-top:3rem;padding:2.5rem;background:rgba(245,237,214,.03);border:1px solid rgba(200,169,110,.15);border-radius:4px}
.result-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}
.result-header h3{font-family:'Cormorant Garamond',serif;font-size:2rem;font-weight:300}
.budget-badge{background:rgba(255,107,53,.15);border:1px solid rgba(255,107,53,.3);padding:.4rem 1rem;border-radius:2px;font-size:.78rem;color:var(--saffron);letter-spacing:.08em}
.itinerary-days{display:flex;flex-direction:column;gap:1rem}
.day-card{background:rgba(245,237,214,.04);border-left:2px solid var(--accent);padding:1.2rem 1.5rem;border-radius:0 2px 2px 0;cursor:pointer;transition:background .3s}
.day-card:hover{background:rgba(245,237,214,.07)}
.day-card h4{font-size:.72rem;text-transform:uppercase;letter-spacing:.15em;color:var(--accent);margin-bottom:.5rem}
.day-card p{font-size:.86rem;line-height:1.7;color:rgba(245,237,214,.75)}
.budget-breakdown{margin-top:2rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.8rem}
.budget-item{text-align:center;padding:1rem;background:rgba(245,237,214,.04);border:1px solid rgba(200,169,110,.12);border-radius:3px}
.budget-item .amount{font-family:'Cormorant Garamond',serif;font-size:1.3rem;color:var(--accent)}
.budget-item .label{font-size:.68rem;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);margin-top:.3rem}
/* budget bar */
.budget-bars{margin-top:1.5rem}
.budget-bar-row{display:flex;align-items:center;gap:1rem;margin-bottom:.7rem}
.budget-bar-label{font-size:.72rem;text-transform:uppercase;letter-spacing:.1em;color:var(--muted);width:90px;flex-shrink:0}
.budget-bar-track{flex:1;height:6px;background:rgba(245,237,214,.08);border-radius:3px;overflow:hidden}
.budget-bar-fill{height:100%;border-radius:3px;transition:width 1s ease}
.budget-bar-val{font-size:.75rem;color:var(--accent);width:90px;text-align:right}
/* hotels */
.hotels-section{margin-top:2rem}
.hotels-section h4{font-family:'Cormorant Garamond',serif;font-size:1.35rem;font-weight:300;margin-bottom:1.2rem}
.hotels-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(210px,1fr));gap:1rem}
.hotel-card{padding:1.2rem 1.3rem 1rem;background:rgba(245,237,214,.04);border:1px solid rgba(200,169,110,.12);border-radius:6px;transition:border-color .3s,transform .25s,box-shadow .25s;display:flex;flex-direction:column;gap:.18rem}
.hotel-card:hover{border-color:rgba(200,169,110,.4);transform:translateY(-3px);box-shadow:0 8px 30px rgba(0,0,0,.35)}
.hotel-name{font-size:.9rem;font-weight:500;color:var(--sand)}
.hotel-meta{font-size:.73rem;color:var(--muted)}
.hotel-price{font-size:.85rem;color:var(--accent);font-weight:500;margin-top:.3rem}
.stars{color:var(--saffron);font-size:.72rem;letter-spacing:.05em}
.hotel-book-row{display:flex;gap:.5rem;margin-top:.8rem;flex-wrap:wrap}
.book-btn{flex:1;min-width:0;display:flex;align-items:center;justify-content:center;gap:.3rem;padding:.42rem .5rem;border-radius:3px;font-size:.65rem;letter-spacing:.06em;text-transform:uppercase;font-family:'DM Sans',sans-serif;font-weight:500;cursor:pointer;text-decoration:none;transition:all .25s;border:none;white-space:nowrap}
.book-mmt{background:rgba(220,50,50,.12);border:1px solid rgba(220,50,50,.25);color:#e05050}
.book-mmt:hover{background:rgba(220,50,50,.22);border-color:rgba(220,50,50,.5)}
.book-bdc{background:rgba(0,102,204,.12);border:1px solid rgba(0,102,204,.25);color:#5b9bd5}
.book-bdc:hover{background:rgba(0,102,204,.22);border-color:rgba(0,102,204,.5)}
.hotel-best-badge{display:inline-block;font-size:.58rem;letter-spacing:.1em;text-transform:uppercase;padding:.18rem .5rem;border-radius:2px;background:rgba(76,175,125,.12);border:1px solid rgba(76,175,125,.25);color:#4CAF7D;margin-top:.25rem;align-self:flex-start}

/* ‚ïê‚ïê‚ïê FEATURES ‚ïê‚ïê‚ïê */
.features{position:relative;z-index:1;padding:8rem 4rem;max-width:1200px;margin:0 auto}
.features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-top:3.5rem}
.feature-card{padding:2.2rem;border:1px solid rgba(200,169,110,.14);border-radius:6px;position:relative;overflow:hidden;cursor:pointer;transition:border-color .35s,transform .3s,box-shadow .3s}
.feature-card:hover{border-color:rgba(200,169,110,.45);transform:translateY(-4px);box-shadow:0 12px 40px rgba(0,0,0,.4)}
.feature-card.active{border-color:var(--saffron);background:rgba(255,107,53,.04)}
.feature-card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(to right,transparent,var(--accent),transparent);opacity:0;transition:opacity .35s}
.feature-card:hover::before,.feature-card.active::before{opacity:1}
.feature-icon{font-size:1.8rem;margin-bottom:1.2rem;display:block}
.feature-card h3{font-family:'Cormorant Garamond',serif;font-size:1.35rem;font-weight:400;margin-bottom:.6rem}
.feature-card p{font-size:.83rem;line-height:1.7;color:rgba(245,237,214,.5);margin-bottom:1rem}
.feature-tag{display:inline-block;font-size:.65rem;letter-spacing:.12em;text-transform:uppercase;padding:.25rem .65rem;border-radius:2px;border:1px solid rgba(200,169,110,.25);color:var(--accent)}
.feature-demo-btn{display:inline-flex;align-items:center;gap:.4rem;margin-top:.8rem;font-size:.75rem;letter-spacing:.1em;text-transform:uppercase;color:var(--saffron);cursor:pointer;background:none;border:none;font-family:'DM Sans',sans-serif;padding:0;transition:gap .3s}
.feature-demo-btn:hover{gap:.7rem}
/* inline demo panels */
.feature-demo{display:none;margin-top:1.2rem;padding:1.2rem;background:rgba(245,237,214,.04);border:1px solid rgba(200,169,110,.15);border-radius:4px}
.feature-demo.open{display:block;animation:fadeUp .4s ease}

/* AI demo */
.ai-demo-output{font-size:.8rem;line-height:1.8;color:rgba(245,237,214,.75)}
.ai-demo-line{opacity:0;animation:fadeUp .4s ease forwards}

/* Budget demo chart */
.pie-wrap{display:flex;align-items:center;gap:1.5rem;flex-wrap:wrap}
.pie-legend{display:flex;flex-direction:column;gap:.5rem}
.legend-row{display:flex;align-items:center;gap:.5rem;font-size:.75rem;color:rgba(245,237,214,.7)}
.legend-dot{width:10px;height:10px;border-radius:2px;flex-shrink:0}

/* Weather demo */
.weather-cards-demo{display:grid;grid-template-columns:repeat(3,1fr);gap:.6rem}
.w-card{padding:.8rem;background:rgba(245,237,214,.05);border:1px solid rgba(200,169,110,.12);border-radius:3px;text-align:center}
.w-card .temp{font-family:'Cormorant Garamond',serif;font-size:1.6rem;color:var(--accent)}
.w-card .city{font-size:.65rem;text-transform:uppercase;letter-spacing:.1em;color:var(--muted)}
.w-card .cond{font-size:.72rem;margin-top:.2rem;color:rgba(245,237,214,.6)}

/* Transport demo */
.route-line{display:flex;align-items:center;gap:.5rem;margin-bottom:.7rem;font-size:.8rem}
.route-dot{width:10px;height:10px;border-radius:50%;background:var(--accent);flex-shrink:0}
.route-dash{flex:1;height:1px;border-top:1px dashed rgba(200,169,110,.3)}
.route-info{color:rgba(245,237,214,.6)}
.route-cost{color:var(--saffron);font-size:.78rem}

/* Map demo */
.map-demo-box{background:rgba(91,155,213,.06);border:1px solid rgba(91,155,213,.2);border-radius:4px;padding:1rem;position:relative;min-height:120px;overflow:hidden}
.map-pin{position:absolute;font-size:1.2rem;animation:bounce 2s ease-in-out infinite}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
.map-city-label{position:absolute;font-size:.6rem;text-transform:uppercase;letter-spacing:.1em;color:var(--accent);margin-top:1.4rem}

/* Export demo */
.export-btns{display:flex;gap:.6rem;flex-wrap:wrap}
.export-btn{padding:.5rem 1rem;border:1px solid rgba(200,169,110,.25);border-radius:2px;font-size:.72rem;letter-spacing:.08em;text-transform:uppercase;color:var(--sand);cursor:pointer;background:none;font-family:'DM Sans',sans-serif;transition:all .3s}
.export-btn:hover{border-color:var(--accent);color:var(--accent)}
.export-preview{margin-top:.8rem;padding:.8rem;background:rgba(245,237,214,.04);border-radius:3px;font-size:.75rem;color:rgba(245,237,214,.6);line-height:1.7}

/* ‚ïê‚ïê‚ïê BUDGET WARNING ‚ïê‚ïê‚ïê */
.budget-toast{position:fixed;bottom:2rem;right:2rem;z-index:999;max-width:380px;background:#1a1008;border:1px solid rgba(255,160,50,.45);border-radius:8px;padding:1.1rem 1.3rem;box-shadow:0 8px 40px rgba(0,0,0,.6);display:flex;gap:.9rem;align-items:flex-start;transform:translateY(120px);opacity:0;transition:transform .4s cubic-bezier(.34,1.56,.64,1),opacity .4s ease;pointer-events:none}
.budget-toast.show{transform:translateY(0);opacity:1;pointer-events:auto}
.budget-toast-icon{font-size:1.4rem;flex-shrink:0;margin-top:.05rem}
.budget-toast-body{}
.budget-toast-title{font-size:.82rem;font-weight:500;color:#ffb347;margin-bottom:.3rem;letter-spacing:.02em}
.budget-toast-msg{font-size:.76rem;color:rgba(245,237,214,.65);line-height:1.6}
.budget-toast-tip{margin-top:.45rem;font-size:.72rem;color:rgba(200,169,110,.7);font-style:italic}
.budget-toast-close{position:absolute;top:.6rem;right:.8rem;background:none;border:none;color:rgba(245,237,214,.35);font-size:.9rem;cursor:pointer;padding:0;line-height:1;transition:color .2s}
.budget-toast-close:hover{color:var(--sand)}
/* inline warning inside planner */
.budget-inline-warn{display:none;margin-top:1rem;padding:.85rem 1.1rem;background:rgba(255,140,0,.07);border:1px solid rgba(255,140,0,.3);border-radius:4px;font-size:.78rem;color:rgba(255,180,80,.85);line-height:1.65;gap:.6rem;align-items:flex-start}
.budget-inline-warn.show{display:flex}
.budget-inline-warn strong{color:#ffb347}
.ml-section{position:relative;z-index:1;padding:6rem 4rem;max-width:1100px;margin:0 auto}
.ml-card{background:rgba(245,237,214,.03);border:1px solid rgba(91,155,213,.25);border-radius:8px;padding:2.8rem;position:relative;overflow:hidden}
.ml-card::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(to right,transparent,#5B9BD5,var(--accent),transparent)}
.ml-header{display:flex;align-items:flex-start;justify-content:space-between;flex-wrap:wrap;gap:1rem;margin-bottom:2rem}
.ml-badge{padding:.3rem .8rem;background:rgba(91,155,213,.12);border:1px solid rgba(91,155,213,.3);border-radius:2px;font-size:.65rem;letter-spacing:.12em;text-transform:uppercase;color:#5B9BD5}
/* model stats bar */
.model-stats-bar{display:flex;gap:1.5rem;flex-wrap:wrap;margin-bottom:2rem;padding:1rem 1.2rem;background:rgba(91,155,213,.05);border:1px solid rgba(91,155,213,.15);border-radius:4px}
.stat-chip{display:flex;flex-direction:column;gap:.2rem}
.stat-chip .sv{font-family:'Cormorant Garamond',serif;font-size:1.4rem;font-weight:300;color:var(--green)}
.stat-chip .sl{font-size:.62rem;text-transform:uppercase;letter-spacing:.12em;color:var(--muted)}
/* sliders */
.ml-form{display:grid;grid-template-columns:1fr 1fr;gap:1.4rem;margin-bottom:1.5rem}
.ml-form-group{display:flex;flex-direction:column;gap:.5rem}
.ml-form-group label{font-size:.68rem;letter-spacing:.15em;text-transform:uppercase;color:var(--muted);display:flex;justify-content:space-between;align-items:center}
.ml-form-group label span{color:var(--accent);font-size:.8rem;letter-spacing:0;text-transform:none;font-weight:500}
.ml-form-group select,.ml-form-group input[type=range]{background:rgba(245,237,214,.05);border:1px solid rgba(91,155,213,.2);border-radius:2px;padding:.7rem .9rem;color:var(--sand);font-family:'DM Sans',sans-serif;font-size:.85rem;outline:none;transition:border-color .3s;-webkit-appearance:none;width:100%}
.ml-form-group input[type=range]{padding:0;height:6px;background:rgba(91,155,213,.2);border:none;cursor:pointer;accent-color:#5B9BD5}
.ml-form-group select:focus{border-color:#5B9BD5}
.ml-form-group select option{background:#1a1a1a}
.btn-predict{width:100%;margin-top:.5rem;padding:1rem 2rem;background:linear-gradient(135deg,rgba(91,155,213,.2),rgba(200,169,110,.1));border:1px solid rgba(91,155,213,.45);color:#7fb3e0;border-radius:4px;font-family:'DM Sans',sans-serif;font-size:.88rem;letter-spacing:.12em;text-transform:uppercase;cursor:pointer;transition:all .3s;display:flex;align-items:center;justify-content:center;gap:.6rem}
.btn-predict:hover{background:linear-gradient(135deg,rgba(91,155,213,.32),rgba(200,169,110,.18));border-color:#5B9BD5;color:#a8d0f0}
.btn-predict.running{opacity:.7;pointer-events:none}
/* result panel */
#ml-result{display:none;margin-top:2rem;animation:fadeUp .5s ease}
.ai-result-hero{padding:1.8rem;background:linear-gradient(135deg,rgba(91,155,213,.08),rgba(200,169,110,.05));border:1px solid rgba(91,155,213,.2);border-radius:6px;margin-bottom:1.2rem}
.pred-main{display:flex;align-items:center;gap:1rem;margin-bottom:.8rem;flex-wrap:wrap}
.pred-style{font-family:'Cormorant Garamond',serif;font-size:2.2rem;font-weight:300;color:var(--sand)}
.pred-conf{padding:.35rem .85rem;background:rgba(76,175,125,.15);border:1px solid rgba(76,175,125,.35);border-radius:2px;font-size:.7rem;letter-spacing:.1em;text-transform:uppercase;color:var(--green);font-weight:500}
.pred-desc{font-size:.85rem;color:rgba(245,237,214,.55);line-height:1.75;margin-bottom:1rem}
.pred-reason{font-size:.78rem;color:rgba(245,237,214,.4);font-style:italic;border-left:2px solid rgba(91,155,213,.35);padding-left:.8rem}
/* confidence breakdown */
.conf-breakdown{display:grid;grid-template-columns:1fr 1fr 1fr;gap:.7rem;margin-bottom:1.2rem}
.conf-box{padding:.9rem 1rem;background:rgba(245,237,214,.03);border:1px solid rgba(200,169,110,.1);border-radius:4px}
.conf-box-label{font-size:.6rem;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);margin-bottom:.5rem}
.conf-box-val{font-family:'Cormorant Garamond',serif;font-size:1.5rem;font-weight:300;color:var(--accent)}
.conf-box-bar{margin-top:.5rem;height:3px;background:rgba(245,237,214,.06);border-radius:2px;overflow:hidden}
.conf-box-fill{height:100%;background:linear-gradient(to right,#5B9BD5,var(--accent));transition:width 1s ease;border-radius:2px}
/* feature importance real */
.importance-chart{margin-top:1rem;padding:1.2rem;background:rgba(245,237,214,.02);border:1px solid rgba(200,169,110,.1);border-radius:4px}
.importance-title{font-size:.68rem;letter-spacing:.18em;text-transform:uppercase;color:var(--muted);margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}
.importance-title::after{content:'from RandomForest model ¬∑ 139 training samples';font-size:.6rem;letter-spacing:.05em;color:rgba(245,237,214,.2);text-transform:none}
.imp-row{display:flex;align-items:center;gap:.8rem;margin-bottom:.6rem}
.imp-label{font-size:.7rem;color:rgba(245,237,214,.55);width:110px;flex-shrink:0}
.imp-track{flex:1;height:5px;background:rgba(245,237,214,.07);border-radius:2px;overflow:hidden}
.imp-fill{height:100%;border-radius:2px;background:linear-gradient(to right,#5B9BD5,var(--accent));transition:width 1.2s ease}
.imp-val{font-size:.7rem;color:var(--accent);width:36px;text-align:right;flex-shrink:0}
/* suggestions */
.sugg-row{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.8rem}
.sugg-chip{padding:.3rem .75rem;background:rgba(255,107,53,.08);border:1px solid rgba(255,107,53,.2);border-radius:2px;font-size:.72rem;color:rgba(245,237,214,.65);cursor:pointer;transition:all .2s}
.sugg-chip:hover{border-color:var(--saffron);color:var(--saffron)}
/* live suggestion chips */
.live-sugg-chip{display:inline-flex;align-items:center;gap:.35rem;padding:.45rem 1rem;background:rgba(200,169,110,.07);border:1px solid rgba(200,169,110,.25);border-radius:20px;font-size:.78rem;color:rgba(245,237,214,.8);cursor:pointer;transition:all .25s;font-family:'DM Sans',sans-serif}
.live-sugg-chip:hover{background:rgba(200,169,110,.18);border-color:var(--accent);color:var(--sand);transform:translateY(-2px);box-shadow:0 4px 16px rgba(200,169,110,.15)}
/* confusion matrix */
.cm-wrap{margin-top:1.2rem;overflow-x:auto}
.cm-table{border-collapse:collapse;font-size:.65rem;width:100%}
.cm-table th,.cm-table td{padding:.4rem .5rem;border:1px solid rgba(200,169,110,.1);text-align:center;white-space:nowrap}
.cm-table th{background:rgba(91,155,213,.08);color:rgba(245,237,214,.5);font-weight:400;letter-spacing:.05em}
.cm-table td{color:rgba(245,237,214,.6)}
.cm-table td.cm-hit{background:rgba(76,175,125,.15);color:var(--green);font-weight:600}
.cm-table td.cm-miss{background:rgba(255,107,53,.08);color:rgba(255,107,53,.7)}
/* processing anim */
.ai-thinking{display:none;align-items:center;gap:.8rem;margin-top:1rem;padding:.8rem 1.2rem;background:rgba(91,155,213,.05);border-radius:4px}
.ai-thinking.show{display:flex}
.ai-dot{width:6px;height:6px;border-radius:50%;background:#5B9BD5;animation:aiPulse 1.2s ease-in-out infinite}
.ai-dot:nth-child(2){animation-delay:.2s}
.ai-dot:nth-child(3){animation-delay:.4s}
@keyframes aiPulse{0%,80%,100%{transform:scale(0.8);opacity:.4}40%{transform:scale(1.2);opacity:1}}

/* ‚ïê‚ïê‚ïê EXPLORE INDIA ‚ïê‚ïê‚ïê */
.explore{position:relative;z-index:1;padding:8rem 4rem;max-width:1200px;margin:0 auto}
.explore-filters{display:flex;gap:.6rem;flex-wrap:wrap;margin-bottom:2.5rem}
.filter-btn{padding:.45rem 1rem;border:1px solid rgba(200,169,110,.2);border-radius:20px;font-size:.75rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(245,237,214,.5);cursor:pointer;background:none;font-family:'DM Sans',sans-serif;transition:all .3s}
.filter-btn:hover,.filter-btn.active{border-color:var(--saffron);color:var(--saffron);background:rgba(255,107,53,.07)}
.states-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:1.2rem}
.state-card{border:1px solid rgba(200,169,110,.14);border-radius:6px;overflow:hidden;cursor:pointer;transition:border-color .3s,transform .3s;position:relative}
.state-card:hover{border-color:rgba(200,169,110,.45);transform:translateY(-3px)}
.state-card-top{padding:1.5rem 1.5rem 1rem;position:relative}
.state-emoji{font-size:2rem;margin-bottom:.5rem;display:block}
.state-name{font-family:'Cormorant Garamond',serif;font-size:1.2rem;font-weight:400}
.state-region{font-size:.65rem;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);margin-top:.2rem}
.state-card-bottom{padding:.8rem 1.5rem 1.2rem;border-top:1px solid rgba(200,169,110,.1)}
.state-tags{display:flex;gap:.4rem;flex-wrap:wrap}
.state-tag{font-size:.62rem;padding:.2rem .5rem;border:1px solid rgba(200,169,110,.18);border-radius:2px;color:rgba(245,237,214,.5);text-transform:uppercase;letter-spacing:.08em}
.state-card-cta{margin-top:.7rem;font-size:.72rem;text-transform:uppercase;letter-spacing:.1em;color:var(--saffron);display:flex;align-items:center;gap:.3rem}
/* category color accents */
.cat-hills .state-emoji::after{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(to right,#5B9BD5,transparent)}
.cat-beach::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(to right,#4CAF7D,transparent);border-radius:6px 6px 0 0}
.cat-heritage::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(to right,var(--saffron),transparent);border-radius:6px 6px 0 0}
.cat-nature::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(to right,var(--green),transparent);border-radius:6px 6px 0 0}
.cat-spiritual::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(to right,var(--accent),transparent);border-radius:6px 6px 0 0}
/* state detail modal */
.state-modal-overlay{position:fixed;inset:0;z-index:300;background:rgba(0,0,0,.8);backdrop-filter:blur(8px);display:none;align-items:center;justify-content:center;padding:1rem}
.state-modal-overlay.open{display:flex}
.state-modal{background:#111;border:1px solid rgba(200,169,110,.25);border-radius:8px;max-width:680px;width:100%;max-height:90vh;overflow-y:auto;position:relative;padding:2.5rem;animation:modalIn .35s ease}
@keyframes modalIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.modal-close{position:absolute;top:1.2rem;right:1.2rem;background:none;border:none;color:rgba(245,237,214,.5);font-size:1.3rem;cursor:pointer;transition:color .2s}
.modal-close:hover{color:var(--sand)}
.modal-emoji{font-size:3rem;margin-bottom:.8rem;display:block}
.modal-title{font-family:'Cormorant Garamond',serif;font-size:2.2rem;font-weight:300;margin-bottom:.3rem}
.modal-region{font-size:.7rem;text-transform:uppercase;letter-spacing:.2em;color:var(--accent);margin-bottom:1.5rem}
.modal-section{margin-bottom:1.5rem}
.modal-sec-label{font-size:.68rem;text-transform:uppercase;letter-spacing:.15em;color:var(--muted);margin-bottom:.7rem}
.modal-spots{display:flex;flex-wrap:wrap;gap:.4rem}
.modal-spot{padding:.3rem .7rem;background:rgba(245,237,214,.05);border:1px solid rgba(200,169,110,.15);border-radius:2px;font-size:.78rem;color:rgba(245,237,214,.7)}
.modal-facts{display:grid;grid-template-columns:1fr 1fr;gap:.7rem}
.modal-fact{padding:.8rem;background:rgba(245,237,214,.04);border:1px solid rgba(200,169,110,.1);border-radius:3px}
.modal-fact-key{font-size:.65rem;text-transform:uppercase;letter-spacing:.12em;color:var(--muted);margin-bottom:.25rem}
.modal-fact-val{font-size:.85rem;color:var(--sand)}
.modal-cta{margin-top:1.5rem;padding:.9rem 2rem;background:var(--saffron);color:white;border:none;border-radius:2px;font-family:'DM Sans',sans-serif;font-size:.85rem;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;width:100%;transition:background .3s}
.modal-cta:hover{background:#e55a25}

/* FOOTER */
footer{position:relative;z-index:1;padding:3rem 4rem;border-top:1px solid rgba(200,169,110,.1);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}
footer .logo{font-size:1.3rem}
.footer-note{font-size:.75rem;color:rgba(245,237,214,.25)}

/* ‚ïê‚ïê‚ïê HAMBURGER ‚ïê‚ïê‚ïê */
.hamburger{display:none;flex-direction:column;gap:5px;cursor:pointer;background:none;border:none;padding:.3rem}
.hamburger span{display:block;width:22px;height:1.5px;background:var(--sand);transition:all .3s;border-radius:2px}
.hamburger.open span:nth-child(1){transform:translateY(6.5px) rotate(45deg)}
.hamburger.open span:nth-child(2){opacity:0}
.hamburger.open span:nth-child(3){transform:translateY(-6.5px) rotate(-45deg)}
.mobile-menu{display:none;position:fixed;top:0;left:0;right:0;bottom:0;z-index:190;background:rgba(13,13,13,.97);backdrop-filter:blur(20px);flex-direction:column;align-items:center;justify-content:center;gap:2.5rem}
.mobile-menu.open{display:flex;animation:fadeUp .3s ease}
.mobile-menu a{font-family:'Cormorant Garamond',serif;font-size:2.2rem;font-weight:300;color:var(--sand);text-decoration:none;letter-spacing:.05em;transition:color .2s}
.mobile-menu a:hover{color:var(--saffron)}
.mobile-menu .btn-primary{font-family:'DM Sans',sans-serif;font-size:.88rem;margin-top:1rem}

/* ‚ïê‚ïê‚ïê RESPONSIVE ‚Äî LAPTOP (max 1100px) ‚ïê‚ïê‚ïê */
@media(max-width:1100px){
  nav{padding:1.4rem 2rem}
  .features{padding:7rem 2.5rem}
  .explore{padding:7rem 2.5rem}
  .ml-section{padding:5rem 2.5rem}
}

/* ‚ïê‚ïê‚ïê RESPONSIVE ‚Äî TABLET (max 900px) ‚ïê‚ïê‚ïê */
@media(max-width:900px){
  nav{padding:1.2rem 2rem}
  .nav-links{display:none}
  .hamburger{display:flex}
  .hero h1{font-size:clamp(2.8rem,7vw,4.5rem)}
  .hero-sub{font-size:.9rem}
  .planner{padding:6rem 1.5rem}
  .planner-card{padding:1.8rem}
  .form-row.three{grid-template-columns:1fr 1fr}
  .features{padding:6rem 2rem}
  .features-grid{grid-template-columns:repeat(2,1fr)}
  .ml-section{padding:5rem 2rem}
  .ml-card{padding:2rem}
  .ml-form{grid-template-columns:1fr 1fr}
  .conf-breakdown{grid-template-columns:repeat(2,1fr)}
  .model-stats-bar{gap:1rem}
  .explore{padding:6rem 2rem}
  .states-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}
  footer{padding:2.5rem 2rem}
  #results{padding:1.8rem}
  .budget-breakdown{grid-template-columns:repeat(3,1fr)}
}

/* ‚ïê‚ïê‚ïê RESPONSIVE ‚Äî MOBILE (max 600px) ‚ïê‚ïê‚ïê */
@media(max-width:600px){
  .btn-nav{display:none}
  nav{padding:1rem 1.2rem}
  .logo{font-size:1.4rem}
  .hero{padding:0 1.2rem}
  .hero::after{width:320px;height:320px}
  .hero h1{font-size:clamp(2.4rem,10vw,3.5rem)}
  .hero-tag{font-size:.65rem;letter-spacing:.2em}
  .hero-tag::before,.hero-tag::after{width:24px}
  .hero-sub{font-size:.88rem;max-width:100%}
  .btn-primary,.btn-ghost{padding:.75rem 1.6rem;font-size:.82rem}
  .marquee-wrap{padding:2rem 0}
  .marquee-item{font-size:1.1rem}
  .planner{padding:5rem 1.2rem 4rem}
  .planner h2,.sec-title{font-size:clamp(1.8rem,7vw,2.5rem);margin-bottom:2rem}
  .planner-card{padding:1.3rem}
  .form-row,.form-row.three{grid-template-columns:1fr;gap:1rem}
  .form-group input,.form-group select{font-size:.85rem;padding:.7rem .9rem}
  .btn-plan{font-size:.82rem;padding:.9rem}
  #results{padding:1.3rem}
  .result-header h3{font-size:1.5rem}
  .budget-breakdown{grid-template-columns:1fr 1fr}
  .budget-item .amount{font-size:1.1rem}
  .budget-bar-label{width:68px;font-size:.65rem}
  .hotels-grid{grid-template-columns:1fr}
  .hotel-book-row{flex-direction:row}
  .book-btn{font-size:.6rem;padding:.38rem .4rem}
  .features{padding:5rem 1.2rem}
  .features-grid{grid-template-columns:1fr;gap:1rem}
  .feature-card{padding:1.5rem}
  .weather-cards-demo{grid-template-columns:1fr;gap:.5rem}
  .pie-wrap{flex-direction:column;align-items:flex-start}
  .export-btns{flex-direction:column}
  .export-btn{width:100%;text-align:center}
  .ml-section{padding:4rem 1.2rem}
  .ml-card{padding:1.3rem}
  .ml-header{flex-direction:column}
  .ml-badges-row{display:none}
  .ml-form{grid-template-columns:1fr;gap:1rem}
  .conf-breakdown{grid-template-columns:1fr 1fr}
  .model-stats-bar{gap:.8rem}
  .stat-chip .sv{font-size:1.1rem}
  .importance-title::after{display:none}
  .explore{padding:5rem 1.2rem}
  .explore-filters{gap:.4rem}
  .filter-btn{font-size:.68rem;padding:.38rem .8rem}
  .states-grid{grid-template-columns:1fr}
  .state-modal{padding:1.5rem;margin:.5rem}
  .modal-facts{grid-template-columns:1fr}
  .modal-title{font-size:1.7rem}
  footer{padding:1.8rem 1.2rem;flex-direction:column;align-items:flex-start;gap:.5rem}
  .scroll-hint{display:none}
}
  </style>
</head>
<body>

<!-- INDIAN BACKGROUND SYMBOLS -->
<div class="india-bg" id="indiaBg"></div>

<!-- MOBILE MENU -->
<div class="mobile-menu" id="mobileMenu">
  <a href="#planner" onclick="closeMobileMenu()">Planner</a>
  <a href="#features" onclick="closeMobileMenu()">Features</a>
  <a href="#ml" onclick="closeMobileMenu()">Smart Predictor</a>
  <a href="#explore" onclick="closeMobileMenu()">Explore India</a>
  <a href="#planner" class="btn-primary" onclick="closeMobileMenu()">Plan Now ‚Üí</a>
</div>

<!-- NAV -->
<nav>
  <a class="logo" href="#"><span>‚ú¶</span> MindTrips</a>
  <ul class="nav-links">
    <li><a href="#planner">Planner</a></li>
    <li><a href="#features">Features</a></li>
    <li><a href="#ml">Smart Predictor</a></li>
    <li><a href="#explore">Explore India</a></li>
  </ul>
  <div style="display:flex;align-items:center;gap:1rem">
    <a href="#planner" class="btn-nav">Plan Now</a>
    <button class="hamburger" id="hamburger" onclick="toggleMobileMenu()" aria-label="Menu">
      <span></span><span></span><span></span>
    </button>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-tag">AI-Powered India Travel Planner</div>
  <h1>Travel <em>smarter,</em><br/>explore deeper.</h1>
  <p class="hero-sub">MindTrips crafts your perfect Indian journey ‚Äî personalised itineraries, live budget tracking, ML-powered recommendations, and curated stays.</p>
  <div class="hero-actions">
    <a href="#planner" class="btn-primary">Start Planning ‚Üí</a>
    <a href="#features" class="btn-ghost">See Features</a>
  </div>
  <div class="scroll-hint"><div class="scroll-line"></div>Scroll</div>
</section>

<!-- MARQUEE -->
<div class="marquee-wrap"><div class="marquee" id="marquee"></div></div>

<!-- PLANNER -->
<section class="planner" id="planner">
  <div class="section-label">‚ú¶ AI Trip Planner</div>
  <h2>Where does your mind<br/>wander today?</h2>
  <div class="planner-card">
    <div class="form-row">
      <div class="form-group" style="position:relative">
        <label>From (Your City)</label>
        <input type="text" id="from" placeholder="Search your city‚Ä¶" autocomplete="off"
               oninput="filterFromCities(this.value);liveUpdateDemos()"
               onfocus="showFromDropdown()"
               onblur="setTimeout(hideFromDropdown,200)"
               style="background:rgba(245,237,214,.06);border:1px solid rgba(200,169,110,.2);border-radius:2px;padding:.78rem 1rem;color:var(--sand);font-family:'DM Sans',sans-serif;font-size:.88rem;outline:none;transition:border-color .3s;width:100%;-webkit-appearance:none"/>
        <div id="from-dropdown" style="display:none;position:absolute;top:100%;left:0;right:0;z-index:100;background:#1a1a1a;border:1px solid rgba(200,169,110,.25);border-top:none;border-radius:0 0 4px 4px;max-height:360px;overflow-y:auto;box-shadow:0 8px 24px rgba(0,0,0,.5)"></div>
      </div>
      <div class="form-group" style="position:relative">
        <label>Destination</label>
        <input type="text" id="dest-input" placeholder="Search destination‚Ä¶" autocomplete="off"
               oninput="filterDestCities(this.value)"
               onfocus="showDestDropdown()"
               onblur="setTimeout(hideDestDropdown,200)"
               style="background:rgba(245,237,214,.06);border:1px solid rgba(200,169,110,.2);border-radius:2px;padding:.78rem 1rem;color:var(--sand);font-family:'DM Sans',sans-serif;font-size:.88rem;outline:none;transition:border-color .3s;width:100%;-webkit-appearance:none"/>
        <input type="hidden" id="dest" value=""/>
        <div id="dest-dropdown" style="display:none;position:absolute;top:100%;left:0;right:0;z-index:100;background:#1a1a1a;border:1px solid rgba(200,169,110,.25);border-top:none;border-radius:0 0 4px 4px;max-height:360px;overflow-y:auto;box-shadow:0 8px 24px rgba(0,0,0,.5)"></div>
      </div>
    </div>
    <div class="form-row three">
      <div class="form-group">
        <label>Duration</label>
        <select id="days" onchange="liveUpdateDemos();onBudgetInput()">
          <option>1 Day</option>
          <option>2 Days</option>
          <option>3 Days</option>
          <option>4 Days</option>
          <option>5 Days</option>
          <option>6 Days</option>
          <option>7 Days</option>
          <option>8 Days</option>
          <option>9 Days</option>
          <option>10 Days</option>
          <option>11 Days</option>
          <option>12 Days</option>
          <option>13 Days</option>
          <option>14 Days</option>
          <option>15 Days</option>
          <option>16 Days</option>
          <option>17 Days</option>
          <option>18 Days</option>
          <option>19 Days</option>
          <option>20 Days</option>
          <option>21 Days</option>
          <option>22 Days</option>
          <option>23 Days</option>
          <option>24 Days</option>
          <option>25 Days</option>
          <option>26 Days</option>
          <option>27 Days</option>
          <option>28 Days</option>
          <option>29 Days</option>
          <option>30 Days</option>
          <option>30+ Days</option>
        </select>
      </div>
      <div class="form-group">
        <label>Total Budget (‚Çπ)</label>
        <input type="number" id="budget" placeholder="e.g. 25000" oninput="onBudgetInput()"/>
      </div>
      <div class="form-group">
        <label>Travel Style</label>
        <select id="style" onchange="liveUpdateDemos();onBudgetInput()"><option>Budget Backpacker</option><option>Mid-Range Comfort</option><option>Luxury Explorer</option><option>Family Trip</option><option>Couple Getaway</option><option>Solo Adventure</option></select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label>Interests</label>
        <select id="interests"><option>History &amp; Heritage</option><option>Nature &amp; Trekking</option><option>Food &amp; Culture</option><option>Beaches &amp; Water</option><option>Spiritual &amp; Wellness</option><option>Adventure Sports</option></select>
      </div>
      <div class="form-group">
        <label>Travellers</label>
        <select id="travellers" onchange="liveUpdateDemos();onBudgetInput()"><option>1 ‚Äì Solo</option><option>2 ‚Äì Couple</option><option>3‚Äì4 ‚Äì Group</option><option>5+ ‚Äì Family</option></select>
      </div>
    </div>
    <button class="btn-plan" id="planBtn" onclick="generatePlan()">‚ú¶ Generate My MindTrip</button>

    <!-- Inline budget warning -->
    <div class="budget-inline-warn" id="budget-inline-warn">
      <span style="font-size:1.1rem;flex-shrink:0">‚ö†Ô∏è</span>
      <div id="budget-inline-warn-text"></div>
    </div>
  </div>

  <div id="results">
    <div class="result-header">
      <div><h3 id="result-title"></h3><p style="font-size:.8rem;color:var(--muted);margin-top:.3rem" id="result-meta"></p></div>
      <div class="budget-badge" id="result-badge"></div>
    </div>
    <div class="itinerary-days" id="itinerary"></div>
    <div class="budget-breakdown" id="budget-breakdown"></div>
    <div class="budget-bars" id="budget-bars"></div>
    <div class="hotels-section">
      <h4>Recommended Stays</h4>
      <div class="hotels-grid" id="hotels-grid"></div>
    </div>
  </div>
</section>

<!-- FEATURES -->
<section class="features" id="features">
  <div class="section-label">‚ú¶ Platform Features</div>
  <h2 class="sec-title">Everything you need,<br/>nothing you don't.</h2>
  <p id="features-subtitle" style="font-size:.85rem;color:rgba(245,237,214,.4);margin-bottom:2rem;max-width:520px">Fill in the planner above and all demos below will automatically update to show your exact trip details.</p>
  <div class="features-grid">

    <!-- 1: AI Itinerary -->
    <div class="feature-card" id="fc-ai">
      <span class="feature-icon">üß†</span>
      <h3>AI Itinerary Engine</h3>
      <p>Smart day-wise plans tailored to your style, pace, season & budget. Zero generic templates ‚Äî every trip is unique.</p>
      <button class="feature-demo-btn" onclick="toggleDemo('ai')">Try demo ‚Üí</button>
      <div class="feature-demo" id="demo-ai">
        <div style="font-size:.7rem;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);margin-bottom:.8rem">AI generating itinerary‚Ä¶</div>
        <div class="ai-demo-output" id="ai-demo-lines"></div>
        <button onclick="runAIDemo()" style="margin-top:.8rem;font-size:.7rem;letter-spacing:.1em;text-transform:uppercase;color:var(--saffron);background:none;border:none;cursor:pointer;font-family:'DM Sans',sans-serif">‚Ü∫ Regenerate</button>
      </div>
    </div>

    <!-- 2: Budget Tracker -->
    <div class="feature-card" id="fc-budget">
      <span class="feature-icon">‚Çπ</span>
      <h3>Live Budget Tracker</h3>
      <p>Day-wise expense breakdown with visual charts. Know every rupee ‚Äî accommodation, food, transport, activities.</p>
      <button class="feature-demo-btn" onclick="toggleDemo('budget')">See demo ‚Üí</button>
      <div class="feature-demo" id="demo-budget">
        <div style="font-size:.7rem;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);margin-bottom:.8rem" id="budget-demo-label">Fill the planner above to see your budget breakdown</div>
        <div class="pie-wrap">
          <svg width="90" height="90" viewBox="0 0 36 36" style="transform:rotate(-90deg)">
            <circle cx="18" cy="18" r="15.9" fill="none" stroke="rgba(245,237,214,.06)" stroke-width="3"/>
            <circle id="pie-stay" cx="18" cy="18" r="15.9" fill="none" stroke="#C8A96E" stroke-width="3" stroke-dasharray="40 60" stroke-dashoffset="0"/>
            <circle id="pie-food" cx="18" cy="18" r="15.9" fill="none" stroke="#FF6B35" stroke-width="3" stroke-dasharray="25 75" stroke-dashoffset="-40"/>
            <circle id="pie-transport" cx="18" cy="18" r="15.9" fill="none" stroke="#5B9BD5" stroke-width="3" stroke-dasharray="20 80" stroke-dashoffset="-65"/>
            <circle id="pie-activity" cx="18" cy="18" r="15.9" fill="none" stroke="#4CAF7D" stroke-width="3" stroke-dasharray="15 85" stroke-dashoffset="-85"/>
          </svg>
          <div class="pie-legend" id="budget-demo-legend">
            <div class="legend-row"><div class="legend-dot" style="background:#C8A96E"></div><span id="leg-stay">Accommodation ‚Äî 40%</span></div>
            <div class="legend-row"><div class="legend-dot" style="background:#FF6B35"></div><span id="leg-food">Food ‚Äî 25%</span></div>
            <div class="legend-row"><div class="legend-dot" style="background:#5B9BD5"></div><span id="leg-transport">Transport ‚Äî 20%</span></div>
            <div class="legend-row"><div class="legend-dot" style="background:#4CAF7D"></div><span id="leg-activity">Activities ‚Äî 15%</span></div>
          </div>
        </div>
      </div>
    </div>

    <!-- 3: Curated Stays -->
    <div class="feature-card" id="fc-stays">
      <span class="feature-icon">üè®</span>
      <h3>Curated Stays</h3>
      <p>Heritage havelis to boutique homestays ‚Äî matched to your budget with live pricing across India.</p>
      <button class="feature-demo-btn" onclick="toggleDemo('stays')">See demo ‚Üí</button>
      <div class="feature-demo" id="demo-stays">
        <div style="font-size:.7rem;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);margin-bottom:.8rem" id="stays-demo-label">Plan a trip above to see curated stays</div>
        <div style="display:flex;flex-direction:column;gap:.6rem" id="stays-demo-list">
          <div class="hotel-card" style="margin:0">
            <div class="hotel-name">Zostel Jaipur</div><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
            <div class="hotel-meta">Hostel ¬∑ 0.3km from City Centre</div>
            <div class="hotel-price">‚Çπ600/night</div>
            <div class="hotel-best-badge">‚ú¶ Best Value</div>
            <div class="hotel-book-row">
              <a class="book-btn book-mmt" href="https://www.makemytrip.com/hotels/hotel-listing/?city=Jaipur&searchText=Zostel+Jaipur" target="_blank">üè® MakeMyTrip</a>
              <a class="book-btn book-bdc" href="https://www.booking.com/search.html?ss=Zostel+Jaipur" target="_blank">üåê Booking.com</a>
            </div>
          </div>
          <div class="hotel-card" style="margin:0">
            <div class="hotel-name">Alsisar Haveli</div><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
            <div class="hotel-meta">Heritage Boutique ¬∑ Near Hawa Mahal</div>
            <div class="hotel-price">‚Çπ7,500/night</div>
            <div class="hotel-book-row">
              <a class="book-btn book-mmt" href="https://www.makemytrip.com/hotels/hotel-listing/?city=Jaipur&searchText=Alsisar+Haveli" target="_blank">üè® MakeMyTrip</a>
              <a class="book-btn book-bdc" href="https://www.booking.com/search.html?ss=Alsisar+Haveli+Jaipur" target="_blank">üåê Booking.com</a>
            </div>
          </div>
          <div class="hotel-card" style="margin:0">
            <div class="hotel-name">Rambagh Palace</div><div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <div class="hotel-meta">Luxury ¬∑ Taj Hotels</div>
            <div class="hotel-price">‚Çπ35,000/night</div>
            <div class="hotel-book-row">
              <a class="book-btn book-mmt" href="https://www.makemytrip.com/hotels/hotel-listing/?city=Jaipur&searchText=Rambagh+Palace" target="_blank">üè® MakeMyTrip</a>
              <a class="book-btn book-bdc" href="https://www.booking.com/search.html?ss=Rambagh+Palace+Jaipur" target="_blank">üåê Booking.com</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 4: Weather -->
    <div class="feature-card" id="fc-weather">
      <span class="feature-icon">üå¶Ô∏è</span>
      <h3>Weather-Aware Plans</h3>
      <p>Real-time weather conditions automatically adjust your itinerary ‚Äî no monsoon surprises, ever.</p>
      <button class="feature-demo-btn" onclick="toggleDemo('weather')">See demo ‚Üí</button>
      <div class="feature-demo" id="demo-weather">
        <div class="weather-cards-demo" id="weather-demo-cards">
          <div class="w-card"><div class="temp">28¬∞C</div><div class="city" id="wc1-city">Jaipur</div><div class="cond">‚òÄÔ∏è Clear, Sunny</div></div>
          <div class="w-card"><div class="temp">14¬∞C</div><div class="city">Manali</div><div class="cond">‚ùÑÔ∏è Snowfall</div></div>
          <div class="w-card"><div class="temp">31¬∞C</div><div class="city">Goa</div><div class="cond">üåä Humid, Breezy</div></div>
        </div>
        <p style="font-size:.72rem;color:rgba(245,237,214,.45);margin-top:.8rem" id="weather-demo-tip">‚ö° Plans auto-adjust: indoor attractions prioritised during rain</p>
      </div>
    </div>

    <!-- 5: Transport -->
    <div class="feature-card" id="fc-transport">
      <span class="feature-icon">üöÜ</span>
      <h3>Transport Routing</h3>
      <p>Best routes by train, bus, or flight between Indian cities ‚Äî with live cost estimates per traveller.</p>
      <button class="feature-demo-btn" onclick="toggleDemo('transport')">See demo ‚Üí</button>
      <div class="feature-demo" id="demo-transport">
        <div style="font-size:.7rem;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);margin-bottom:.8rem" id="transport-demo-label">Mumbai ‚Üí Jaipur</div>
        <div id="transport-demo-routes">
          <div class="route-line"><div class="route-dot"></div><div class="route-dash"></div><span class="route-info">‚úàÔ∏è IndiGo 6E-504 ¬∑ 1h 45m</span><span class="route-cost">‚Çπ3,200</span></div>
          <div class="route-line"><div class="route-dot" style="background:#5B9BD5"></div><div class="route-dash"></div><span class="route-info">üöÜ Rajdhani Express ¬∑ 17h</span><span class="route-cost">‚Çπ1,100</span></div>
          <div class="route-line"><div class="route-dot" style="background:#4CAF7D"></div><div class="route-dash"></div><span class="route-info">üöå Volvo Bus ¬∑ 20h</span><span class="route-cost">‚Çπ700</span></div>
        </div>
        <p style="font-size:.7rem;color:rgba(245,237,214,.4);margin-top:.5rem" id="transport-demo-note">Showing cheapest to fastest ‚Äî 1 traveller</p>
      </div>
    </div>

    <!-- 6: Export -->
    <div class="feature-card" id="fc-export">
      <span class="feature-icon">üì±</span>
      <h3>Export & Share</h3>
      <p>Download your itinerary as PDF, share a trip link, or send to WhatsApp. Fully offline-capable.</p>
      <button class="feature-demo-btn" onclick="toggleDemo('export')">See demo ‚Üí</button>
      <div class="feature-demo" id="demo-export">
        <div class="export-btns">
          <button class="export-btn" onclick="demoExportPDF()">üìÑ Download PDF</button>
          <button class="export-btn" onclick="demoShareLink()">üîó Copy Link</button>
          <button class="export-btn" onclick="demoWhatsApp()">üí¨ WhatsApp</button>
        </div>
        <div class="export-preview" id="export-preview-msg" style="display:none"></div>
      </div>
    </div>

  </div><!-- /features-grid -->
</section>

<!-- AI TRAVEL ENGINE -->
<section class="ml-section" id="ml">
  <div class="section-label">‚ú¶ AI Recommendation Engine</div>
  <h2 class="sec-title" style="margin-bottom:.6rem">Discover Your<br/><em style="font-style:italic;color:var(--saffron)">Perfect Travel Style</em></h2>
  <p style="font-size:.88rem;color:rgba(245,237,214,.4);margin-bottom:2.5rem;max-width:560px">Tell us your preferences and our smart engine will find the travel style made just for you ‚Äî from beach retreats to mountain adventures.</p>

  <div class="ml-card">
    <div class="ml-header" style="margin-bottom:1.5rem">
      <div>
        <p style="font-size:.92rem;line-height:1.8;color:rgba(245,237,214,.55);max-width:560px">
          Simply adjust the sliders and dropdowns below to match your travel preferences. We'll instantly suggest the perfect trip style for you. ‚ú®
        </p>
      </div>
    </div>

    <!-- Input Form ‚Äî 9 features matching trained model -->
    <div class="ml-form">

      <div class="ml-form-group">
        <label>Destination Type <span id="lv-dest-type">Hills</span></label>
        <select id="ai-dest-type" onchange="updateLabel('lv-dest-type',['Beach','Hill / Mountain','City / Urban','Adventure / Trek','Religious / Spiritual','Nature / Wildlife','Desert'],this.value);updateLiveSuggestions()">
          <option value="0">üèñÔ∏è Beach</option>
          <option value="1" selected>üèîÔ∏è Hill / Mountain</option>
          <option value="2">üèôÔ∏è City / Urban</option>
          <option value="3">‚õ∫ Adventure / Trek</option>
          <option value="4">üïå Religious / Spiritual</option>
          <option value="5">üåø Nature / Wildlife</option>
          <option value="6">üèúÔ∏è Desert</option>
        </select>
      </div>

      <div class="ml-form-group">
        <label>Daily Budget (‚Çπ) <span id="lv-budget">‚Çπ2,500/day</span></label>
        <input type="range" id="ai-budget" min="1000" max="18000" step="500" value="2500"
               oninput="document.getElementById('lv-budget').textContent='‚Çπ'+Number(this.value).toLocaleString('en-IN')+'/day';updateLiveSuggestions()"/>
      </div>

      <div class="ml-form-group">
        <label>Season <span id="lv-season">Winter</span></label>
        <select id="ai-season" onchange="updateLabel('lv-season',['Winter (Oct‚ÄìFeb)','Summer (Mar‚ÄìJun)','Monsoon (Jul‚ÄìSep)','All Year'],this.value);updateLiveSuggestions()">
          <option value="0" selected>‚ùÑÔ∏è Winter (Oct‚ÄìFeb)</option>
          <option value="1">‚òÄÔ∏è Summer (Mar‚ÄìJun)</option>
          <option value="2">üåßÔ∏è Monsoon (Jul‚ÄìSep)</option>
          <option value="3">üóìÔ∏è Any Season</option>
        </select>
      </div>

      <div class="ml-form-group">
        <label>Trip Duration <span id="lv-duration">4 days</span></label>
        <input type="range" id="ai-duration" min="2" max="14" step="1" value="4"
               oninput="document.getElementById('lv-duration').textContent=this.value+' day'+(this.value>1?'s':'');updateLiveSuggestions()"/>
      </div>

      <div class="ml-form-group">
        <label>Crowd Preference <span id="lv-crowd">Moderate</span></label>
        <input type="range" id="ai-crowd" min="1" max="5" step="1" value="3"
               oninput="updateLabel('lv-crowd',['Very Quiet','Quiet','Moderate','Lively','Very Crowded'],this.value-1);updateLiveSuggestions()"/>
      </div>

      <div class="ml-form-group">
        <label>Safety Priority <span id="lv-safety">High</span></label>
        <input type="range" id="ai-safety" min="3" max="5" step="1" value="4"
               oninput="updateLabel('lv-safety',['Medium','High','Very High'],this.value-3);updateLiveSuggestions()"/>
      </div>

      <div class="ml-form-group">
        <label>Adventure Level <span id="lv-adventure">Moderate</span></label>
        <input type="range" id="ai-adventure" min="1" max="5" step="1" value="3"
               oninput="updateLabel('lv-adventure',['None','Low','Moderate','High','Extreme'],this.value-1);updateLiveSuggestions()"/>
      </div>

      <div class="ml-form-group">
        <label>Comfort / Luxury <span id="lv-luxury">Mid-Range</span></label>
        <input type="range" id="ai-luxury" min="1" max="5" step="1" value="3"
               oninput="updateLabel('lv-luxury',['Budget','Economy','Mid-Range','Premium','Ultra Luxury'],this.value-1);updateLiveSuggestions()"/>
      </div>

      <div class="ml-form-group" style="grid-column:1/-1">
        <label>Family Friendliness Need <span id="lv-family">Balanced</span></label>
        <input type="range" id="ai-family" min="1" max="5" step="1" value="3"
               oninput="updateLabel('lv-family',['Adults Only','Mostly Adults','Balanced','Family Friendly','Perfect for Kids'],this.value-1);updateLiveSuggestions()"/>
      </div>

    </div>

    <!-- Live Destination Suggestions ‚Äî updates as sliders change -->
    <div style="margin-bottom:1.5rem;padding:1.4rem 1.6rem;background:rgba(200,169,110,.04);border:1px solid rgba(200,169,110,.18);border-radius:6px">
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;flex-wrap:wrap;gap:.5rem">
        <div>
          <div style="font-size:.68rem;letter-spacing:.2em;text-transform:uppercase;color:var(--accent);margin-bottom:.2rem">‚ú¶ Destinations That Match You</div>
          <div style="font-size:.78rem;color:rgba(245,237,214,.4)" id="live-sugg-style">Move the sliders to see personalised picks</div>
        </div>
        <div id="live-sugg-badge" style="display:none;padding:.28rem .75rem;background:rgba(76,175,125,.12);border:1px solid rgba(76,175,125,.3);border-radius:2px;font-size:.65rem;letter-spacing:.1em;text-transform:uppercase;color:var(--green)"></div>
      </div>
      <div id="live-sugg-chips" style="display:flex;flex-wrap:wrap;gap:.55rem">
        <!-- chips injected by JS -->
        <span style="font-size:.8rem;color:rgba(245,237,214,.2);font-style:italic">Adjust any preference above‚Ä¶</span>
      </div>
      <div style="margin-top:.85rem;font-size:.7rem;color:rgba(245,237,214,.28)">üëÜ Tap any destination to instantly pre-fill the Trip Planner</div>
    </div>

    <button class="btn-predict" id="predictBtn" onclick="runAIPredict()">
      <span id="predict-btn-text">‚ú® Find My Travel Style</span>
    </button>

    <div class="ai-thinking" id="ai-thinking">
      <div class="ai-dot"></div><div class="ai-dot"></div><div class="ai-dot"></div>
      <span style="font-size:.78rem;color:rgba(245,237,214,.4);letter-spacing:.08em">Finding your perfect travel style‚Ä¶</span>
    </div>

    <!-- Result Panel -->
    <div id="ml-result">

      <!-- Hero Prediction -->
      <div class="ai-result-hero">
        <div class="pred-main">
          <div class="pred-style" id="pred-style-text"></div>
          <div class="pred-conf" id="pred-conf-badge"></div>
        </div>
        <p class="pred-desc" id="pred-desc"></p>
        <p class="pred-reason" id="pred-reason"></p>
      </div>

      <!-- Match scores per style -->
      <div style="margin-bottom:.6rem">
        <div style="font-size:.68rem;text-transform:uppercase;letter-spacing:.15em;color:var(--muted);margin-bottom:.8rem">How Well Each Style Fits You</div>
        <div class="conf-breakdown" id="conf-breakdown"></div>
      </div>

      <!-- Suggested Destinations -->
      <div style="margin-top:1.2rem">
        <div style="font-size:.68rem;text-transform:uppercase;letter-spacing:.15em;color:var(--muted);margin-bottom:.6rem">‚ú® Top Destinations for Your Style</div>
        <div class="sugg-row" id="sugg-row"></div>
      </div>

      <!-- Itinerary CTA -->
      <div style="margin-top:1.5rem;padding:1rem 1.2rem;background:rgba(255,107,53,.05);border:1px solid rgba(255,107,53,.2);border-radius:4px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:.8rem">
        <div>
          <div style="font-size:.82rem;color:rgba(245,237,214,.7)">Ready to plan?</div>
          <div style="font-size:.72rem;color:rgba(245,237,214,.35);margin-top:.2rem">AI will pre-fill your planner with the predicted travel style</div>
        </div>
        <button onclick="applyAIPrediction()" style="padding:.65rem 1.4rem;background:var(--saffron);color:#fff;border:none;border-radius:2px;font-family:'DM Sans',sans-serif;font-size:.78rem;letter-spacing:.1em;text-transform:uppercase;cursor:pointer;transition:background .3s" onmouseover="this.style.background='#e55a25'" onmouseout="this.style.background='var(--saffron)'">Generate My Trip ‚Üí</button>
      </div>

    </div><!-- /ml-result -->
  </div><!-- /ml-card -->
</section>

<!-- EXPLORE INDIA -->
<section class="explore" id="explore">
  <div class="section-label">‚ú¶ Explore India</div>
  <h2 class="sec-title">36 states.<br/>Every corner covered.</h2>
  <div class="explore-filters">
    <button class="filter-btn active" onclick="filterStates('all',this)">All India</button>
    <button class="filter-btn" onclick="filterStates('hills',this)">üèîÔ∏è Hills</button>
    <button class="filter-btn" onclick="filterStates('beach',this)">üèñÔ∏è Beaches</button>
    <button class="filter-btn" onclick="filterStates('heritage',this)">üèõÔ∏è Heritage</button>
    <button class="filter-btn" onclick="filterStates('nature',this)">üåø Nature</button>
    <button class="filter-btn" onclick="filterStates('spiritual',this)">üïå Spiritual</button>
  </div>
  <div style="margin-bottom:2rem;position:relative">
    <input type="text" id="state-search" oninput="searchStates(this.value)" placeholder="Search any state or region‚Ä¶" style="width:100%;background:rgba(245,237,214,.05);border:1px solid rgba(200,169,110,.2);border-radius:2px;padding:.8rem 1rem .8rem 2.5rem;color:var(--sand);font-family:'DM Sans',sans-serif;font-size:.88rem;outline:none;transition:border-color .3s"/>
    <span style="position:absolute;left:.9rem;top:50%;transform:translateY(-50%);color:var(--muted);font-size:.9rem">üîç</span>
  </div>
  <div class="states-grid" id="states-grid"></div>
</section>

<!-- STATE MODAL -->
<div class="state-modal-overlay" id="stateModal" onclick="closeModal(event)">
  <div class="state-modal" id="stateModalContent">
    <button class="modal-close" onclick="closeStateModal()">‚úï</button>
    <span class="modal-emoji" id="m-emoji"></span>
    <div class="modal-title" id="m-name"></div>
    <div class="modal-region" id="m-region"></div>
    <div class="modal-section">
      <div class="modal-sec-label">Top Spots</div>
      <div class="modal-spots" id="m-spots"></div>
    </div>
    <div class="modal-section">
      <div class="modal-sec-label">Quick Facts</div>
      <div class="modal-facts" id="m-facts"></div>
    </div>
    <button class="modal-cta" id="m-cta">Plan a Trip Here ‚Üí</button>
  </div>
</div>

<footer>
  <a class="logo" href="#"><span>‚ú¶</span> MindTrips</a>
  <p class="footer-note">Built for India, by India. ¬© 2025 MindTrips</p>
</footer>

  <script>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   DATA
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const MARQUEE_PLACES=["Jaipur","Varanasi","Goa","Manali","Leh","Darjeeling","Munnar","Hampi","Rishikesh","Udaipur","Mysuru","Amritsar","Ooty","Pushkar","Spiti","Coorg","Kaziranga","Andaman","Shimla","Agra","Meghalaya","Alleppey","Kodaikanal","Srinagar","Gulmarg","Khajuraho","Rann of Kutch","Tawang","Ziro","Dawki","Puri","Konark","Bodh Gaya","Hampi","Mahabalipuram","Pondicherry","Kolkata","Gangtok","Jaisalmer","Ajanta","Badami","Kochi","Varkala","Sundarbans","Pelling"];
const el=document.getElementById('marquee');
el.innerHTML=[...MARQUEE_PLACES,...MARQUEE_PLACES].map(p=>`<span class="marquee-item">${p}<span>‚ú¶</span></span>`).join('');

const HOTELS={
  "Jaipur, Rajasthan":[{name:"Zostel Jaipur",type:"Hostel",price:"‚Çπ600/night",stars:4},{name:"Pearl Palace Heritage",type:"Budget Heritage",price:"‚Çπ1,800/night",stars:4},{name:"Alsisar Haveli",type:"Heritage Boutique",price:"‚Çπ7,500/night",stars:4},{name:"Rambagh Palace",type:"Luxury",price:"‚Çπ35,000/night",stars:5}],
  "Udaipur, Rajasthan":[{name:"Zostel Udaipur",type:"Hostel",price:"‚Çπ500/night",stars:4},{name:"Hotel Badi Haveli",type:"Heritage",price:"‚Çπ2,500/night",stars:4},{name:"Taj Lake Palace",type:"Ultra-Luxury",price:"‚Çπ45,000/night",stars:5}],
  "Jodhpur, Rajasthan":[{name:"Cosy Guest House",type:"Budget",price:"‚Çπ700/night",stars:3},{name:"Pal Haveli",type:"Heritage",price:"‚Çπ4,200/night",stars:4},{name:"RAAS Jodhpur",type:"Luxury",price:"‚Çπ22,000/night",stars:5}],
  "Jaisalmer, Rajasthan":[{name:"Moustache Hostel",type:"Hostel",price:"‚Çπ450/night",stars:4},{name:"Hotel Nachana Haveli",type:"Heritage",price:"‚Çπ3,500/night",stars:4},{name:"Suryagarh",type:"Luxury",price:"‚Çπ28,000/night",stars:5}],
  "Pushkar, Rajasthan":[{name:"Zostel Pushkar",type:"Hostel",price:"‚Çπ400/night",stars:4},{name:"Inn Seventh Heaven",type:"Heritage Boutique",price:"‚Çπ4,000/night",stars:4}],
  "Goa ‚Äî North Beaches":[{name:"Mango Tree Hostel",type:"Hostel",price:"‚Çπ450/night",stars:4},{name:"Jungle by Stunn",type:"Boutique",price:"‚Çπ2,500/night",stars:4},{name:"The Leela Goa",type:"Luxury Beach",price:"‚Çπ22,000/night",stars:5}],
  "Goa ‚Äî South Beaches":[{name:"Papillon Palolem",type:"Hostel",price:"‚Çπ500/night",stars:3},{name:"Intercontinental Palolem",type:"Boutique",price:"‚Çπ5,500/night",stars:4}],
  "Goa":[{name:"Mango Tree Hostel",type:"Hostel",price:"‚Çπ450/night",stars:4},{name:"Jungle by Stunn",type:"Boutique",price:"‚Çπ2,500/night",stars:4},{name:"The Leela Goa",type:"Luxury Beach",price:"‚Çπ22,000/night",stars:5}],
  "Manali, Himachal Pradesh":[{name:"Snow Valley Hostel",type:"Hostel",price:"‚Çπ400/night",stars:4},{name:"Johnson's Hotel",type:"Heritage",price:"‚Çπ3,500/night",stars:4},{name:"The Himalayan",type:"Luxury",price:"‚Çπ18,000/night",stars:5}],
  "Shimla, Himachal Pradesh":[{name:"Backpacker Panda Shimla",type:"Hostel",price:"‚Çπ550/night",stars:4},{name:"Hotel Willow Banks",type:"Mid-Range",price:"‚Çπ3,200/night",stars:3},{name:"Wildflower Hall Oberoi",type:"Luxury",price:"‚Çπ32,000/night",stars:5}],
  "Dharamshala, Himachal Pradesh":[{name:"Zostel Dharamshala",type:"Hostel",price:"‚Çπ380/night",stars:4},{name:"Hotel Norling",type:"Budget",price:"‚Çπ1,500/night",stars:3},{name:"Chonor House",type:"Heritage",price:"‚Çπ8,000/night",stars:4}],
  "Kasol, Himachal Pradesh":[{name:"Kasol Riverside Camp",type:"Camp",price:"‚Çπ600/night",stars:3},{name:"The Kasol Escape",type:"Boutique",price:"‚Çπ2,800/night",stars:4}],
  "Spiti Valley, Himachal Pradesh":[{name:"Spiti Eco Camp",type:"Eco Camp",price:"‚Çπ1,800/night",stars:3},{name:"Kaza Mud House",type:"Homestay",price:"‚Çπ1,200/night",stars:3}],
  "Leh, Ladakh":[{name:"Hotel Ibex",type:"Budget",price:"‚Çπ2,200/night",stars:3},{name:"Manka Boutique",type:"Boutique",price:"‚Çπ4,500/night",stars:4},{name:"Grand Dragon Ladakh",type:"Luxury",price:"‚Çπ12,000/night",stars:5}],
  "Nubra Valley, Ladakh":[{name:"Desert Himalaya Camp",type:"Desert Camp",price:"‚Çπ3,500/night",stars:4},{name:"Maitreya Hotel",type:"Budget",price:"‚Çπ2,000/night",stars:3}],
  "Pangong Lake, Ladakh":[{name:"Pangong Retreat Camp",type:"Lakeside Camp",price:"‚Çπ4,500/night",stars:4},{name:"Nomadic Life Camp",type:"Eco Camp",price:"‚Çπ3,000/night",stars:3}],
  "Srinagar, Jammu & Kashmir":[{name:"Houseboat New Hope",type:"Dal Lake Houseboat",price:"‚Çπ3,500/night",stars:4},{name:"Vivanta Dal View",type:"Luxury",price:"‚Çπ18,000/night",stars:5},{name:"Lalit Grand Palace",type:"Heritage Luxury",price:"‚Çπ25,000/night",stars:5}],
  "Gulmarg, Jammu & Kashmir":[{name:"Snow Leopard Retreat",type:"Boutique",price:"‚Çπ5,500/night",stars:4},{name:"Khyber Himalayan Resort",type:"Luxury",price:"‚Çπ22,000/night",stars:5}],
  "Pahalgam, Jammu & Kashmir":[{name:"Pine View Lodge",type:"Budget",price:"‚Çπ1,800/night",stars:3},{name:"The Heevan Resort",type:"Luxury",price:"‚Çπ12,000/night",stars:5}],
  "Rishikesh, Uttarakhand":[{name:"Zostel Rishikesh",type:"Hostel",price:"‚Çπ350/night",stars:4},{name:"Aloha on the Ganges",type:"Boutique",price:"‚Çπ4,000/night",stars:4},{name:"Ananda in the Himalayas",type:"Luxury Spa",price:"‚Çπ40,000/night",stars:5}],
  "Haridwar, Uttarakhand":[{name:"Ganga Kinare",type:"Mid-Range",price:"‚Çπ2,800/night",stars:4},{name:"Haveli Hari Ganga",type:"Heritage",price:"‚Çπ6,500/night",stars:4}],
  "Mussoorie, Uttarakhand":[{name:"Hackman's Hotel",type:"Heritage",price:"‚Çπ2,800/night",stars:3},{name:"Savoy Mussoorie Mayfair",type:"Heritage Luxury",price:"‚Çπ12,000/night",stars:5}],
  "Nainital, Uttarakhand":[{name:"KMVN Rest House",type:"Budget",price:"‚Çπ1,200/night",stars:3},{name:"Palace Belvedere",type:"Heritage",price:"‚Çπ4,500/night",stars:4},{name:"Manu Maharani",type:"Luxury",price:"‚Çπ9,000/night",stars:5}],
  "Jim Corbett, Uttarakhand":[{name:"Corbett Riverside Resort",type:"Eco Resort",price:"‚Çπ5,000/night",stars:4},{name:"Taj Corbett Resort",type:"Luxury",price:"‚Çπ28,000/night",stars:5}],
  "Varanasi, Uttar Pradesh":[{name:"Stops Hostel",type:"Hostel",price:"‚Çπ300/night",stars:4},{name:"Hotel Ganges View",type:"Mid-Range",price:"‚Çπ3,000/night",stars:4},{name:"BrijRama Palace",type:"Heritage Palace",price:"‚Çπ14,000/night",stars:5}],
  "Agra, Uttar Pradesh":[{name:"Zostel Agra",type:"Hostel",price:"‚Çπ400/night",stars:4},{name:"Crystal Sarovar Premiere",type:"Mid-Range",price:"‚Çπ3,800/night",stars:4},{name:"Oberoi Amarvilas (Taj View)",type:"Ultra-Luxury",price:"‚Çπ55,000/night",stars:5}],
  "Lucknow, Uttar Pradesh":[{name:"Treebo Lucknow",type:"Budget",price:"‚Çπ1,200/night",stars:3},{name:"Piccadily Hotel",type:"Mid-Range",price:"‚Çπ3,500/night",stars:4},{name:"Taj Mahal Lucknow",type:"Luxury",price:"‚Çπ18,000/night",stars:5}],
  "Mathura, Uttar Pradesh":[{name:"Hotel Brijwasi Royal",type:"Budget",price:"‚Çπ1,000/night",stars:3},{name:"Radha Ashok Hotel",type:"Mid-Range",price:"‚Çπ2,500/night",stars:3}],
  "Ayodhya, Uttar Pradesh":[{name:"Hotel Saket",type:"Budget",price:"‚Çπ1,200/night",stars:3},{name:"Ayodhya Hotel",type:"Mid-Range",price:"‚Çπ3,000/night",stars:3}],
  "Khajuraho, Madhya Pradesh":[{name:"Hotel Payal",type:"Budget",price:"‚Çπ1,200/night",stars:3},{name:"Ken River Lodge",type:"Boutique",price:"‚Çπ6,000/night",stars:4},{name:"Radisson Jass Khajuraho",type:"Luxury",price:"‚Çπ12,000/night",stars:5}],
  "Kanha, Madhya Pradesh":[{name:"Kanha Village Camp",type:"Eco Camp",price:"‚Çπ4,500/night",stars:4},{name:"Pugmark Kanha",type:"Resort",price:"‚Çπ9,000/night",stars:4}],
  "Bandhavgarh, Madhya Pradesh":[{name:"Kings Lodge",type:"Eco Resort",price:"‚Çπ8,000/night",stars:4},{name:"Samode Safari Lodge",type:"Luxury",price:"‚Çπ35,000/night",stars:5}],
  "Orchha, Madhya Pradesh":[{name:"Betwa Retreat",type:"Eco Resort",price:"‚Çπ3,500/night",stars:4},{name:"Hotel Sheesh Mahal",type:"Heritage",price:"‚Çπ5,500/night",stars:4}],
  "Munnar, Kerala":[{name:"Zostel Munnar",type:"Hostel",price:"‚Çπ400/night",stars:4},{name:"Windermere Estate",type:"Plantation Stay",price:"‚Çπ8,000/night",stars:4},{name:"Tea County Resort",type:"Resort",price:"‚Çπ5,500/night",stars:4}],
  "Alleppey, Kerala":[{name:"Zostel Alleppey",type:"Hostel",price:"‚Çπ450/night",stars:4},{name:"Punnamada Backwater Houseboat",type:"Houseboat",price:"‚Çπ6,000/night",stars:4},{name:"Taj Kumarakom",type:"Luxury",price:"‚Çπ28,000/night",stars:5}],
  "Wayanad, Kerala":[{name:"Zostel Wayanad",type:"Hostel",price:"‚Çπ500/night",stars:4},{name:"Vythiri Resort",type:"Jungle Resort",price:"‚Çπ9,000/night",stars:4}],
  "Kochi, Kerala":[{name:"Old Harbour Hotel",type:"Heritage",price:"‚Çπ5,500/night",stars:4},{name:"Brunton Boatyard",type:"Luxury Heritage",price:"‚Çπ18,000/night",stars:5}],
  "Kovalam, Kerala":[{name:"Zostel Kovalam",type:"Hostel",price:"‚Çπ400/night",stars:4},{name:"Leela Kovalam",type:"Luxury",price:"‚Çπ22,000/night",stars:5}],
  "Thekkady, Kerala":[{name:"Spice Village CGH Earth",type:"Eco Luxury",price:"‚Çπ14,000/night",stars:5},{name:"Hotel Lake Palace",type:"Mid-Range",price:"‚Çπ3,500/night",stars:4}],
  "Ooty, Tamil Nadu":[{name:"YWCA Youth Hostel",type:"Budget",price:"‚Çπ800/night",stars:3},{name:"Savoy Hotel Ooty",type:"Heritage",price:"‚Çπ5,500/night",stars:4},{name:"Taj Savoy",type:"Luxury",price:"‚Çπ15,000/night",stars:5}],
  "Madurai, Tamil Nadu":[{name:"Hotel Keerthis",type:"Budget",price:"‚Çπ900/night",stars:3},{name:"Heritage Madurai",type:"Heritage",price:"‚Çπ7,000/night",stars:4}],
  "Kodaikanal, Tamil Nadu":[{name:"Carlton Hotel",type:"Heritage",price:"‚Çπ4,500/night",stars:4},{name:"Tamara Kodai",type:"Luxury",price:"‚Çπ18,000/night",stars:5}],
  "Pondicherry":[{name:"Park Guest House",type:"Budget",price:"‚Çπ1,200/night",stars:3},{name:"Palais de Mahe",type:"Boutique",price:"‚Çπ6,500/night",stars:4},{name:"Le Dupleix",type:"Heritage Luxury",price:"‚Çπ18,000/night",stars:5}],
  "Mahabalipuram, Tamil Nadu":[{name:"Sterling Mahabalipuram",type:"Resort",price:"‚Çπ4,800/night",stars:4},{name:"Radisson Blu",type:"Luxury",price:"‚Çπ10,000/night",stars:5}],
  "Coorg, Karnataka":[{name:"Coorg Cliffs Resort",type:"Resort",price:"‚Çπ4,500/night",stars:4},{name:"The Tamara Coorg",type:"Luxury",price:"‚Çπ22,000/night",stars:5}],
  "Hampi, Karnataka":[{name:"Kishkinda Trust",type:"Eco Stay",price:"‚Çπ1,800/night",stars:3},{name:"Evolve Back Hampi",type:"Luxury",price:"‚Çπ28,000/night",stars:5}],
  "Mysuru, Karnataka":[{name:"Hotel Dasaprakash",type:"Budget",price:"‚Çπ1,500/night",stars:3},{name:"Windflower Resort",type:"Resort",price:"‚Çπ5,500/night",stars:4},{name:"Lalitha Mahal Palace",type:"Heritage Luxury",price:"‚Çπ18,000/night",stars:5}],
  "Gokarna, Karnataka":[{name:"Zostel Gokarna",type:"Hostel",price:"‚Çπ550/night",stars:4},{name:"SwaSwara",type:"Wellness Luxury",price:"‚Çπ28,000/night",stars:5}],
  "Hyderabad, Telangana":[{name:"Zostel Hyderabad",type:"Hostel",price:"‚Çπ450/night",stars:4},{name:"Golkonda Resort",type:"Mid-Range",price:"‚Çπ4,200/night",stars:4},{name:"Taj Falaknuma Palace",type:"Ultra-Luxury Heritage",price:"‚Çπ45,000/night",stars:5}],
  "Ahmedabad, Gujarat":[{name:"Hotel Comfort Inn",type:"Budget",price:"‚Çπ1,400/night",stars:3},{name:"House of MG",type:"Heritage",price:"‚Çπ8,000/night",stars:4},{name:"Hyatt Regency Ahmedabad",type:"Luxury",price:"‚Çπ12,000/night",stars:5}],
  "Rann of Kutch, Gujarat":[{name:"Tent City Rann",type:"Luxury Tent",price:"‚Çπ8,000/night",stars:4},{name:"Rann Utsav Camp",type:"Heritage Camp",price:"‚Çπ12,000/night",stars:5}],
  "Sasan Gir, Gujarat":[{name:"Gir Birding Lodge",type:"Eco Lodge",price:"‚Çπ4,500/night",stars:4},{name:"Taj Exotica Gir",type:"Luxury",price:"‚Çπ22,000/night",stars:5}],
  "Mumbai, Maharashtra":[{name:"Zostel Mumbai",type:"Hostel",price:"‚Çπ650/night",stars:4},{name:"Gordon House Hotel",type:"Boutique",price:"‚Çπ6,000/night",stars:4},{name:"The Taj Mahal Palace",type:"Ultra-Luxury Heritage",price:"‚Çπ55,000/night",stars:5}],
  "Lonavala, Maharashtra":[{name:"Fariyas Resort",type:"Resort",price:"‚Çπ4,500/night",stars:4},{name:"The Machan",type:"Treehouse Luxury",price:"‚Çπ22,000/night",stars:5}],
  "Mahabaleshwar, Maharashtra":[{name:"MTDC Resort",type:"Budget",price:"‚Çπ2,200/night",stars:3},{name:"Brightland Resort",type:"Mid-Range",price:"‚Çπ5,500/night",stars:4}],
  "Darjeeling, West Bengal":[{name:"Zostel Darjeeling",type:"Hostel",price:"‚Çπ500/night",stars:4},{name:"Windamere Hotel",type:"Heritage",price:"‚Çπ7,000/night",stars:4},{name:"Glenburn Tea Estate",type:"Boutique Luxury",price:"‚Çπ18,000/night",stars:5}],
  "Kolkata, West Bengal":[{name:"Backpacker's Inn Kolkata",type:"Hostel",price:"‚Çπ550/night",stars:4},{name:"Tollygunge Club",type:"Heritage",price:"‚Çπ6,500/night",stars:4},{name:"ITC Royal Bengal",type:"Luxury",price:"‚Çπ20,000/night",stars:5}],
  "Sundarbans, West Bengal":[{name:"Sunderban Jungle Camp",type:"Eco Camp",price:"‚Çπ4,500/night",stars:4},{name:"Sajnekhali Tourist Lodge",type:"Budget",price:"‚Çπ1,800/night",stars:3}],
  "Kaziranga, Assam":[{name:"Infinity Resort Kaziranga",type:"Eco Resort",price:"‚Çπ5,500/night",stars:4},{name:"Diphlu River Lodge",type:"Boutique Eco",price:"‚Çπ12,000/night",stars:5}],
  "Shillong, Meghalaya":[{name:"Tripura Castle",type:"Heritage",price:"‚Çπ3,500/night",stars:4},{name:"Hotel Polo Towers",type:"Mid-Range",price:"‚Çπ4,200/night",stars:4}],
  "Cherrapunji, Meghalaya":[{name:"Cherrapunjee Holiday Resort",type:"Resort",price:"‚Çπ3,800/night",stars:4},{name:"La Villa Bethany",type:"Boutique",price:"‚Çπ5,000/night",stars:4}],
  "Gangtok, Sikkim":[{name:"Youth Hostel Gangtok",type:"Hostel",price:"‚Çπ500/night",stars:3},{name:"Elgin Nor-Khill",type:"Heritage",price:"‚Çπ6,000/night",stars:4},{name:"Denzong Regency",type:"Mid-Range",price:"‚Çπ3,800/night",stars:4}],
  "Pelling, Sikkim":[{name:"Norbu Ghang Resort",type:"Resort",price:"‚Çπ4,500/night",stars:4},{name:"The Elgin Mount Pandim",type:"Heritage",price:"‚Çπ8,500/night",stars:4}],
  "Tawang, Arunachal Pradesh":[{name:"Hotel Tawang Palace",type:"Budget",price:"‚Çπ1,500/night",stars:3},{name:"Pemaling Retreat",type:"Mid-Range",price:"‚Çπ3,200/night",stars:3}],
  "Port Blair, Andaman Islands":[{name:"TSG Emerald View",type:"Budget",price:"‚Çπ2,200/night",stars:3},{name:"Fortune Resort Bay Island",type:"Luxury",price:"‚Çπ12,000/night",stars:5}],
  "Havelock Island, Andaman":[{name:"Symphony Palms Beach Resort",type:"Resort",price:"‚Çπ5,500/night",stars:4},{name:"Barefoot at Havelock",type:"Eco Luxury",price:"‚Çπ22,000/night",stars:5}],
  "Bodh Gaya, Bihar":[{name:"Sujata Hotel",type:"Budget",price:"‚Çπ900/night",stars:3},{name:"Hotel Lotus Nikko",type:"Comfort",price:"‚Çπ4,500/night",stars:4}],
  "Puri, Odisha":[{name:"Youth Hostel Puri",type:"Hostel",price:"‚Çπ350/night",stars:3},{name:"Toshali Sands",type:"Resort",price:"‚Çπ4,500/night",stars:4},{name:"Mayfair Heritage",type:"Luxury",price:"‚Çπ12,000/night",stars:5}],
  "Amritsar, Punjab":[{name:"Homestay Golden Temple Area",type:"Budget",price:"‚Çπ800/night",stars:3},{name:"Hotel Mrs Bhandari",type:"Heritage",price:"‚Çπ4,500/night",stars:4},{name:"Taj Swarna",type:"Luxury",price:"‚Çπ18,000/night",stars:5}],
  "Delhi":[{name:"Zostel Delhi",type:"Hostel",price:"‚Çπ500/night",stars:4},{name:"The Imperial New Delhi",type:"Heritage Luxury",price:"‚Çπ30,000/night",stars:5},{name:"Taj Mahal Hotel Delhi",type:"Luxury",price:"‚Çπ28,000/night",stars:5}],
};
const FALLBACK_HOTELS=[{name:"OYO Flagship",type:"Budget",price:"‚Çπ1,200/night",stars:3},{name:"FabHotel Prime",type:"Mid-Range",price:"‚Çπ2,400/night",stars:3},{name:"Treebo Trend",type:"Boutique",price:"‚Çπ3,800/night",stars:4},{name:"IHCL SeleQtions",type:"Luxury",price:"‚Çπ12,000/night",stars:5}];

const ITINERARY={
  "Jaipur, Rajasthan":{"3 Days":[
    {day:"Day 1",title:"Pink City Arrival",desc:"Arrive & check in. Sunset at Nahargarh Fort with panoramic city views. Dinner at Suvarna Mahal, Rambagh Palace. Evening stroll on MI Road."},
    {day:"Day 2",title:"Forts & Palaces",desc:"Amber Fort (7am sharp ‚Äî beat the crowds), Sheesh Mahal, City Palace museum, Jantar Mantar UNESCO site. Lunch at 1135 AD. Evening gems shopping at Johari Bazaar."},
    {day:"Day 3",title:"Markets & Farewell",desc:"Hawa Mahal sunrise (6am, no crowds). Jal Mahal viewpoint. Anokhi block-print workshop. Authentic Laal Maas lunch. Depart post noon."}],
  "5 Days":[
    {day:"Day 1",title:"Arrival & Old City Walk",desc:"Check in. Old City walking tour ‚Äî Badi Chaupar, street chai, Iswari Minar. Sunset at Nahargarh."},
    {day:"Day 2",title:"Amber & City Palace",desc:"Amber Fort at dawn, Sheesh Mahal, elephant ride (optional). City Palace & Jantar Mantar."},
    {day:"Day 3",title:"Ranthambore Safari",desc:"5am drive to Ranthambore for morning Zone 2/3 tiger safari. Return by evening ‚Äî wildlife photography day."},
    {day:"Day 4",title:"Art & Craft Trail",desc:"Sanganer block-print village, gem-cutting studio, blue pottery workshop. Puppet show at Bagore Ki Haveli."},
    {day:"Day 5",title:"Sunrise & Goodbye",desc:"Hawa Mahal at 6am. Johri Bazaar final shopping. Royal Rajasthani thali lunch. Depart."}]},
  "Goa":{"3 Days":[
    {day:"Day 1",title:"North Goa Beaches",desc:"Anjuna flea market, Vagator cliff views, Chapora Fort sunset. Dinner at Thalassa (Greek-Goan fusion) with sea view."},
    {day:"Day 2",title:"Heritage Old Goa",desc:"Basilica of Bom Jesus (UNESCO), Se Cathedral, Fontainhas Latin quarter. Authentic Goan fish curry at Ritz Classic."},
    {day:"Day 3",title:"South Goa Calm",desc:"Palolem beach morning yoga, Butterfly Beach by boat (30 min), Cabo de Rama Fort ruins. Departing sunset."}],
  "5 Days":[
    {day:"Day 1",title:"North Goa Arrival",desc:"Settle in, evening at Baga beach, sunset boat cruise."},
    {day:"Day 2",title:"Beach Hopping",desc:"Anjuna, Vagator, Chapora Fort. Saturday Night Bazaar at Ingo's."},
    {day:"Day 3",title:"Heritage Trail",desc:"UNESCO churches, Fontainhas, Goa Museum. Goan seafood at Vinayak."},
    {day:"Day 4",title:"South Goa Day",desc:"Palolem, Agonda, Butterfly Beach, Cola Beach ‚Äî least crowded, most serene."},
    {day:"Day 5",title:"Spice Farm & Depart",desc:"Sahakari Spice Farm tour, Dudhsagar waterfall (seasonal). Farewell feni."}]},
  "Manali, Himachal Pradesh":{"5 Days":[
    {day:"Day 1",title:"Old Manali Arrival",desc:"Mall Road stroll, Hadimba Devi Temple in deodar forest, hot springs at Vashisht village."},
    {day:"Day 2",title:"Solang Valley",desc:"Snow activities ‚Äî zorbing, skiing, ropeway at 2,480m. Organic apple orchard & fresh cider."},
    {day:"Day 3",title:"Rohtang Pass",desc:"Early 5am start (permit required). Rohtang Pass (3,978m). Snow, glaciers, panoramic Himalayan views."},
    {day:"Day 4",title:"Kullu Rafting",desc:"Grade 3‚Äì4 white-water rafting on Beas River. Kullu shawl factory, Naggar Castle art gallery."},
    {day:"Day 5",title:"Monasteries & Depart",desc:"Tibetan Buddhist Monasteries, Manu Temple. Trout fishing optional. Departure post-lunch."}]},
};

function getGenericItinerary(dest,nDays){
  const city=dest.split(',')[0];
  return Array.from({length:nDays},(_,i)=>({
    day:`Day ${i+1}`,title:`Discover ${city}`,
    desc:i===0?`Arrive in ${city}. Check in, orientation walk, local dinner.`:i===nDays-1?`Last morning ‚Äî final sights, souvenir shopping. Depart with memories.`:`Full day exploring ${city}'s hidden gems, authentic cuisine, and local culture.`
  }));
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   BUDGET WARNING SYSTEM
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

// Minimum realistic per-day budgets per person (‚Çπ) based on destination tier
const DEST_BUDGET_TIERS = {
  // Premium / expensive destinations
  'Lakshadweep':         { min: 8000, label: 'island luxury destination' },
  'Andaman':             { min: 3500, label: 'island destination' },
  'Havelock':            { min: 3500, label: 'island destination' },
  'Ladakh':              { min: 4000, label: 'high-altitude destination' },
  'Leh':                 { min: 4000, label: 'high-altitude destination' },
  'Nubra':               { min: 4000, label: 'remote destination' },
  'Pangong':             { min: 4000, label: 'remote destination' },
  'Spiti':               { min: 3500, label: 'remote mountain destination' },
  'Zanskar':             { min: 4000, label: 'remote destination' },
  'Tawang':              { min: 3000, label: 'remote Northeast destination' },
  'Valley of Flowers':   { min: 3000, label: 'trekking destination' },
  'Kashmir':             { min: 3500, label: 'destination' },
  'Srinagar':            { min: 3000, label: 'destination' },
  'Gulmarg':             { min: 4000, label: 'ski destination' },
  'Pahalgam':            { min: 3000, label: 'destination' },
  // Mid-high
  'Goa':                 { min: 2500, label: 'coastal destination' },
  'Manali':              { min: 2000, label: 'hill station' },
  'Shimla':              { min: 2000, label: 'hill station' },
  'Mussoorie':           { min: 2000, label: 'hill station' },
  'Nainital':            { min: 1800, label: 'hill station' },
  'Darjeeling':          { min: 2000, label: 'hill station' },
  'Munnar':              { min: 2000, label: 'hill station' },
  'Alleppey':            { min: 2000, label: 'backwater destination' },
  'Udaipur':             { min: 2200, label: 'heritage destination' },
  'Jaipur':              { min: 1800, label: 'heritage city' },
  'Jodhpur':             { min: 1800, label: 'heritage city' },
  'Jaisalmer':           { min: 2000, label: 'desert destination' },
  'Rishikesh':           { min: 1500, label: 'destination' },
  'Coorg':               { min: 2200, label: 'hill destination' },
  'Wayanad':             { min: 2000, label: 'hill destination' },
  // Budget-friendly defaults
  'default':             { min: 1500, label: 'destination' }
};

// Style-based multipliers
const STYLE_MULTIPLIERS = {
  'Budget Backpacker': 0.7,
  'Mid-Range Comfort': 1.0,
  'Luxury Explorer':   2.5,
  'Family Trip':       1.2,
  'Couple Getaway':    1.3,
  'Solo Adventure':    0.85
};

let toastTimer = null;

function getBudgetTier(dest) {
  const destLower = dest.toLowerCase();
  for (const [key, val] of Object.entries(DEST_BUDGET_TIERS)) {
    if (destLower.includes(key.toLowerCase())) return val;
  }
  return DEST_BUDGET_TIERS['default'];
}

function checkBudget(dest, nDays, budget, style, tCount) {
  if (!budget || budget <= 0) return null;

  const tier = getBudgetTier(dest);
  const styleMultiplier = STYLE_MULTIPLIERS[style] || 1.0;
  const minPerDayPerPerson = Math.round(tier.min * styleMultiplier);
  const minTotal = minPerDayPerPerson * nDays * tCount;
  const perDayActual = Math.round(budget / nDays / tCount);
  const shortfall = minTotal - budget;
  const city = dest.split(',')[0].trim();

  // Severity levels
  if (budget >= minTotal) return null; // All good!

  const pct = Math.round((budget / minTotal) * 100);

  if (pct < 40) {
    // Very tight ‚Äî strong warning
    return {
      level: 'critical',
      title: 'üö® Budget too low for this trip',
      msg: `‚Çπ${budget.toLocaleString('en-IN')} for ${nDays} day${nDays>1?'s':''} in ${city} works out to just <strong>‚Çπ${perDayActual.toLocaleString('en-IN')}/day per person</strong> ‚Äî well below the realistic minimum of ‚Çπ${minPerDayPerPerson.toLocaleString('en-IN')}/day for a ${style.toLowerCase()} trip here.`,
      tip: `üí° Suggested minimum: ‚Çπ${minTotal.toLocaleString('en-IN')} total (‚Çπ${shortfall.toLocaleString('en-IN')} more needed). Or try ${Math.floor(budget / (minPerDayPerPerson * tCount))} days instead.`
    };
  } else if (pct < 70) {
    // Moderately tight
    return {
      level: 'warning',
      title: '‚ö†Ô∏è Budget may feel stretched',
      msg: `‚Çπ${perDayActual.toLocaleString('en-IN')}/day per person is on the lower side for ${city}. You may need to skip some activities or eat only at local dhabas to stay within ‚Çπ${budget.toLocaleString('en-IN')}.`,
      tip: `üí° A comfortable ${style.toLowerCase()} trip here costs around ‚Çπ${minTotal.toLocaleString('en-IN')} total. Consider adding ‚Çπ${shortfall.toLocaleString('en-IN')} more.`
    };
  } else {
    // Slightly tight ‚Äî gentle nudge
    return {
      level: 'info',
      title: 'üí∞ Budget is a little snug',
      msg: `‚Çπ${perDayActual.toLocaleString('en-IN')}/day per person in ${city} is workable but leaves little buffer. Unplanned costs like entry fees or auto rides can add up quickly.`,
      tip: `üí° Adding ‚Çπ${Math.min(shortfall, 5000).toLocaleString('en-IN')}‚Äì‚Çπ${shortfall.toLocaleString('en-IN')} more would give you a comfortable buffer.`
    };
  }
}

function showBudgetToast(warning) {
  if (!warning) return;
  const toast = document.getElementById('budgetToast');
  document.getElementById('toast-title').textContent = warning.title;
  document.getElementById('toast-msg').innerHTML = warning.msg;
  document.getElementById('toast-tip').textContent = warning.tip;

  // Color the border based on severity
  const colors = { critical: 'rgba(255,80,80,.55)', warning: 'rgba(255,160,50,.45)', info: 'rgba(91,155,213,.45)' };
  toast.style.borderColor = colors[warning.level] || colors.warning;

  clearTimeout(toastTimer);
  toast.classList.add('show');
  // Auto-dismiss after 8s
  toastTimer = setTimeout(() => toast.classList.remove('show'), 8000);
}

function closeBudgetToast() {
  clearTimeout(toastTimer);
  document.getElementById('budgetToast').classList.remove('show');
}

function showInlineWarning(warning) {
  const el = document.getElementById('budget-inline-warn');
  const txt = document.getElementById('budget-inline-warn-text');
  if (!warning) {
    el.classList.remove('show');
    return;
  }
  txt.innerHTML = `<strong>${warning.title}</strong><br>${warning.msg}<br><span style="color:rgba(200,169,110,.75);font-size:.74rem">${warning.tip}</span>`;
  el.classList.add('show');
  // Scroll into view gently
  setTimeout(() => el.scrollIntoView({ behavior: 'smooth', block: 'nearest' }), 100);
}

// Live check as user types budget
function onBudgetInput() {
  liveUpdateDemos();
  const dest = document.getElementById('dest').value;
  const days = document.getElementById('days').value;
  const budget = parseInt(document.getElementById('budget').value);
  const style = document.getElementById('style').value;
  const travellers = document.getElementById('travellers').value;
  if (!dest || !budget) { document.getElementById('budget-inline-warn').classList.remove('show'); return; }
  const nDays = parseInt(days) || 30;
  const tCount = travellers.startsWith('1') ? 1 : travellers.startsWith('2') ? 2 : travellers.startsWith('3') ? 3 : 5;
  const warning = checkBudget(dest, nDays, budget, style, tCount);
  showInlineWarning(warning);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   PLANNER
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
function generatePlan(){
  const dest=document.getElementById('dest').value;
  const days=document.getElementById('days').value;
  const budget=parseInt(document.getElementById('budget').value)||20000;
  const style=document.getElementById('style').value;
  const travellers=document.getElementById('travellers').value;
  const from=document.getElementById('from').value.trim()||'Your City';
  if(!dest){alert('Please choose a destination!');return;}

  // Parse travellers count
  const tCount = travellers.startsWith('1') ? 1 : travellers.startsWith('2') ? 2 : travellers.startsWith('3') ? 3 : 5;

  // Update global trip state immediately so demos are ready
  CURRENT_TRIP = {
    from: from,
    dest: dest,
    destCity: dest.split(',')[0].trim(),
    days: days,
    nDays: parseInt(days) || 30,
    budget: budget,
    style: style,
    travellers: travellers,
    travellersCount: tCount
  };
  updateFeatureDemos();

  // Check budget and warn
  const warning = checkBudget(dest, parseInt(days) || 30, budget, style, tCount);
  showInlineWarning(warning);

  const btn=document.getElementById('planBtn');
  btn.classList.add('loading');btn.innerHTML='‚è≥ Crafting your journey‚Ä¶';
  setTimeout(()=>{
    btn.classList.remove('loading');btn.innerHTML='‚ú¶ Generate My MindTrip';
    document.getElementById('result-title').textContent=`Your Trip to ${dest.split(',')[0]}`;
    document.getElementById('result-meta').textContent=`${days} ¬∑ ${style} ¬∑ ${travellers}`;
    document.getElementById('result-badge').textContent=`‚Çπ${budget.toLocaleString('en-IN')} Budget`;

    const itinData=(ITINERARY[dest]||{})[days]||getGenericItinerary(dest,parseInt(days) || 30);
    document.getElementById('itinerary').innerHTML=itinData.map(d=>`<div class="day-card"><h4>${d.day} ‚Äî ${d.title}</h4><p>${d.desc}</p></div>`).join('');

    const nDays=parseInt(days) || 30;const perDay=Math.floor(budget/nDays);
    const acc=Math.floor(perDay*.4),food=Math.floor(perDay*.25),trans=Math.floor(perDay*.2),act=Math.floor(perDay*.15);
    document.getElementById('budget-breakdown').innerHTML=[
      {l:'Total Budget',a:`‚Çπ${budget.toLocaleString('en-IN')}`},
      {l:'Per Day',a:`‚Çπ${perDay.toLocaleString('en-IN')}`},
      {l:'Stay',a:`‚Çπ${(acc*nDays).toLocaleString('en-IN')}`},
      {l:'Food',a:`‚Çπ${(food*nDays).toLocaleString('en-IN')}`},
      {l:'Transport',a:`‚Çπ${(trans*nDays).toLocaleString('en-IN')}`},
      {l:'Activities',a:`‚Çπ${(act*nDays).toLocaleString('en-IN')}`},
    ].map(b=>`<div class="budget-item"><div class="amount">${b.a}</div><div class="label">${b.l}</div></div>`).join('');

    document.getElementById('budget-bars').innerHTML=[
      {l:'Stay',pct:40,c:'#C8A96E'},{l:'Food',pct:25,c:'#FF6B35'},{l:'Transport',pct:20,c:'#5B9BD5'},{l:'Activities',pct:15,c:'#4CAF7D'}
    ].map(b=>`<div class="budget-bar-row"><div class="budget-bar-label">${b.l}</div><div class="budget-bar-track"><div class="budget-bar-fill" style="width:0%;background:${b.c}" data-w="${b.pct}"></div></div><div class="budget-bar-val">${b.pct}%</div></div>`).join('');
    setTimeout(()=>{document.querySelectorAll('.budget-bar-fill').forEach(el=>{el.style.width=el.dataset.w+'%'})},100);

    const hotels=HOTELS[dest]||FALLBACK_HOTELS;
    const city=dest.split(',')[0].trim();
    const cityEnc=encodeURIComponent(city);
    const nDaysNum=parseInt(days) || 30;
    // Checkin = today + 7 days, checkout = checkin + nDays (for demo links)
    const cin=new Date(Date.now()+7*864e5);
    const cout=new Date(cin.getTime()+nDaysNum*864e5);
    const fmt=d=>`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}-${String(d.getDate()).padStart(2,'0')}`;
    const cinStr=fmt(cin),coutStr=fmt(cout);
    const mmtDate=d=>`${String(d.getDate()).padStart(2,'0')}/${String(d.getMonth()+1).padStart(2,'0')}/${d.getFullYear()}`;

    document.getElementById('hotels-grid').innerHTML=hotels.map((h,i)=>{
      const q=encodeURIComponent(h.name+' '+city);
      const mmtUrl=`https://www.makemytrip.com/hotels/hotel-listing/?checkin=${mmtDate(cin)}&checkout=${mmtDate(cout)}&city=${cityEnc}&searchText=${encodeURIComponent(h.name)}`;
      const bdcUrl=`https://www.booking.com/search.html?ss=${q}&checkin=${cinStr}&checkout=${coutStr}&group_adults=2`;
      const isBest=i===0;
      return `<div class="hotel-card">
        <div class="hotel-name">${h.name}</div>
        <div class="stars">${'‚òÖ'.repeat(h.stars)}${'‚òÜ'.repeat(5-h.stars)}</div>
        <div class="hotel-meta">${h.type}</div>
        <div class="hotel-price">${h.price}</div>
        ${isBest?'<div class="hotel-best-badge">‚ú¶ Best Value</div>':''}
        <div class="hotel-book-row">
          <a class="book-btn book-mmt" href="${mmtUrl}" target="_blank" rel="noopener" title="Book on MakeMyTrip">üè® MakeMyTrip</a>
          <a class="book-btn book-bdc" href="${bdcUrl}" target="_blank" rel="noopener" title="Book on Booking.com">üåê Booking.com</a>
        </div>
      </div>`;
    }).join('');

    // "View all deals" footer row
    const allMmt=`https://www.makemytrip.com/hotels/hotel-listing/?checkin=${mmtDate(cin)}&checkout=${mmtDate(cout)}&city=${cityEnc}`;
    const allBdc=`https://www.booking.com/search.html?ss=${cityEnc}&checkin=${cinStr}&checkout=${coutStr}&group_adults=2`;
    const existingViewAll=document.getElementById('hotels-view-all');
    if(existingViewAll) existingViewAll.remove();
    const viewAllDiv=document.createElement('div');
    viewAllDiv.id='hotels-view-all';
    viewAllDiv.style.cssText='margin-top:1.2rem;padding:1rem 1.2rem;background:rgba(245,237,214,.03);border:1px solid rgba(200,169,110,.1);border-radius:4px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:.8rem';
    viewAllDiv.innerHTML=`
      <span style="font-size:.78rem;color:rgba(245,237,214,.45)">Can't find the right fit?</span>
      <div style="display:flex;gap:.6rem;flex-wrap:wrap">
        <a href="${allMmt}" target="_blank" rel="noopener" style="padding:.45rem 1rem;border:1px solid rgba(220,50,50,.3);border-radius:2px;font-size:.72rem;letter-spacing:.07em;text-transform:uppercase;color:#e05050;text-decoration:none;font-family:'DM Sans',sans-serif;transition:all .25s" onmouseover="this.style.background='rgba(220,50,50,.15)'" onmouseout="this.style.background='transparent'">All on MakeMyTrip ‚Üí</a>
        <a href="${allBdc}" target="_blank" rel="noopener" style="padding:.45rem 1rem;border:1px solid rgba(0,102,204,.3);border-radius:2px;font-size:.72rem;letter-spacing:.07em;text-transform:uppercase;color:#5b9bd5;text-decoration:none;font-family:'DM Sans',sans-serif;transition:all .25s" onmouseover="this.style.background='rgba(0,102,204,.15)'" onmouseout="this.style.background='transparent'">All on Booking.com ‚Üí</a>
      </div>`;
    document.getElementById('hotels-grid').after(viewAllDiv);

    const r=document.getElementById('results');r.style.display='block';
    setTimeout(()=>r.scrollIntoView({behavior:'smooth',block:'start'}),100);
    // Show toast warning if budget is low
    if(warning) setTimeout(()=>showBudgetToast(warning), 1200);
  },1800);
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   FEATURES DEMOS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

// Global trip state ‚Äî updated whenever the planner runs
let CURRENT_TRIP = {
  from: 'Mumbai',
  dest: 'Jaipur, Rajasthan',
  destCity: 'Jaipur',
  days: '5 Days',
  nDays: 5,
  budget: 25000,
  style: 'Mid-Range Comfort',
  travellers: '1 ‚Äì Solo',
  travellersCount: 1
};

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   DESTINATION AUTOCOMPLETE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const DEST_CITIES = [
  { group:'üè∞ Rajasthan', cities:[
    {name:'Jaipur, Rajasthan',emoji:'üè∞'},{name:'Udaipur, Rajasthan',emoji:'üèØ'},
    {name:'Jodhpur, Rajasthan',emoji:'üîµ'},{name:'Jaisalmer, Rajasthan',emoji:'üèúÔ∏è'},
    {name:'Pushkar, Rajasthan',emoji:'üê™'},{name:'Bikaner, Rajasthan',emoji:'üê´'},
    {name:'Ajmer, Rajasthan',emoji:'üïå'},{name:'Ranthambore, Rajasthan',emoji:'üêØ'},
    {name:'Bundi, Rajasthan',emoji:'ü™∑'},{name:'Chittorgarh, Rajasthan',emoji:'‚öîÔ∏è'},
    {name:'Mount Abu, Rajasthan',emoji:'‚õ∞Ô∏è'},{name:'Kota, Rajasthan',emoji:'üåä'},
    {name:'Alwar, Rajasthan',emoji:'üêÜ'},{name:'Bharatpur, Rajasthan',emoji:'ü¶Ö'},
    {name:'Mandawa, Rajasthan',emoji:'üé®'},{name:'Shekhawati, Rajasthan',emoji:'üñºÔ∏è'},
    {name:'Nagaur, Rajasthan',emoji:'üè∞'},{name:'Barmer, Rajasthan',emoji:'üåµ'},
    {name:'Sawai Madhopur, Rajasthan',emoji:'üêÖ'},{name:'Nathdwara, Rajasthan',emoji:'üõï'},
    {name:'Ranakpur, Rajasthan',emoji:'üïå'},{name:'Kumbhalgarh, Rajasthan',emoji:'üè∞'},
    {name:'Osian, Rajasthan',emoji:'üèúÔ∏è'},{name:'Dungarpur, Rajasthan',emoji:'üåä'},
    {name:'Sam Sand Dunes, Rajasthan',emoji:'üê´'},{name:'Deeg, Rajasthan',emoji:'üè∞'},
    {name:'Karauli, Rajasthan',emoji:'üõï'},{name:'Abhaneri, Rajasthan',emoji:'üèõÔ∏è'},
    {name:'Deogarh, Rajasthan',emoji:'üèØ'},{name:'Tonk, Rajasthan',emoji:'üïå'},
    {name:'Jhalawar, Rajasthan',emoji:'üåä'},{name:'Banswara, Rajasthan',emoji:'üåø'},
  ]},
  { group:'üèîÔ∏è Himachal Pradesh', cities:[
    {name:'Manali, Himachal Pradesh',emoji:'üèîÔ∏è'},{name:'Shimla, Himachal Pradesh',emoji:'‚ùÑÔ∏è'},
    {name:'Dharamshala, Himachal Pradesh',emoji:'üôè'},{name:'McLeod Ganj, Himachal Pradesh',emoji:'‚ò∏Ô∏è'},
    {name:'Spiti Valley, Himachal Pradesh',emoji:'üåå'},{name:'Kasol, Himachal Pradesh',emoji:'üåø'},
    {name:'Kufri, Himachal Pradesh',emoji:'‚õ∑Ô∏è'},{name:'Dalhousie, Himachal Pradesh',emoji:'üå≤'},
    {name:'Chamba, Himachal Pradesh',emoji:'üèûÔ∏è'},{name:'Kullu, Himachal Pradesh',emoji:'üçé'},
    {name:'Bir Billing, Himachal Pradesh',emoji:'ü™Ç'},{name:'Khajjiar, Himachal Pradesh',emoji:'üå≥'},
    {name:'Kinnaur, Himachal Pradesh',emoji:'üçé'},{name:'Kalpa, Himachal Pradesh',emoji:'üèîÔ∏è'},
    {name:'Sangla Valley, Himachal Pradesh',emoji:'üå∏'},{name:'Sarahan, Himachal Pradesh',emoji:'üõï'},
    {name:'Narkanda, Himachal Pradesh',emoji:'üçé'},{name:'Chail, Himachal Pradesh',emoji:'üå≤'},
    {name:'Palampur, Himachal Pradesh',emoji:'üçµ'},{name:'Mandi, Himachal Pradesh',emoji:'üåä'},
    {name:'Tirthan Valley, Himachal Pradesh',emoji:'üé£'},{name:'Jibhi, Himachal Pradesh',emoji:'üåø'},
    {name:'Kheerganga, Himachal Pradesh',emoji:'‚ô®Ô∏è'},{name:'Lahaul Valley, Himachal Pradesh',emoji:'üèîÔ∏è'},
    {name:'Solang Valley, Himachal Pradesh',emoji:'‚õ∑Ô∏è'},{name:'Rohtang Pass, Himachal Pradesh',emoji:'‚ùÑÔ∏è'},
    {name:'Triund, Himachal Pradesh',emoji:'‚õ∫'},{name:'Prashar Lake, Himachal Pradesh',emoji:'üíß'},
    {name:'Barot, Himachal Pradesh',emoji:'üåø'},{name:'Solan, Himachal Pradesh',emoji:'üçÑ'},
    {name:'Baijnath, Himachal Pradesh',emoji:'üõï'},{name:'Rampur, Himachal Pradesh',emoji:'üåä'},
  ]},
  { group:'‚õ∞Ô∏è Uttarakhand', cities:[
    {name:'Rishikesh, Uttarakhand',emoji:'üßò'},{name:'Haridwar, Uttarakhand',emoji:'üî±'},
    {name:'Mussoorie, Uttarakhand',emoji:'üå´Ô∏è'},{name:'Nainital, Uttarakhand',emoji:'üèûÔ∏è'},
    {name:'Jim Corbett, Uttarakhand',emoji:'üêÖ'},{name:'Auli, Uttarakhand',emoji:'‚õ∑Ô∏è'},
    {name:'Kedarnath, Uttarakhand',emoji:'üõï'},{name:'Badrinath, Uttarakhand',emoji:'üõï'},
    {name:'Valley of Flowers, Uttarakhand',emoji:'üå∏'},{name:'Lansdowne, Uttarakhand',emoji:'üå≤'},
    {name:'Ranikhet, Uttarakhand',emoji:'üåø'},{name:'Munsiyari, Uttarakhand',emoji:'üèîÔ∏è'},
    {name:'Chakrata, Uttarakhand',emoji:'üå≤'},{name:'Chopta, Uttarakhand',emoji:'‚ùÑÔ∏è'},
    {name:'Tungnath, Uttarakhand',emoji:'üõï'},{name:'Gangotri, Uttarakhand',emoji:'üôè'},
    {name:'Yamunotri, Uttarakhand',emoji:'üôè'},{name:'Hemkund Sahib, Uttarakhand',emoji:'‚õ™'},
    {name:'Dehradun, Uttarakhand',emoji:'üå≤'},{name:'Almora, Uttarakhand',emoji:'üèîÔ∏è'},
    {name:'Pithoragarh, Uttarakhand',emoji:'üèîÔ∏è'},{name:'Bageshwar, Uttarakhand',emoji:'üõï'},
    {name:'Kausani, Uttarakhand',emoji:'üåÑ'},{name:'Binsar, Uttarakhand',emoji:'ü¶Ö'},
    {name:'Sattal, Uttarakhand',emoji:'üèûÔ∏è'},{name:'Bhimtal, Uttarakhand',emoji:'üåä'},
    {name:'Tehri, Uttarakhand',emoji:'‚õµ'},{name:'Uttarkashi, Uttarakhand',emoji:'üèîÔ∏è'},
    {name:'Mukteshwar, Uttarakhand',emoji:'üçé'},{name:'Dhanaulti, Uttarakhand',emoji:'üå≤'},
    {name:'Kanatal, Uttarakhand',emoji:'üèïÔ∏è'},{name:'Chaukori, Uttarakhand',emoji:'üèîÔ∏è'},
  ]},
  { group:'üåå Ladakh & Jammu & Kashmir', cities:[
    {name:'Leh, Ladakh',emoji:'üèîÔ∏è'},{name:'Nubra Valley, Ladakh',emoji:'üê´'},
    {name:'Pangong Lake, Ladakh',emoji:'üíô'},{name:'Zanskar Valley, Ladakh',emoji:'üåä'},
    {name:'Turtuk, Ladakh',emoji:'üåæ'},{name:'Moriri Lake, Ladakh',emoji:'üíß'},
    {name:'Hanle, Ladakh',emoji:'üåå'},{name:'Diskit, Ladakh',emoji:'üèîÔ∏è'},
    {name:'Khardung La, Ladakh',emoji:'‚õ∞Ô∏è'},{name:'Dah Hanu, Ladakh',emoji:'üå∏'},
    {name:'Srinagar, Jammu & Kashmir',emoji:'üå∑'},{name:'Gulmarg, Jammu & Kashmir',emoji:'‚ùÑÔ∏è'},
    {name:'Pahalgam, Jammu & Kashmir',emoji:'üåø'},{name:'Sonamarg, Jammu & Kashmir',emoji:'üåü'},
    {name:'Patnitop, Jammu & Kashmir',emoji:'üå≤'},{name:'Vaishno Devi, Jammu & Kashmir',emoji:'üõï'},
    {name:'Jammu, Jammu & Kashmir',emoji:'üõï'},{name:'Katra, Jammu & Kashmir',emoji:'üôè'},
    {name:'Bhaderwah, Jammu & Kashmir',emoji:'üåø'},{name:'Kishtwar, Jammu & Kashmir',emoji:'üå∫'},
    {name:'Gurez Valley, Jammu & Kashmir',emoji:'üèîÔ∏è'},{name:'Yusmarg, Jammu & Kashmir',emoji:'üåø'},
    {name:'Doodhpathri, Jammu & Kashmir',emoji:'üå∏'},{name:'Anantnag, Jammu & Kashmir',emoji:'üå∑'},
    {name:'Baramulla, Jammu & Kashmir',emoji:'üçé'},{name:'Sinthan Top, Jammu & Kashmir',emoji:'‚ùÑÔ∏è'},
  ]},
  { group:'üåæ Punjab & Haryana & Delhi', cities:[
    {name:'Amritsar, Punjab',emoji:'‚õ™'},{name:'Ludhiana, Punjab',emoji:'üèôÔ∏è'},
    {name:'Patiala, Punjab',emoji:'üè∞'},{name:'Chandigarh',emoji:'üåø'},
    {name:'Jalandhar, Punjab',emoji:'üèôÔ∏è'},{name:'Bathinda, Punjab',emoji:'üè∞'},
    {name:'Anandpur Sahib, Punjab',emoji:'‚õ™'},{name:'Fatehgarh Sahib, Punjab',emoji:'üõï'},
    {name:'Faridkot, Punjab',emoji:'üè∞'},{name:'Kapurthala, Punjab',emoji:'üè∞'},
    {name:'Pathankot, Punjab',emoji:'üèîÔ∏è'},{name:'Gurdaspur, Punjab',emoji:'üå≥'},
    {name:'Kurukshetra, Haryana',emoji:'‚öîÔ∏è'},{name:'Panipat, Haryana',emoji:'üèõÔ∏è'},
    {name:'Morni Hills, Haryana',emoji:'‚õ∞Ô∏è'},{name:'Surajkund, Haryana',emoji:'üé®'},
    {name:'Pinjore, Haryana',emoji:'üåø'},{name:'Faridabad, Haryana',emoji:'üèôÔ∏è'},
    {name:'Delhi',emoji:'üèõÔ∏è'},{name:'Old Delhi',emoji:'üïå'},
    {name:'New Delhi',emoji:'üèõÔ∏è'},{name:'Connaught Place, Delhi',emoji:'üèôÔ∏è'},
    {name:'Red Fort Area, Delhi',emoji:'üè∞'},{name:'Qutub Minar Area, Delhi',emoji:'üèõÔ∏è'},
    {name:'Lodi Garden, Delhi',emoji:'üåø'},{name:'Humayun Tomb Area, Delhi',emoji:'üïå'},
  ]},
  { group:'üïå Uttar Pradesh', cities:[
    {name:'Varanasi, Uttar Pradesh',emoji:'ü™î'},{name:'Agra, Uttar Pradesh',emoji:'üïå'},
    {name:'Lucknow, Uttar Pradesh',emoji:'üçõ'},{name:'Mathura, Uttar Pradesh',emoji:'ü¶ö'},
    {name:'Vrindavan, Uttar Pradesh',emoji:'üå∫'},{name:'Prayagraj, Uttar Pradesh',emoji:'üåä'},
    {name:'Ayodhya, Uttar Pradesh',emoji:'üõï'},{name:'Fatehpur Sikri, Uttar Pradesh',emoji:'üèõÔ∏è'},
    {name:'Sarnath, Uttar Pradesh',emoji:'‚ò∏Ô∏è'},{name:'Jhansi, Uttar Pradesh',emoji:'‚öîÔ∏è'},
    {name:'Chitrakoot, Uttar Pradesh',emoji:'üõï'},{name:'Vindhyachal, Uttar Pradesh',emoji:'üõï'},
    {name:'Dudhwa, Uttar Pradesh',emoji:'ü¶è'},{name:'Kushinagar, Uttar Pradesh',emoji:'‚ò∏Ô∏è'},
    {name:'Shravasti, Uttar Pradesh',emoji:'‚ò∏Ô∏è'},{name:'Kaushambi, Uttar Pradesh',emoji:'üèõÔ∏è'},
    {name:'Gorakhpur, Uttar Pradesh',emoji:'üõï'},{name:'Bareilly, Uttar Pradesh',emoji:'üåπ'},
    {name:'Moradabad, Uttar Pradesh',emoji:'ü•Å'},{name:'Lakhimpur Kheri, Uttar Pradesh',emoji:'üåø'},
    {name:'Naimisharanya, Uttar Pradesh',emoji:'üåø'},{name:'Bithoor, Uttar Pradesh',emoji:'üåä'},
    {name:'Aligarh, Uttar Pradesh',emoji:'üè∞'},{name:'Saharanpur, Uttar Pradesh',emoji:'üåø'},
    {name:'Meerut, Uttar Pradesh',emoji:'üèôÔ∏è'},{name:'Kanpur, Uttar Pradesh',emoji:'üè≠'},
    {name:'Vrindavan Parikrama, Uttar Pradesh',emoji:'üå∫'},{name:'Govardhan, Uttar Pradesh',emoji:'üõï'},
  ]},
  { group:'üåø Madhya Pradesh', cities:[
    {name:'Khajuraho, Madhya Pradesh',emoji:'üèõÔ∏è'},{name:'Bhopal, Madhya Pradesh',emoji:'üåä'},
    {name:'Ujjain, Madhya Pradesh',emoji:'üõï'},{name:'Gwalior, Madhya Pradesh',emoji:'üè∞'},
    {name:'Orchha, Madhya Pradesh',emoji:'üèØ'},{name:'Panna, Madhya Pradesh',emoji:'üíé'},
    {name:'Kanha, Madhya Pradesh',emoji:'üêØ'},{name:'Bandhavgarh, Madhya Pradesh',emoji:'üêÖ'},
    {name:'Pench, Madhya Pradesh',emoji:'üåø'},{name:'Pachmarhi, Madhya Pradesh',emoji:'üíß'},
    {name:'Jabalpur, Madhya Pradesh',emoji:'üåä'},{name:'Sanchi, Madhya Pradesh',emoji:'‚ò∏Ô∏è'},
    {name:'Indore, Madhya Pradesh',emoji:'üçõ'},{name:'Omkareshwar, Madhya Pradesh',emoji:'üõï'},
    {name:'Amarkantak, Madhya Pradesh',emoji:'üåø'},{name:'Maheshwar, Madhya Pradesh',emoji:'‚õµ'},
    {name:'Mandu, Madhya Pradesh',emoji:'üè∞'},{name:'Chanderi, Madhya Pradesh',emoji:'üïå'},
    {name:'Burhanpur, Madhya Pradesh',emoji:'üè∞'},{name:'Shivpuri, Madhya Pradesh',emoji:'ü¶Ö'},
    {name:'Datia, Madhya Pradesh',emoji:'üè∞'},{name:'Vidisha, Madhya Pradesh',emoji:'üèõÔ∏è'},
    {name:'Mandla, Madhya Pradesh',emoji:'üåä'},{name:'Satna, Madhya Pradesh',emoji:'üèõÔ∏è'},
    {name:'Rewa, Madhya Pradesh',emoji:'üåä'},{name:'Tikamgarh, Madhya Pradesh',emoji:'üè∞'},
    {name:'Chhindwara, Madhya Pradesh',emoji:'üåø'},{name:'Raisen, Madhya Pradesh',emoji:'üè∞'},
    {name:'Hoshangabad, Madhya Pradesh',emoji:'üåä'},{name:'Betul, Madhya Pradesh',emoji:'üåø'},
  ]},
  { group:'üèõÔ∏è Maharashtra', cities:[
    {name:'Mumbai, Maharashtra',emoji:'üåÜ'},{name:'Pune, Maharashtra',emoji:'üè´'},
    {name:'Aurangabad, Maharashtra',emoji:'üèõÔ∏è'},{name:'Ajanta & Ellora Caves, Maharashtra',emoji:'üóø'},
    {name:'Nashik, Maharashtra',emoji:'üçá'},{name:'Lonavala, Maharashtra',emoji:'‚õ∞Ô∏è'},
    {name:'Mahabaleshwar, Maharashtra',emoji:'üçì'},{name:'Kolhapur, Maharashtra',emoji:'üè∞'},
    {name:'Shirdi, Maharashtra',emoji:'üõï'},{name:'Alibag, Maharashtra',emoji:'üèñÔ∏è'},
    {name:'Matheran, Maharashtra',emoji:'üöÇ'},{name:'Ratnagiri, Maharashtra',emoji:'ü•≠'},
    {name:'Sindhudurg, Maharashtra',emoji:'üè∞'},{name:'Tarkarli, Maharashtra',emoji:'üèñÔ∏è'},
    {name:'Malvan, Maharashtra',emoji:'üê†'},{name:'Panchgani, Maharashtra',emoji:'‚õ∞Ô∏è'},
    {name:'Bhimashankar, Maharashtra',emoji:'üõï'},{name:'Trimbakeshwar, Maharashtra',emoji:'üõï'},
    {name:'Nagpur, Maharashtra',emoji:'üçä'},{name:'Tadoba, Maharashtra',emoji:'üêÖ'},
    {name:'Satara, Maharashtra',emoji:'üèîÔ∏è'},{name:'Sangli, Maharashtra',emoji:'üçá'},
    {name:'Ganpatipule, Maharashtra',emoji:'üõï'},{name:'Bhandardara, Maharashtra',emoji:'üíß'},
    {name:'Igatpuri, Maharashtra',emoji:'‚õ∞Ô∏è'},{name:'Murud Janjira, Maharashtra',emoji:'üè∞'},
    {name:'Harihareshwar, Maharashtra',emoji:'üõï'},{name:'Jawhar, Maharashtra',emoji:'üåø'},
    {name:'Melghat, Maharashtra',emoji:'üêÖ'},{name:'Chandrapur, Maharashtra',emoji:'üêÖ'},
    {name:'Amravati, Maharashtra',emoji:'üåø'},{name:'Nanded, Maharashtra',emoji:'‚õ™'},
  ]},
  { group:'üåä Goa', cities:[
    {name:'Panaji, Goa',emoji:'üé≠'},{name:'North Goa Beaches',emoji:'üèñÔ∏è'},
    {name:'South Goa Beaches',emoji:'üå¥'},{name:'Calangute, Goa',emoji:'üèñÔ∏è'},
    {name:'Baga, Goa',emoji:'üçπ'},{name:'Anjuna, Goa',emoji:'üéµ'},
    {name:'Arambol, Goa',emoji:'üåÖ'},{name:'Vagator, Goa',emoji:'üèÑ'},
    {name:'Candolim, Goa',emoji:'üå¥'},{name:'Palolem, Goa',emoji:'üèùÔ∏è'},
    {name:'Agonda, Goa',emoji:'üê¢'},{name:'Morjim, Goa',emoji:'üê¢'},
    {name:'Chapora, Goa',emoji:'üè∞'},{name:'Colva, Goa',emoji:'üèñÔ∏è'},
    {name:'Benaulim, Goa',emoji:'üåä'},{name:'Old Goa Churches',emoji:'‚õ™'},
    {name:'Dudhsagar Falls, Goa',emoji:'üíß'},{name:'Bondla Wildlife Sanctuary, Goa',emoji:'üåø'},
    {name:'Varca, Goa',emoji:'üèñÔ∏è'},{name:'Cabo de Rama, Goa',emoji:'üè∞'},
  ]},
  { group:'üå¥ Kerala', cities:[
    {name:'Munnar, Kerala',emoji:'üçµ'},{name:'Alleppey, Kerala',emoji:'üö£'},
    {name:'Wayanad, Kerala',emoji:'üåø'},{name:'Kovalam, Kerala',emoji:'üèñÔ∏è'},
    {name:'Kochi, Kerala',emoji:'‚õµ'},{name:'Thrissur, Kerala',emoji:'üé≠'},
    {name:'Varkala, Kerala',emoji:'üåä'},{name:'Thekkady, Kerala',emoji:'üêò'},
    {name:'Kozhikode, Kerala',emoji:'üß≠'},{name:'Palakkad, Kerala',emoji:'üè∞'},
    {name:'Kumarakom, Kerala',emoji:'ü¶¢'},{name:'Thiruvananthapuram, Kerala',emoji:'üõï'},
    {name:'Kollam, Kerala',emoji:'üå¥'},{name:'Idukki, Kerala',emoji:'üåø'},
    {name:'Kannur, Kerala',emoji:'üè∞'},{name:'Kasaragod, Kerala',emoji:'üèñÔ∏è'},
    {name:'Bekal, Kerala',emoji:'üè∞'},{name:'Athirappilly, Kerala',emoji:'üíß'},
    {name:'Ponmudi, Kerala',emoji:'‚õ∞Ô∏è'},{name:'Silent Valley, Kerala',emoji:'üåø'},
    {name:'Eravikulam, Kerala',emoji:'ü¶ô'},{name:'Guruvayur, Kerala',emoji:'üõï'},
    {name:'Sabarimala, Kerala',emoji:'üõï'},{name:'Poovar, Kerala',emoji:'üèùÔ∏è'},
    {name:'Marari Beach, Kerala',emoji:'üèñÔ∏è'},{name:'Cherai Beach, Kerala',emoji:'üèñÔ∏è'},
    {name:'Nelliampathi, Kerala',emoji:'‚òï'},{name:'Sulthan Bathery, Kerala',emoji:'üåø'},
    {name:'Nilambur, Kerala',emoji:'üå≤'},{name:'Kalpetta, Kerala',emoji:'üåø'},
    {name:'Pathanamthitta, Kerala',emoji:'üõï'},{name:'Kottayam, Kerala',emoji:'üìö'},
  ]},
  { group:'üõï Tamil Nadu', cities:[
    {name:'Chennai, Tamil Nadu',emoji:'üåä'},{name:'Madurai, Tamil Nadu',emoji:'üõï'},
    {name:'Ooty, Tamil Nadu',emoji:'üöÇ'},{name:'Kodaikanal, Tamil Nadu',emoji:'üå´Ô∏è'},
    {name:'Mahabalipuram, Tamil Nadu',emoji:'üóø'},{name:'Thanjavur, Tamil Nadu',emoji:'ü•Å'},
    {name:'Rameswaram, Tamil Nadu',emoji:'üåä'},{name:'Kanyakumari, Tamil Nadu',emoji:'üåÖ'},
    {name:'Coimbatore, Tamil Nadu',emoji:'üè≠'},{name:'Pondicherry, Tamil Nadu',emoji:'üá´üá∑'},
    {name:'Chettinad, Tamil Nadu',emoji:'üçõ'},{name:'Yelagiri, Tamil Nadu',emoji:'‚õ∞Ô∏è'},
    {name:'Tirunelveli, Tamil Nadu',emoji:'üèôÔ∏è'},{name:'Salem, Tamil Nadu',emoji:'üåæ'},
    {name:'Trichy, Tamil Nadu',emoji:'üõï'},{name:'Vellore, Tamil Nadu',emoji:'üè∞'},
    {name:'Kumbakonam, Tamil Nadu',emoji:'üõï'},{name:'Chidambaram, Tamil Nadu',emoji:'üõï'},
    {name:'Yercaud, Tamil Nadu',emoji:'‚õ∞Ô∏è'},{name:'Valparai, Tamil Nadu',emoji:'‚òï'},
    {name:'Hogenakkal, Tamil Nadu',emoji:'üíß'},{name:'Courtallam, Tamil Nadu',emoji:'üíß'},
    {name:'Mudumalai, Tamil Nadu',emoji:'üêò'},{name:'Kancheepuram, Tamil Nadu',emoji:'üõï'},
    {name:'Tiruvannamalai, Tamil Nadu',emoji:'üõï'},{name:'Nagapattinam, Tamil Nadu',emoji:'üåä'},
    {name:'Thoothukudi, Tamil Nadu',emoji:'‚öì'},{name:'Erode, Tamil Nadu',emoji:'üåø'},
    {name:'Tiruppur, Tamil Nadu',emoji:'üëï'},{name:'Srirangam, Tamil Nadu',emoji:'üõï'},
    {name:'Kolli Hills, Tamil Nadu',emoji:'‚õ∞Ô∏è'},{name:'Meghamalai, Tamil Nadu',emoji:'‚òï'},
    {name:'Papanasam, Tamil Nadu',emoji:'üíß'},{name:'Anamalai Tiger Reserve, Tamil Nadu',emoji:'üêÖ'},
  ]},
  { group:'üåø Karnataka', cities:[
    {name:'Coorg, Karnataka',emoji:'‚òï'},{name:'Hampi, Karnataka',emoji:'üèõÔ∏è'},
    {name:'Mysuru, Karnataka',emoji:'üëë'},{name:'Bengaluru, Karnataka',emoji:'üíª'},
    {name:'Badami, Karnataka',emoji:'üóø'},{name:'Kabini, Karnataka',emoji:'üêò'},
    {name:'Chikmagalur, Karnataka',emoji:'‚òï'},{name:'Gokarna, Karnataka',emoji:'üèñÔ∏è'},
    {name:'Udupi, Karnataka',emoji:'üçõ'},{name:'Mangaluru, Karnataka',emoji:'üå¥'},
    {name:'Sakleshpur, Karnataka',emoji:'üåø'},{name:'Belur & Halebid, Karnataka',emoji:'üèõÔ∏è'},
    {name:'Bidar, Karnataka',emoji:'üè∞'},{name:'Bijapur, Karnataka',emoji:'üïå'},
    {name:'Hubli, Karnataka',emoji:'üèôÔ∏è'},{name:'Dharwad, Karnataka',emoji:'üéµ'},
    {name:'Dandeli, Karnataka',emoji:'üåø'},{name:'Jog Falls, Karnataka',emoji:'üíß'},
    {name:'Murudeshwar, Karnataka',emoji:'üõï'},{name:'Kollur, Karnataka',emoji:'üõï'},
    {name:'Sringeri, Karnataka',emoji:'üõï'},{name:'Shivanasamudra, Karnataka',emoji:'üíß'},
    {name:'Nandi Hills, Karnataka',emoji:'‚õ∞Ô∏è'},{name:'Shravanabelagola, Karnataka',emoji:'üßò'},
    {name:'Aihole, Karnataka',emoji:'üèõÔ∏è'},{name:'Pattadakal, Karnataka',emoji:'üèõÔ∏è'},
    {name:'Kudremukh, Karnataka',emoji:'üèîÔ∏è'},{name:'Agumbe, Karnataka',emoji:'üåßÔ∏è'},
    {name:'Chitradurga, Karnataka',emoji:'üè∞'},{name:'Yana, Karnataka',emoji:'üóø'},
    {name:'Hospet, Karnataka',emoji:'üèõÔ∏è'},{name:'BR Hills, Karnataka',emoji:'üåø'},
  ]},
  { group:'üå∂Ô∏è Andhra Pradesh & Telangana', cities:[
    {name:'Hyderabad, Telangana',emoji:'üçñ'},{name:'Warangal, Telangana',emoji:'üè∞'},
    {name:'Nagarjunasagar, Andhra Pradesh',emoji:'üíß'},{name:'Araku Valley, Andhra Pradesh',emoji:'‚òï'},
    {name:'Visakhapatnam, Andhra Pradesh',emoji:'‚öì'},{name:'Tirupati, Andhra Pradesh',emoji:'üõï'},
    {name:'Vijayawada, Andhra Pradesh',emoji:'üåä'},{name:'Amaravati, Andhra Pradesh',emoji:'‚ò∏Ô∏è'},
    {name:'Kurnool, Andhra Pradesh',emoji:'üèõÔ∏è'},{name:'Nellore, Andhra Pradesh',emoji:'üåä'},
    {name:'Kakinada, Andhra Pradesh',emoji:'üå¥'},{name:'Rajahmundry, Andhra Pradesh',emoji:'üåä'},
    {name:'Anantapur, Andhra Pradesh',emoji:'üåæ'},{name:'Kadapa, Andhra Pradesh',emoji:'üèõÔ∏è'},
    {name:'Srisailam, Andhra Pradesh',emoji:'üõï'},{name:'Horsley Hills, Andhra Pradesh',emoji:'‚õ∞Ô∏è'},
    {name:'Lepakshi, Andhra Pradesh',emoji:'üõï'},{name:'Belum Caves, Andhra Pradesh',emoji:'ü™®'},
    {name:'Gandikota, Andhra Pradesh',emoji:'üèîÔ∏è'},{name:'Srikalahasti, Andhra Pradesh',emoji:'üõï'},
    {name:'Borra Caves, Andhra Pradesh',emoji:'ü™®'},{name:'Lambasingi, Andhra Pradesh',emoji:'‚ùÑÔ∏è'},
    {name:'Papikondalu, Andhra Pradesh',emoji:'üèîÔ∏è'},{name:'Maredumilli, Andhra Pradesh',emoji:'üåø'},
    {name:'Nizamabad, Telangana',emoji:'üèôÔ∏è'},{name:'Karimnagar, Telangana',emoji:'üèôÔ∏è'},
    {name:'Bhongir, Telangana',emoji:'üè∞'},{name:'Medak, Telangana',emoji:'üïå'},
    {name:'Khammam, Telangana',emoji:'üåø'},{name:'Kondagaon, Telangana',emoji:'üåæ'},
  ]},
  { group:'ü¶Å Gujarat', cities:[
    {name:'Ahmedabad, Gujarat',emoji:'üèóÔ∏è'},{name:'Sasan Gir, Gujarat',emoji:'ü¶Å'},
    {name:'Rann of Kutch, Gujarat',emoji:'üåï'},{name:'Dwarka, Gujarat',emoji:'üõï'},
    {name:'Somnath, Gujarat',emoji:'üåä'},{name:'Vadodara, Gujarat',emoji:'üèõÔ∏è'},
    {name:'Surat, Gujarat',emoji:'üíé'},{name:'Junagadh, Gujarat',emoji:'ü¶Å'},
    {name:'Saputara, Gujarat',emoji:'‚õ∞Ô∏è'},{name:'Diu, Gujarat',emoji:'üèñÔ∏è'},
    {name:'Lothal, Gujarat',emoji:'üè∫'},{name:'Rajkot, Gujarat',emoji:'üèôÔ∏è'},
    {name:'Bhavnagar, Gujarat',emoji:'üåä'},{name:'Gandhinagar, Gujarat',emoji:'üèõÔ∏è'},
    {name:'Morbi, Gujarat',emoji:'üï∞Ô∏è'},{name:'Bhuj, Gujarat',emoji:'üèúÔ∏è'},
    {name:'Mandvi, Gujarat',emoji:'üèñÔ∏è'},{name:'Porbandar, Gujarat',emoji:'üïäÔ∏è'},
    {name:'Modhera, Gujarat',emoji:'üõï'},{name:'Patan, Gujarat',emoji:'ü™°'},
    {name:'Palitana, Gujarat',emoji:'üõï'},{name:'Ambaji, Gujarat',emoji:'üõï'},
    {name:'Nalsarovar, Gujarat',emoji:'ü¶©'},{name:'Wild Ass Sanctuary, Gujarat',emoji:'ü¶ì'},
    {name:'Polo Forest, Gujarat',emoji:'üå≤'},{name:'Champaner, Gujarat',emoji:'üè∞'},
    {name:'Dang Forest, Gujarat',emoji:'üåø'},{name:'Velavadar, Gujarat',emoji:'ü¶å'},
    {name:'Gir National Park, Gujarat',emoji:'ü¶Å'},{name:'Marine National Park, Gujarat',emoji:'üê†'},
  ]},
  { group:'üåä Odisha', cities:[
    {name:'Bhubaneswar, Odisha',emoji:'üõï'},{name:'Puri, Odisha',emoji:'üåä'},
    {name:'Konark, Odisha',emoji:'‚òÄÔ∏è'},{name:'Chilika Lake, Odisha',emoji:'ü¶©'},
    {name:'Daringbadi, Odisha',emoji:'üå≤'},{name:'Simlipal, Odisha',emoji:'üêÖ'},
    {name:'Cuttack, Odisha',emoji:'üè∞'},{name:'Sambalpur, Odisha',emoji:'üåä'},
    {name:'Berhampur, Odisha',emoji:'üåæ'},{name:'Koraput, Odisha',emoji:'‚õ∞Ô∏è'},
    {name:'Jeypore, Odisha',emoji:'üåø'},{name:'Bhitarkanika, Odisha',emoji:'üêä'},
    {name:'Gopalpur, Odisha',emoji:'üèñÔ∏è'},{name:'Hirakud, Odisha',emoji:'üíß'},
    {name:'Lalitgiri, Odisha',emoji:'‚ò∏Ô∏è'},{name:'Udayagiri, Odisha',emoji:'üèõÔ∏è'},
    {name:'Chandipur, Odisha',emoji:'üåä'},{name:'Satkosia, Odisha',emoji:'üêä'},
    {name:'Taptapani, Odisha',emoji:'‚ô®Ô∏è'},{name:'Baripada, Odisha',emoji:'üåø'},
    {name:'Rourkela, Odisha',emoji:'üè≠'},{name:'Phulbani, Odisha',emoji:'üåø'},
  ]},
  { group:'üåø Chhattisgarh & Jharkhand', cities:[
    {name:'Raipur, Chhattisgarh',emoji:'üåø'},{name:'Jagdalpur, Chhattisgarh',emoji:'üíß'},
    {name:'Chitrakote Falls, Chhattisgarh',emoji:'üåä'},{name:'Bastar, Chhattisgarh',emoji:'üåø'},
    {name:'Bilaspur, Chhattisgarh',emoji:'üåø'},{name:'Sirpur, Chhattisgarh',emoji:'üèõÔ∏è'},
    {name:'Mainpat, Chhattisgarh',emoji:'üåø'},{name:'Achanakmar, Chhattisgarh',emoji:'üå≤'},
    {name:'Kanker, Chhattisgarh',emoji:'üåä'},{name:'Tirathgarh Falls, Chhattisgarh',emoji:'üíß'},
    {name:'Ranchi, Jharkhand',emoji:'üåä'},{name:'Jamshedpur, Jharkhand',emoji:'üè≠'},
    {name:'Deoghar, Jharkhand',emoji:'üõï'},{name:'Betla, Jharkhand',emoji:'üåø'},
    {name:'Hazaribagh, Jharkhand',emoji:'üåø'},{name:'Netarhat, Jharkhand',emoji:'üåÑ'},
    {name:'Palamu, Jharkhand',emoji:'üêò'},{name:'Giridih, Jharkhand',emoji:'‚õ∞Ô∏è'},
    {name:'Parasnath, Jharkhand',emoji:'‚õ∞Ô∏è'},{name:'Rajmahal, Jharkhand',emoji:'üèîÔ∏è'},
  ]},
  { group:'üåø Bihar', cities:[
    {name:'Bodh Gaya, Bihar',emoji:'‚ò∏Ô∏è'},{name:'Nalanda, Bihar',emoji:'üìö'},
    {name:'Patna, Bihar',emoji:'üèõÔ∏è'},{name:'Rajgir, Bihar',emoji:'‚õ∞Ô∏è'},
    {name:'Vaishali, Bihar',emoji:'üå∏'},{name:'Gaya, Bihar',emoji:'üõï'},
    {name:'Muzaffarpur, Bihar',emoji:'üçà'},{name:'Bhagalpur, Bihar',emoji:'üåä'},
    {name:'Madhubani, Bihar',emoji:'üé®'},{name:'Sasaram, Bihar',emoji:'üèõÔ∏è'},
    {name:'Pawapuri, Bihar',emoji:'üõï'},{name:'Sitamarhi, Bihar',emoji:'üõï'},
    {name:'Champaran, Bihar',emoji:'üåæ'},{name:'Valmiki Nagar, Bihar',emoji:'üêÖ'},
    {name:'Vikramshila, Bihar',emoji:'üìö'},{name:'Kesariya, Bihar',emoji:'‚ò∏Ô∏è'},
    {name:'Maner, Bihar',emoji:'üïå'},{name:'Munger, Bihar',emoji:'üè∞'},
    {name:'Darbhanga, Bihar',emoji:'üè∞'},{name:'Buxar, Bihar',emoji:'üåä'},
  ]},
  { group:'üåä West Bengal', cities:[
    {name:'Darjeeling, West Bengal',emoji:'‚òï'},{name:'Kolkata, West Bengal',emoji:'üé®'},
    {name:'Sundarbans, West Bengal',emoji:'üêÖ'},{name:'Bishnupur, West Bengal',emoji:'üé≠'},
    {name:'Murshidabad, West Bengal',emoji:'üè∞'},{name:'Dooars, West Bengal',emoji:'ü¶è'},
    {name:'Digha, West Bengal',emoji:'üèñÔ∏è'},{name:'Shantiniketan, West Bengal',emoji:'üé≠'},
    {name:'Siliguri, West Bengal',emoji:'üåø'},{name:'Kalimpong, West Bengal',emoji:'üå∏'},
    {name:'Kurseong, West Bengal',emoji:'üöÇ'},{name:'Mirik, West Bengal',emoji:'üèûÔ∏è'},
    {name:'Mandarmani, West Bengal',emoji:'üèñÔ∏è'},{name:'Bakkhali, West Bengal',emoji:'üåä'},
    {name:'Purulia, West Bengal',emoji:'üåø'},{name:'Bankura, West Bengal',emoji:'üê¥'},
    {name:'Mayapur, West Bengal',emoji:'üõï'},{name:'Tarapith, West Bengal',emoji:'üõï'},
    {name:'Belur Math, West Bengal',emoji:'üõï'},{name:'Cooch Behar, West Bengal',emoji:'üè∞'},
    {name:'Jaldapara, West Bengal',emoji:'ü¶è'},{name:'Gorumara, West Bengal',emoji:'ü¶è'},
    {name:'Neora Valley, West Bengal',emoji:'üåø'},{name:'Nabadwip, West Bengal',emoji:'üõï'},
    {name:'Malda, West Bengal',emoji:'ü•≠'},{name:'Burdwan, West Bengal',emoji:'üåæ'},
  ]},
  { group:'ü¶è Assam & Meghalaya', cities:[
    {name:'Kaziranga, Assam',emoji:'ü¶è'},{name:'Guwahati, Assam',emoji:'üåø'},
    {name:'Majuli Island, Assam',emoji:'üèùÔ∏è'},{name:'Haflong, Assam',emoji:'üíô'},
    {name:'Dibrugarh, Assam',emoji:'üçµ'},{name:'Jorhat, Assam',emoji:'üåø'},
    {name:'Tezpur, Assam',emoji:'üå∫'},{name:'Nameri, Assam',emoji:'üêÖ'},
    {name:'Manas, Assam',emoji:'üêÖ'},{name:'Sivasagar, Assam',emoji:'üè∞'},
    {name:'Pobitora, Assam',emoji:'ü¶è'},{name:'Orang, Assam',emoji:'ü¶è'},
    {name:'Barpeta, Assam',emoji:'üõï'},{name:'Nagaon, Assam',emoji:'üåø'},
    {name:'Shillong, Meghalaya',emoji:'üåßÔ∏è'},{name:'Cherrapunji, Meghalaya',emoji:'üíß'},
    {name:'Dawki, Meghalaya',emoji:'üö£'},{name:'Mawlynnong, Meghalaya',emoji:'üåø'},
    {name:'Mawsynram, Meghalaya',emoji:'üåßÔ∏è'},{name:'Tura, Meghalaya',emoji:'üèîÔ∏è'},
    {name:'Jowai, Meghalaya',emoji:'üåä'},{name:'Nongkhnum, Meghalaya',emoji:'üèùÔ∏è'},
    {name:'Sohra, Meghalaya',emoji:'üíß'},{name:'Baghmara, Meghalaya',emoji:'ü¶Ö'},
  ]},
  { group:'üèîÔ∏è Sikkim & Arunachal Pradesh', cities:[
    {name:'Gangtok, Sikkim',emoji:'üèîÔ∏è'},{name:'Pelling, Sikkim',emoji:'‚õ∞Ô∏è'},
    {name:'Lachung, Sikkim',emoji:'‚ùÑÔ∏è'},{name:'Zuluk, Sikkim',emoji:'üå´Ô∏è'},
    {name:'Yuksom, Sikkim',emoji:'üåø'},{name:'Ravangla, Sikkim',emoji:'‚ò∏Ô∏è'},
    {name:'Namchi, Sikkim',emoji:'üõï'},{name:'Tsomgo Lake, Sikkim',emoji:'üíß'},
    {name:'Gurudongmar Lake, Sikkim',emoji:'üíô'},{name:'Mangan, Sikkim',emoji:'üå∫'},
    {name:'Tawang, Arunachal Pradesh',emoji:'üõï'},{name:'Ziro Valley, Arunachal Pradesh',emoji:'üéµ'},
    {name:'Namdapha, Arunachal Pradesh',emoji:'üåø'},{name:'Bomdila, Arunachal Pradesh',emoji:'üèîÔ∏è'},
    {name:'Dirang, Arunachal Pradesh',emoji:'üçé'},{name:'Mechuka, Arunachal Pradesh',emoji:'üåø'},
    {name:'Pasighat, Arunachal Pradesh',emoji:'üåä'},{name:'Itanagar, Arunachal Pradesh',emoji:'üåø'},
    {name:'Along, Arunachal Pradesh',emoji:'üåø'},{name:'Roing, Arunachal Pradesh',emoji:'üåø'},
    {name:'Daporijo, Arunachal Pradesh',emoji:'üåä'},{name:'Mayodia, Arunachal Pradesh',emoji:'‚ùÑÔ∏è'},
  ]},
  { group:'üå∫ Manipur, Nagaland, Mizoram & Tripura', cities:[
    {name:'Imphal, Manipur',emoji:'üå∫'},{name:'Loktak Lake, Manipur',emoji:'üåä'},
    {name:'Senapati, Manipur',emoji:'‚õ∞Ô∏è'},{name:'Ukhrul, Manipur',emoji:'üå∏'},
    {name:'Tamenglong, Manipur',emoji:'üåø'},{name:'Dzukou Valley, Nagaland',emoji:'üå∏'},
    {name:'Kohima, Nagaland',emoji:'‚õ∞Ô∏è'},{name:'Dimapur, Nagaland',emoji:'üèôÔ∏è'},
    {name:'Mon, Nagaland',emoji:'‚õ∞Ô∏è'},{name:'Mokokchung, Nagaland',emoji:'üåø'},
    {name:'Khonoma, Nagaland',emoji:'üåø'},{name:'Aizawl, Mizoram',emoji:'‚õ∞Ô∏è'},
    {name:'Champhai, Mizoram',emoji:'üåø'},{name:'Lunglei, Mizoram',emoji:'‚õ∞Ô∏è'},
    {name:'Phawngpui, Mizoram',emoji:'‚õ∞Ô∏è'},{name:'Saiha, Mizoram',emoji:'üèîÔ∏è'},
    {name:'Agartala, Tripura',emoji:'üèõÔ∏è'},{name:'Udaipur, Tripura',emoji:'üõï'},
    {name:'Sepahijala, Tripura',emoji:'üåø'},{name:'Unakoti, Tripura',emoji:'üóø'},
    {name:'Neermahal, Tripura',emoji:'üè∞'},{name:'Jampui Hills, Tripura',emoji:'‚õ∞Ô∏è'},
  ]},
  { group:'üèùÔ∏è Andaman & Lakshadweep Islands', cities:[
    {name:'Port Blair, Andaman',emoji:'‚öì'},{name:'Havelock Island, Andaman',emoji:'üèñÔ∏è'},
    {name:'Neil Island, Andaman',emoji:'üê†'},{name:'Baratang Island, Andaman',emoji:'üåø'},
    {name:'Ross Island, Andaman',emoji:'üèöÔ∏è'},{name:'North Bay Island, Andaman',emoji:'üê†'},
    {name:'Diglipur, Andaman',emoji:'üåä'},{name:'Little Andaman',emoji:'üå¥'},
    {name:'Long Island, Andaman',emoji:'üèñÔ∏è'},{name:'Mayabunder, Andaman',emoji:'üåø'},
    {name:'Kavaratti, Lakshadweep',emoji:'üê†'},{name:'Agatti, Lakshadweep',emoji:'üèùÔ∏è'},
    {name:'Bangaram, Lakshadweep',emoji:'üê¨'},{name:'Minicoy, Lakshadweep',emoji:'üå¥'},
    {name:'Kalpeni, Lakshadweep',emoji:'üê†'},{name:'Kadmat, Lakshadweep',emoji:'üèñÔ∏è'},
    {name:'Andrott, Lakshadweep',emoji:'üå¥'},{name:'Amindivi, Lakshadweep',emoji:'üåä'},
  ]},
  { group:'üé® Pondicherry & Union Territories', cities:[
    {name:'Pondicherry',emoji:'üá´üá∑'},{name:'Auroville, Pondicherry',emoji:'üåç'},
    {name:'Mahe, Pondicherry',emoji:'üå¥'},{name:'Yanam, Pondicherry',emoji:'üåä'},
    {name:'Karikal, Pondicherry',emoji:'üåä'},{name:'Daman',emoji:'üèñÔ∏è'},
    {name:'Diu',emoji:'üè∞'},{name:'Silvassa, Dadra & NH',emoji:'üåø'},
  ]},
];

const ALL_DEST_CITIES = DEST_CITIES.flatMap(g => g.cities.map(c => ({ ...c, group: g.group })));

let destHighlightIdx = -1;

function buildDestDropdown(filtered) {
  const dd = document.getElementById('dest-dropdown');
  if (!filtered.length) {
    dd.innerHTML = '<div class="from-no-results">No destination found ‚Äî try another name</div>';
    return;
  }
  destHighlightIdx = -1;
  const groups = {};
  filtered.forEach(c => {
    if (!groups[c.group]) groups[c.group] = [];
    groups[c.group].push(c);
  });
  dd.innerHTML = Object.entries(groups).map(([grp, cities]) =>
    `<div class="from-group-label">${grp}</div>` +
    cities.map(c =>
      `<div class="from-option" onmousedown="selectDestCity('${c.name.replace(/'/g,"\\'")}')">
        <span class="city-emoji">${c.emoji}</span>${c.name}
      </div>`
    ).join('')
  ).join('');
}

function filterDestCities(q) {
  const dd = document.getElementById('dest-dropdown');
  if (!q.trim()) { buildDestDropdown(ALL_DEST_CITIES); dd.style.display = 'block'; return; }
  const lower = q.toLowerCase();
  const filtered = ALL_DEST_CITIES.filter(c => c.name.toLowerCase().includes(lower));
  buildDestDropdown(filtered);
  dd.style.display = 'block';
}

function showDestDropdown() {
  const q = document.getElementById('dest-input').value.trim();
  if (!q) buildDestDropdown(ALL_DEST_CITIES);
  else filterDestCities(q);
  document.getElementById('dest-dropdown').style.display = 'block';
  document.getElementById('dest-input').style.borderColor = 'rgba(200,169,110,.6)';
}

function hideDestDropdown() {
  document.getElementById('dest-dropdown').style.display = 'none';
  document.getElementById('dest-input').style.borderColor = 'rgba(200,169,110,.2)';
  // If typed text doesn't match any selected value, clear hidden field
  const cur = document.getElementById('dest').value;
  const txt = document.getElementById('dest-input').value.trim();
  if (cur && !txt) {
    document.getElementById('dest').value = '';
  }
}

function selectDestCity(name) {
  document.getElementById('dest-input').value = name;
  document.getElementById('dest').value = name;
  hideDestDropdown();
  liveUpdateDemos();
  onBudgetInput();
}

// Keyboard navigation for dest dropdown
document.addEventListener('keydown', function(e) {
  const dd = document.getElementById('dest-dropdown');
  if (!dd || dd.style.display === 'none') return;
  // Only act if dest-input is focused
  if (document.activeElement !== document.getElementById('dest-input')) return;
  const opts = dd.querySelectorAll('.from-option');
  if (!opts.length) return;
  if (e.key === 'ArrowDown') {
    e.preventDefault();
    destHighlightIdx = Math.min(destHighlightIdx + 1, opts.length - 1);
    opts.forEach((o,i) => o.classList.toggle('highlighted', i === destHighlightIdx));
    opts[destHighlightIdx]?.scrollIntoView({ block: 'nearest' });
  } else if (e.key === 'ArrowUp') {
    e.preventDefault();
    destHighlightIdx = Math.max(destHighlightIdx - 1, 0);
    opts.forEach((o,i) => o.classList.toggle('highlighted', i === destHighlightIdx));
    opts[destHighlightIdx]?.scrollIntoView({ block: 'nearest' });
  } else if (e.key === 'Enter' && destHighlightIdx >= 0) {
    e.preventDefault();
    opts[destHighlightIdx]?.dispatchEvent(new MouseEvent('mousedown'));
  } else if (e.key === 'Escape') {
    hideDestDropdown();
  }
});

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   FROM CITY AUTOCOMPLETE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const FROM_CITIES = [
  { group:'üèôÔ∏è Metro & Mega Cities', cities:[
    {name:'Mumbai',emoji:'üåÜ'},{name:'Delhi',emoji:'üèõÔ∏è'},{name:'Bengaluru',emoji:'üíª'},
    {name:'Chennai',emoji:'üåä'},{name:'Kolkata',emoji:'üé®'},{name:'Hyderabad',emoji:'üçñ'},
    {name:'Pune',emoji:'üè´'},{name:'Ahmedabad',emoji:'üèóÔ∏è'},{name:'Surat',emoji:'üíé'},
    {name:'Jaipur',emoji:'üè∞'},{name:'Lucknow',emoji:'üïå'},{name:'Kanpur',emoji:'üè≠'},
    {name:'Nagpur',emoji:'üçä'},{name:'Visakhapatnam',emoji:'‚öì'},{name:'Indore',emoji:'üçõ'},
    {name:'Thane',emoji:'üèôÔ∏è'},{name:'Bhopal',emoji:'üåä'},{name:'Patna',emoji:'üèõÔ∏è'},
    {name:'Vadodara',emoji:'üèõÔ∏è'},{name:'Ghaziabad',emoji:'üèôÔ∏è'},{name:'Agra',emoji:'üïå'},
    {name:'Varanasi',emoji:'ü™î'},{name:'Meerut',emoji:'üèôÔ∏è'},{name:'Rajkot',emoji:'ü¶Å'},
  ]},
  { group:'üèîÔ∏è North India', cities:[
    {name:'Chandigarh',emoji:'üåø'},{name:'Amritsar',emoji:'‚õ™'},{name:'Ludhiana',emoji:'üåæ'},
    {name:'Jalandhar',emoji:'üèôÔ∏è'},{name:'Patiala',emoji:'üè∞'},{name:'Bathinda',emoji:'üè∞'},
    {name:'Pathankot',emoji:'üèîÔ∏è'},{name:'Gurdaspur',emoji:'üå≥'},{name:'Firozpur',emoji:'üåæ'},
    {name:'Kapurthala',emoji:'üè∞'},{name:'Faridkot',emoji:'üè∞'},{name:'Moga',emoji:'üåæ'},
    {name:'Shimla',emoji:'‚ùÑÔ∏è'},{name:'Manali',emoji:'üèîÔ∏è'},{name:'Dharamshala',emoji:'üôè'},
    {name:'Solan',emoji:'üçÑ'},{name:'Mandi',emoji:'üåä'},{name:'Kullu',emoji:'üçé'},
    {name:'Dehradun',emoji:'üå≤'},{name:'Haridwar',emoji:'üî±'},{name:'Rishikesh',emoji:'üßò'},
    {name:'Noida',emoji:'üè¢'},{name:'Gurgaon',emoji:'üèôÔ∏è'},{name:'Faridabad',emoji:'üèôÔ∏è'},
    {name:'Rohtak',emoji:'üèôÔ∏è'},{name:'Hisar',emoji:'üåæ'},{name:'Sonipat',emoji:'üåæ'},
    {name:'Karnal',emoji:'üåæ'},{name:'Ambala',emoji:'ü™ñ'},{name:'Panipat',emoji:'üèõÔ∏è'},
    {name:'Yamunanagar',emoji:'üåø'},{name:'Panchkula',emoji:'üåø'},{name:'Mohali',emoji:'üèôÔ∏è'},
    {name:'Jammu',emoji:'üõï'},{name:'Srinagar',emoji:'üå∑'},{name:'Leh',emoji:'üèîÔ∏è'},
    {name:'Katra',emoji:'üôè'},{name:'Udhampur',emoji:'üèûÔ∏è'},{name:'Baramulla',emoji:'üçé'},
  ]},
  { group:'üïå Uttar Pradesh & Uttarakhand', cities:[
    {name:'Lucknow',emoji:'üçõ'},{name:'Kanpur',emoji:'üè≠'},{name:'Agra',emoji:'üïå'},
    {name:'Varanasi',emoji:'ü™î'},{name:'Allahabad',emoji:'üèõÔ∏è'},{name:'Gorakhpur',emoji:'üèôÔ∏è'},
    {name:'Mathura',emoji:'ü¶ö'},{name:'Aligarh',emoji:'üèôÔ∏è'},{name:'Meerut',emoji:'üèôÔ∏è'},
    {name:'Bareilly',emoji:'üåπ'},{name:'Moradabad',emoji:'ü•Å'},{name:'Saharanpur',emoji:'üåø'},
    {name:'Jhansi',emoji:'‚öîÔ∏è'},{name:'Lakhimpur Kheri',emoji:'üåø'},{name:'Ghaziabad',emoji:'üèôÔ∏è'},
    {name:'Noida',emoji:'üè¢'},{name:'Greater Noida',emoji:'üèôÔ∏è'},{name:'Ayodhya',emoji:'üõï'},
    {name:'Dehradun',emoji:'üå≤'},{name:'Haridwar',emoji:'üî±'},{name:'Rishikesh',emoji:'üßò'},
    {name:'Nainital',emoji:'üèûÔ∏è'},{name:'Mussoorie',emoji:'üå´Ô∏è'},{name:'Almora',emoji:'üèîÔ∏è'},
    {name:'Haldwani',emoji:'üåø'},{name:'Rudrapur',emoji:'üèôÔ∏è'},{name:'Kashipur',emoji:'üåø'},
  ]},
  { group:'üåÖ Rajasthan & Madhya Pradesh', cities:[
    {name:'Jaipur',emoji:'üè∞'},{name:'Jodhpur',emoji:'üîµ'},{name:'Udaipur',emoji:'üèØ'},
    {name:'Kota',emoji:'üåä'},{name:'Bikaner',emoji:'üê´'},{name:'Ajmer',emoji:'üïå'},
    {name:'Bharatpur',emoji:'ü¶Ö'},{name:'Alwar',emoji:'üêÜ'},{name:'Bhilwara',emoji:'üåæ'},
    {name:'Sikar',emoji:'üèôÔ∏è'},{name:'Sri Ganganagar',emoji:'üåæ'},{name:'Pali',emoji:'üåø'},
    {name:'Bhopal',emoji:'üåä'},{name:'Indore',emoji:'üçõ'},{name:'Gwalior',emoji:'üè∞'},
    {name:'Ujjain',emoji:'üõï'},{name:'Jabalpur',emoji:'üíß'},{name:'Raipur',emoji:'üåø'},
    {name:'Bilaspur',emoji:'üåø'},{name:'Ratlam',emoji:'üåæ'},{name:'Sagar',emoji:'üåä'},
    {name:'Satna',emoji:'üèõÔ∏è'},{name:'Dewas',emoji:'üõï'},{name:'Chhindwara',emoji:'üåø'},
  ]},
  { group:'üèõÔ∏è Maharashtra & Goa', cities:[
    {name:'Mumbai',emoji:'üåÜ'},{name:'Pune',emoji:'üè´'},{name:'Nagpur',emoji:'üçä'},
    {name:'Nashik',emoji:'üçá'},{name:'Aurangabad',emoji:'üèõÔ∏è'},{name:'Solapur',emoji:'üèôÔ∏è'},
    {name:'Kolhapur',emoji:'üè∞'},{name:'Navi Mumbai',emoji:'üåÜ'},{name:'Thane',emoji:'üèôÔ∏è'},
    {name:'Amravati',emoji:'üåø'},{name:'Nanded',emoji:'‚õ™'},{name:'Akola',emoji:'üåæ'},
    {name:'Latur',emoji:'üåæ'},{name:'Jalgaon',emoji:'üçå'},{name:'Dhule',emoji:'üåæ'},
    {name:'Sangli',emoji:'üçá'},{name:'Satara',emoji:'üèîÔ∏è'},{name:'Ratnagiri',emoji:'ü•≠'},
    {name:'Panaji',emoji:'üé≠'},{name:'Margao',emoji:'üèôÔ∏è'},{name:'Vasco da Gama',emoji:'‚öì'},
    {name:'Mapusa',emoji:'üõí'},{name:'Ponda',emoji:'üåø'},
  ]},
  { group:'ü¶Å Gujarat', cities:[
    {name:'Ahmedabad',emoji:'üèóÔ∏è'},{name:'Surat',emoji:'üíé'},{name:'Vadodara',emoji:'üèõÔ∏è'},
    {name:'Rajkot',emoji:'ü¶Å'},{name:'Bhavnagar',emoji:'üåä'},{name:'Gandhinagar',emoji:'üèõÔ∏è'},
    {name:'Anand',emoji:'üêÑ'},{name:'Morbi',emoji:'üï∞Ô∏è'},{name:'Bhuj',emoji:'üèúÔ∏è'},
    {name:'Junagadh',emoji:'ü¶Å'},{name:'Jamnagar',emoji:'ü¶ö'},{name:'Navsari',emoji:'üåø'},
    {name:'Vapi',emoji:'üåø'},{name:'Valsad',emoji:'üåä'},{name:'Mehsana',emoji:'üèõÔ∏è'},
    {name:'Porbandar',emoji:'üïäÔ∏è'},{name:'Amreli',emoji:'üå≥'},{name:'Nadiad',emoji:'üåæ'},
    {name:'Surendranagar',emoji:'üåæ'},{name:'Palanpur',emoji:'üåø'},
  ]},
  { group:'üå¥ South India ‚Äî Karnataka & Kerala', cities:[
    {name:'Bengaluru',emoji:'üíª'},{name:'Mysuru',emoji:'üëë'},{name:'Mangaluru',emoji:'üå¥'},
    {name:'Hubli',emoji:'üèôÔ∏è'},{name:'Dharwad',emoji:'üéµ'},{name:'Belgaum',emoji:'üèôÔ∏è'},
    {name:'Gulbarga',emoji:'üïå'},{name:'Davangere',emoji:'üèôÔ∏è'},{name:'Bidar',emoji:'üè∞'},
    {name:'Shimoga',emoji:'üíß'},{name:'Tumkur',emoji:'üåæ'},{name:'Hassan',emoji:'üèõÔ∏è'},
    {name:'Udupi',emoji:'üçõ'},{name:'Bellary',emoji:'üèîÔ∏è'},{name:'Chitradurga',emoji:'üè∞'},
    {name:'Kochi',emoji:'‚õµ'},{name:'Thiruvananthapuram',emoji:'üõï'},{name:'Kozhikode',emoji:'üß≠'},
    {name:'Thrissur',emoji:'üé≠'},{name:'Kollam',emoji:'üå¥'},{name:'Kannur',emoji:'üè∞'},
    {name:'Alappuzha',emoji:'üö£'},{name:'Kottayam',emoji:'üìö'},{name:'Palakkad',emoji:'üè∞'},
    {name:'Malappuram',emoji:'üïå'},{name:'Kasaragod',emoji:'üèñÔ∏è'},{name:'Pathanamthitta',emoji:'üõï'},
  ]},
  { group:'üõï South India ‚Äî Tamil Nadu & Andhra', cities:[
    {name:'Chennai',emoji:'üåä'},{name:'Coimbatore',emoji:'üè≠'},{name:'Madurai',emoji:'üõï'},
    {name:'Trichy',emoji:'üõï'},{name:'Salem',emoji:'üåæ'},{name:'Tirunelveli',emoji:'üèôÔ∏è'},
    {name:'Vellore',emoji:'üè∞'},{name:'Erode',emoji:'üåø'},{name:'Tiruppur',emoji:'üëï'},
    {name:'Thoothukudi',emoji:'‚öì'},{name:'Dindigul',emoji:'üîí'},{name:'Kumbakonam',emoji:'üõï'},
    {name:'Kancheepuram',emoji:'üõï'},{name:'Nagapattinam',emoji:'üåä'},{name:'Pondicherry',emoji:'üá´üá∑'},
    {name:'Hyderabad',emoji:'üçñ'},{name:'Visakhapatnam',emoji:'‚öì'},{name:'Vijayawada',emoji:'üåä'},
    {name:'Rajahmundry',emoji:'üåä'},{name:'Guntur',emoji:'üå∂Ô∏è'},{name:'Tirupati',emoji:'üõï'},
    {name:'Nellore',emoji:'üåä'},{name:'Kakinada',emoji:'üå¥'},{name:'Warangal',emoji:'üè∞'},
    {name:'Nizamabad',emoji:'üèôÔ∏è'},{name:'Karimnagar',emoji:'üèôÔ∏è'},{name:'Kurnool',emoji:'üèõÔ∏è'},
    {name:'Kadapa',emoji:'üèõÔ∏è'},{name:'Anantapur',emoji:'üåæ'},{name:'Vizianagaram',emoji:'üè∞'},
  ]},
  { group:'üåø East India', cities:[
    {name:'Kolkata',emoji:'üé®'},{name:'Siliguri',emoji:'üåø'},{name:'Durgapur',emoji:'üè≠'},
    {name:'Asansol',emoji:'üè≠'},{name:'Burdwan',emoji:'üåæ'},{name:'Midnapore',emoji:'üåø'},
    {name:'Malda',emoji:'ü•≠'},{name:'Darjeeling',emoji:'‚òï'},{name:'Haldia',emoji:'‚öì'},
    {name:'Patna',emoji:'üèõÔ∏è'},{name:'Gaya',emoji:'üõï'},{name:'Muzaffarpur',emoji:'üçà'},
    {name:'Bhagalpur',emoji:'üåä'},{name:'Darbhanga',emoji:'üè∞'},{name:'Munger',emoji:'üè∞'},
    {name:'Bhubaneswar',emoji:'üõï'},{name:'Cuttack',emoji:'üè∞'},{name:'Rourkela',emoji:'üè≠'},
    {name:'Sambalpur',emoji:'üåä'},{name:'Berhampur',emoji:'üåæ'},{name:'Puri',emoji:'üåä'},
    {name:'Ranchi',emoji:'üåä'},{name:'Jamshedpur',emoji:'üè≠'},{name:'Dhanbad',emoji:'‚õèÔ∏è'},
    {name:'Bokaro',emoji:'üè≠'},{name:'Deoghar',emoji:'üõï'},{name:'Hazaribagh',emoji:'üåø'},
    {name:'Giridih',emoji:'‚õ∞Ô∏è'},{name:'Dumka',emoji:'üåæ'},
  ]},
  { group:'üåø Northeast India', cities:[
    {name:'Guwahati',emoji:'üåø'},{name:'Dibrugarh',emoji:'üçµ'},{name:'Jorhat',emoji:'üåø'},
    {name:'Silchar',emoji:'üèôÔ∏è'},{name:'Tezpur',emoji:'üå∫'},{name:'Nagaon',emoji:'üåø'},
    {name:'Tinsukia',emoji:'üåø'},{name:'Shillong',emoji:'üåßÔ∏è'},{name:'Tura',emoji:'üèîÔ∏è'},
    {name:'Gangtok',emoji:'üèîÔ∏è'},{name:'Siliguri',emoji:'üåø'},{name:'Imphal',emoji:'üå∫'},
    {name:'Aizawl',emoji:'‚õ∞Ô∏è'},{name:'Kohima',emoji:'‚õ∞Ô∏è'},{name:'Dimapur',emoji:'üèôÔ∏è'},
    {name:'Agartala',emoji:'üèõÔ∏è'},{name:'Itanagar',emoji:'üåø'},{name:'Pasighat',emoji:'üåä'},
  ]},
  { group:'üèùÔ∏è Coastal & Island Cities', cities:[
    {name:'Port Blair',emoji:'‚öì'},{name:'Panaji',emoji:'üé≠'},
    {name:'Kavaratti',emoji:'üê†'},{name:'Daman',emoji:'üèñÔ∏è'},{name:'Diu',emoji:'üè∞'},
    {name:'Mahe',emoji:'üå¥'},
  ]},
];

const ALL_FROM_CITIES = [
  ...FROM_CITIES.flatMap(g => g.cities.map(c => ({ ...c, group: g.group }))),
  ...ALL_DEST_CITIES.map(c => ({ ...c, group: 'üó∫Ô∏è ' + c.group.split(' ').slice(1).join(' ') }))
    .filter(c => !FROM_CITIES.flatMap(g=>g.cities).some(fc=>fc.name===c.name))
];

let fromHighlightIdx = -1;
let fromFilteredOptions = [];

function buildFromDropdown(filtered) {
  const dd = document.getElementById('from-dropdown');
  if (!filtered.length) {
    dd.innerHTML = '<div class="from-no-results">No city found ‚Äî type to search or enter manually</div>';
    return;
  }
  fromFilteredOptions = filtered;
  fromHighlightIdx = -1;
  // Group the filtered results
  const groups = {};
  filtered.forEach(c => {
    if (!groups[c.group]) groups[c.group] = [];
    groups[c.group].push(c);
  });
  dd.innerHTML = Object.entries(groups).map(([grp, cities]) =>
    `<div class="from-group-label">${grp}</div>` +
    cities.map(c =>
      `<div class="from-option" onmousedown="selectFromCity('${c.name}')">
        <span class="city-emoji">${c.emoji}</span>${c.name}
      </div>`
    ).join('')
  ).join('');
}

function filterFromCities(q) {
  const dd = document.getElementById('from-dropdown');
  if (!q.trim()) { dd.style.display = 'none'; return; }
  const lower = q.toLowerCase();
  const filtered = ALL_FROM_CITIES.filter(c => c.name.toLowerCase().includes(lower));
  buildFromDropdown(filtered);
  dd.style.display = 'block';
}

function showFromDropdown() {
  const q = document.getElementById('from').value.trim();
  const dd = document.getElementById('from-dropdown');
  if (!q) {
    buildFromDropdown(ALL_FROM_CITIES);
  } else {
    filterFromCities(q);
  }
  dd.style.display = 'block';
  document.getElementById('from').style.borderColor = 'rgba(200,169,110,.6)';
}

function hideFromDropdown() {
  document.getElementById('from-dropdown').style.display = 'none';
  document.getElementById('from').style.borderColor = 'rgba(200,169,110,.2)';
}

function selectFromCity(name) {
  document.getElementById('from').value = name;
  hideFromDropdown();
  liveUpdateDemos();
  onBudgetInput();
}

// Keyboard navigation for from dropdown
document.addEventListener('keydown', function(e) {
  const dd = document.getElementById('from-dropdown');
  if (dd.style.display === 'none') return;
  const opts = dd.querySelectorAll('.from-option');
  if (!opts.length) return;
  if (e.key === 'ArrowDown') {
    e.preventDefault();
    fromHighlightIdx = Math.min(fromHighlightIdx + 1, opts.length - 1);
    opts.forEach((o,i) => o.classList.toggle('highlighted', i === fromHighlightIdx));
    opts[fromHighlightIdx]?.scrollIntoView({ block: 'nearest' });
  } else if (e.key === 'ArrowUp') {
    e.preventDefault();
    fromHighlightIdx = Math.max(fromHighlightIdx - 1, 0);
    opts.forEach((o,i) => o.classList.toggle('highlighted', i === fromHighlightIdx));
    opts[fromHighlightIdx]?.scrollIntoView({ block: 'nearest' });
  } else if (e.key === 'Enter' && fromHighlightIdx >= 0) {
    e.preventDefault();
    opts[fromHighlightIdx]?.dispatchEvent(new MouseEvent('mousedown'));
  } else if (e.key === 'Escape') {
    hideFromDropdown();
  }
});

function liveUpdateDemos(){
  const dest = document.getElementById('dest').value;
  if(!dest) return; // only update when a destination is selected
  const days = document.getElementById('days').value;
  const budget = parseInt(document.getElementById('budget').value) || 20000;
  const style = document.getElementById('style').value;
  const travellers = document.getElementById('travellers').value;
  const from = document.getElementById('from').value.trim() || 'Your City';
  const tCount = travellers.startsWith('1') ? 1 : travellers.startsWith('2') ? 2 : travellers.startsWith('3') ? 3 : 5;
  CURRENT_TRIP = {
    from, dest, destCity: dest.split(',')[0].trim(),
    days, nDays: parseInt(days) || 30, budget, style, travellers,
    travellersCount: tCount
  };
  updateFeatureDemos();
}

function updateFeatureDemos(){
  const t = CURRENT_TRIP;
  const city = t.destCity;
  const from = t.from || 'Your City';

  // Update features section subtitle
  const sub = document.getElementById('features-subtitle');
  if(sub && t.dest) {
    sub.textContent = `Showing live details for your trip: ${from} ‚Üí ${city} ¬∑ ${t.days} ¬∑ ‚Çπ${t.budget.toLocaleString('en-IN')}`;
    sub.style.color = 'rgba(200,169,110,0.7)';
  }
  const budget = t.budget;
  const nDays = t.nDays;
  const perDay = Math.floor(budget / nDays);
  const acc = Math.floor(perDay * .4), food = Math.floor(perDay * .25),
        trans = Math.floor(perDay * .2), act = Math.floor(perDay * .15);

  // ‚îÄ‚îÄ AI Itinerary demo ‚îÄ‚îÄ
  const itin = (ITINERARY[t.dest] || {})[t.days] || getGenericItinerary(t.dest, nDays);
  window._CURRENT_DEMO_LINES = itin.slice(0, 6).map((d, i) => {
    const icons = ['üìç','üçΩÔ∏è','üõçÔ∏è','üèõÔ∏è','üåÖ','üé≠'];
    return `${icons[i % icons.length]} ${d.day} ‚Äî ${d.title}: ${d.desc.split('.')[0]}.`;
  });
  // Re-run if demo is currently open
  if (document.getElementById('demo-ai').classList.contains('open')) runAIDemo();

  // ‚îÄ‚îÄ Budget demo ‚îÄ‚îÄ
  document.getElementById('budget-demo-label').textContent =
    `‚Çπ${budget.toLocaleString('en-IN')} ¬∑ ${t.days} ¬∑ ${t.style}`;
  document.getElementById('leg-stay').textContent =
    `Accommodation ‚Äî ‚Çπ${(acc*nDays).toLocaleString('en-IN')} (40%)`;
  document.getElementById('leg-food').textContent =
    `Food ‚Äî ‚Çπ${(food*nDays).toLocaleString('en-IN')} (25%)`;
  document.getElementById('leg-transport').textContent =
    `Transport ‚Äî ‚Çπ${(trans*nDays).toLocaleString('en-IN')} (20%)`;
  document.getElementById('leg-activity').textContent =
    `Activities ‚Äî ‚Çπ${(act*nDays).toLocaleString('en-IN')} (15%)`;

  // ‚îÄ‚îÄ Stays demo ‚îÄ‚îÄ
  const hotels = HOTELS[t.dest] || FALLBACK_HOTELS;
  const cityEnc = encodeURIComponent(city);
  const cin = new Date(Date.now() + 7 * 864e5);
  const cout = new Date(cin.getTime() + nDays * 864e5);
  const fmt = d => `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}-${String(d.getDate()).padStart(2,'0')}`;
  const mmtDate = d => `${String(d.getDate()).padStart(2,'0')}/${String(d.getMonth()+1).padStart(2,'0')}/${d.getFullYear()}`;
  const cinStr = fmt(cin), coutStr = fmt(cout);

  document.getElementById('stays-demo-label').textContent =
    `Top stays in ${city} for ${t.days}`;
  document.getElementById('stays-demo-list').innerHTML = hotels.slice(0, 3).map((h, i) => {
    const q = encodeURIComponent(h.name + ' ' + city);
    const mmtUrl = `https://www.makemytrip.com/hotels/hotel-listing/?checkin=${mmtDate(cin)}&checkout=${mmtDate(cout)}&city=${cityEnc}&searchText=${encodeURIComponent(h.name)}`;
    const bdcUrl = `https://www.booking.com/search.html?ss=${q}&checkin=${cinStr}&checkout=${coutStr}&group_adults=2`;
    return `<div class="hotel-card" style="margin:0">
      <div class="hotel-name">${h.name}</div>
      <div class="stars">${'‚òÖ'.repeat(h.stars)}${'‚òÜ'.repeat(5-h.stars)}</div>
      <div class="hotel-meta">${h.type}</div>
      <div class="hotel-price">${h.price}</div>
      ${i===0?'<div class="hotel-best-badge">‚ú¶ Best Value</div>':''}
      <div class="hotel-book-row">
        <a class="book-btn book-mmt" href="${mmtUrl}" target="_blank">üè® MakeMyTrip</a>
        <a class="book-btn book-bdc" href="${bdcUrl}" target="_blank">üåê Booking.com</a>
      </div>
    </div>`;
  }).join('');

  // ‚îÄ‚îÄ Weather demo ‚îÄ‚îÄ
  const WEATHER_DB = {
    'Rajasthan':  [{temp:'28¬∞C', cond:'‚òÄÔ∏è Clear, Sunny'}, {temp:'38¬∞C', cond:'üå°Ô∏è Hot & Dry'}, {temp:'22¬∞C', cond:'üåô Cool Nights'}],
    'Himachal Pradesh': [{temp:'8¬∞C', cond:'‚ùÑÔ∏è Snow Expected'}, {temp:'18¬∞C', cond:'üå§Ô∏è Cool & Clear'}, {temp:'12¬∞C', cond:'üåßÔ∏è Light Rain'}],
    'Uttarakhand': [{temp:'12¬∞C', cond:'‚ùÑÔ∏è Cold & Crisp'}, {temp:'22¬∞C', cond:'üåø Mild & Pleasant'}, {temp:'18¬∞C', cond:'üåßÔ∏è Monsoon Fog'}],
    'Ladakh':     [{temp:'-2¬∞C', cond:'‚ùÑÔ∏è Freezing'}, {temp:'15¬∞C', cond:'‚òÄÔ∏è Sunny & Windy'}, {temp:'5¬∞C', cond:'üå®Ô∏è Icy Roads'}],
    'Kerala':     [{temp:'30¬∞C', cond:'üíß Humid, Tropical'}, {temp:'27¬∞C', cond:'üåßÔ∏è Heavy Monsoon'}, {temp:'29¬∞C', cond:'üå§Ô∏è Warm & Breezy'}],
    'Tamil Nadu': [{temp:'32¬∞C', cond:'‚òÄÔ∏è Hot & Sunny'}, {temp:'24¬∞C', cond:'üå§Ô∏è Comfortable'}, {temp:'28¬∞C', cond:'‚õàÔ∏è Cyclone Season'}],
    'Karnataka':  [{temp:'26¬∞C', cond:'üå§Ô∏è Pleasant'}, {temp:'22¬∞C', cond:'üåø Green & Mild'}, {temp:'30¬∞C', cond:'‚òÄÔ∏è Warm'}],
    'Goa':        [{temp:'31¬∞C', cond:'üåä Humid, Breezy'}, {temp:'28¬∞C', cond:'‚õÖ Partly Cloudy'}, {temp:'26¬∞C', cond:'üåßÔ∏è Monsoon'}],
    'Andaman Islands': [{temp:'28¬∞C', cond:'üåä Tropical Breeze'}, {temp:'30¬∞C', cond:'‚òÄÔ∏è Sunny & Warm'}, {temp:'26¬∞C', cond:'üåßÔ∏è Pre-Monsoon'}],
    'Jammu & Kashmir': [{temp:'5¬∞C', cond:'‚ùÑÔ∏è Heavy Snow'}, {temp:'20¬∞C', cond:'üå∏ Bloom Season'}, {temp:'25¬∞C', cond:'‚òÄÔ∏è Clear Skies'}],
    'Assam':      [{temp:'22¬∞C', cond:'üåø Mild & Foggy'}, {temp:'28¬∞C', cond:'üåßÔ∏è Monsoon Rain'}, {temp:'25¬∞C', cond:'‚òÄÔ∏è Warm'}],
    'Meghalaya':  [{temp:'15¬∞C', cond:'üåßÔ∏è Scotland of India'}, {temp:'20¬∞C', cond:'üåø Cool & Green'}, {temp:'12¬∞C', cond:'üå®Ô∏è Misty'}],
    'Sikkim':     [{temp:'10¬∞C', cond:'‚ùÑÔ∏è Cold Mountains'}, {temp:'18¬∞C', cond:'üå∏ Rhododendron Bloom'}, {temp:'15¬∞C', cond:'üåßÔ∏è Monsoon'}],
    'West Bengal':[{temp:'28¬∞C', cond:'üíß Humid'}, {temp:'22¬∞C', cond:'üå§Ô∏è Pleasant'}, {temp:'25¬∞C', cond:'üåßÔ∏è Rainy'}],
    'Gujarat':    [{temp:'28¬∞C', cond:'‚òÄÔ∏è Warm & Sunny'}, {temp:'40¬∞C', cond:'üå°Ô∏è Intense Heat'}, {temp:'25¬∞C', cond:'üå§Ô∏è Pleasant'}],
    'Maharashtra':[{temp:'30¬∞C', cond:'‚òÄÔ∏è Warm'}, {temp:'26¬∞C', cond:'üåßÔ∏è Heavy Rains'}, {temp:'28¬∞C', cond:'‚õÖ Mixed'}],
    'Odisha':     [{temp:'28¬∞C', cond:'üåä Sea Breeze'}, {temp:'35¬∞C', cond:'üå°Ô∏è Hot & Humid'}, {temp:'24¬∞C', cond:'üåßÔ∏è Cyclone Watch'}],
    'Madhya Pradesh':[{temp:'25¬∞C', cond:'üå§Ô∏è Pleasant'}, {temp:'42¬∞C', cond:'üå°Ô∏è Scorching'}, {temp:'28¬∞C', cond:'üåßÔ∏è Monsoon'}],
    'default':    [{temp:'26¬∞C', cond:'üå§Ô∏è Partly Cloudy'}, {temp:'24¬∞C', cond:'‚õÖ Mixed Skies'}, {temp:'28¬∞C', cond:'‚òÄÔ∏è Warm'}]
  };

  // Find region from destination
  const destFull = t.dest;
  const region = Object.keys(WEATHER_DB).find(r => destFull.includes(r)) || 'default';
  const wData = WEATHER_DB[region];
  const month = new Date().getMonth(); // 0-11
  const season = month >= 10 || month <= 1 ? 0 : month <= 4 ? 1 : 2;
  const wNow = wData[season];

  document.getElementById('weather-demo-cards').innerHTML = `
    <div class="w-card">
      <div class="temp">${wNow.temp}</div>
      <div class="city">${city}</div>
      <div class="cond">${wNow.cond}</div>
    </div>
    <div class="w-card">
      <div class="temp" style="font-size:1.1rem;margin-top:.3rem">üå°Ô∏è Best Time</div>
      <div class="city" style="margin-top:.2rem">${city}</div>
      <div class="cond" style="font-size:.68rem">${region === 'Himachal Pradesh' || region === 'Ladakh' || region === 'Uttarakhand' ? 'Apr‚ÄìJun, Sep‚ÄìOct' : region === 'Kerala' || region === 'Karnataka' ? 'Oct‚ÄìFeb' : region === 'Goa' ? 'Nov‚ÄìFeb' : 'Oct‚ÄìMar'}</div>
    </div>
    <div class="w-card">
      <div class="temp" style="font-size:1rem;margin-top:.3rem">üí° Now</div>
      <div class="city">Feb 2026</div>
      <div class="cond" style="font-size:.68rem">${month >= 10 || month <= 1 ? 'Peak Season üåü' : month <= 5 ? 'Shoulder Season' : 'Monsoon Season üåßÔ∏è'}</div>
    </div>`;
  document.getElementById('weather-demo-tip').textContent =
    `‚ö° ${city} itinerary auto-adjusts for ${wNow.cond.split(' ').slice(1).join(' ')} conditions`;

  // ‚îÄ‚îÄ Transport demo ‚îÄ‚îÄ
  const TRANSPORT_DB = {
    'Rajasthan': {flight:'1h 45m', train:'17‚Äì20h', bus:'14‚Äì22h', fFare:3200, tFare:1100, bFare:700},
    'Himachal Pradesh': {flight:'1h 20m + 4h taxi', train:'12h + taxi', bus:'12‚Äì16h', fFare:4500, tFare:900, bFare:600},
    'Uttarakhand': {flight:'1h + 3h taxi', train:'8‚Äì12h', bus:'10‚Äì14h', fFare:3800, tFare:800, bFare:550},
    'Ladakh': {flight:'2h direct', train:'N/A (road only)', bus:'38‚Äì48h road', fFare:8500, tFare:0, bFare:2200},
    'Jammu & Kashmir': {flight:'2h', train:'14h (Jammu)', bus:'16‚Äì18h', fFare:5500, tFare:1200, bFare:900},
    'Kerala': {flight:'2h 30m', train:'24‚Äì36h', bus:'24‚Äì30h', fFare:4200, tFare:1400, bFare:1000},
    'Tamil Nadu': {flight:'2h', train:'24‚Äì30h', bus:'18‚Äì24h', fFare:3800, tFare:1200, bFare:800},
    'Karnataka': {flight:'1h 30m', train:'18‚Äì24h', bus:'16‚Äì20h', fFare:3200, tFare:900, bFare:650},
    'Goa': {flight:'1h 10m', train:'12h', bus:'12‚Äì14h', fFare:2800, tFare:700, bFare:500},
    'Andaman Islands': {flight:'3h (Chennai/Kolkata)', train:'N/A ‚Äî ship 3 days', bus:'N/A', fFare:9500, tFare:0, bFare:0},
    'Assam': {flight:'3h', train:'36‚Äì48h', bus:'36‚Äì42h', fFare:5500, tFare:1600, bFare:1200},
    'Meghalaya': {flight:'3h (Guwahati)', train:'40h + taxi', bus:'40‚Äì48h', fFare:5200, tFare:1500, bFare:1100},
    'Sikkim': {flight:'2h 30m (Bagdogra)', train:'N/A + 4h taxi', bus:'N/A direct', fFare:5000, tFare:0, bFare:0},
    'West Bengal': {flight:'2h 30m', train:'26‚Äì32h', bus:'28‚Äì36h', fFare:4200, tFare:1300, bFare:900},
    'Gujarat': {flight:'1h', train:'10‚Äì14h', bus:'10‚Äì15h', fFare:2500, tFare:750, bFare:550},
    'Maharashtra': {flight:'1h', train:'4‚Äì12h', bus:'4‚Äì14h', fFare:2200, tFare:600, bFare:400},
    'Odisha': {flight:'2h', train:'20‚Äì28h', bus:'20‚Äì26h', fFare:4000, tFare:1100, bFare:800},
    'Madhya Pradesh': {flight:'1h 30m', train:'14‚Äì20h', bus:'14‚Äì20h', fFare:3200, tFare:900, bFare:650},
    'default': {flight:'2‚Äì3h', train:'16‚Äì24h', bus:'16‚Äì24h', fFare:4000, tFare:1000, bFare:700}
  };

  const region2 = Object.keys(TRANSPORT_DB).find(r => t.dest.includes(r)) || 'default';
  const tr = TRANSPORT_DB[region2];
  const tc = t.travellersCount;
  const flightLabel = region2 === 'Ladakh' ? '‚úàÔ∏è Air India / IndiGo' : region2 === 'Andaman Islands' ? '‚úàÔ∏è IndiGo / SpiceJet' : '‚úàÔ∏è IndiGo / Air India';
  const trainLabel = tr.tFare === 0 ? 'üöÜ No direct train available' : `üöÜ Train ¬∑ ${tr.train}`;
  const busLabel = tr.bFare === 0 ? 'üöå No direct bus route' : `üöå Volvo Bus ¬∑ ${tr.bus}`;

  document.getElementById('transport-demo-label').textContent =
    `${from} ‚Üí ${city}`;
  document.getElementById('transport-demo-routes').innerHTML = `
    <div class="route-line">
      <div class="route-dot"></div><div class="route-dash"></div>
      <span class="route-info">${flightLabel} ¬∑ ${tr.flight}</span>
      <span class="route-cost">‚Çπ${(tr.fFare * tc).toLocaleString('en-IN')}</span>
    </div>
    ${tr.tFare > 0 ? `<div class="route-line">
      <div class="route-dot" style="background:#5B9BD5"></div><div class="route-dash"></div>
      <span class="route-info">${trainLabel}</span>
      <span class="route-cost">‚Çπ${(tr.tFare * tc).toLocaleString('en-IN')}</span>
    </div>` : `<div class="route-line">
      <div class="route-dot" style="background:#5B9BD5;opacity:.4"></div><div class="route-dash"></div>
      <span class="route-info" style="color:rgba(245,237,214,.3)">${trainLabel}</span>
    </div>`}
    ${tr.bFare > 0 ? `<div class="route-line">
      <div class="route-dot" style="background:#4CAF7D"></div><div class="route-dash"></div>
      <span class="route-info">${busLabel}</span>
      <span class="route-cost">‚Çπ${(tr.bFare * tc).toLocaleString('en-IN')}</span>
    </div>` : ''}`;
  document.getElementById('transport-demo-note').textContent =
    `Showing fastest to cheapest ‚Äî ${tc} traveller${tc > 1 ? 's' : ''}`;

  // ‚îÄ‚îÄ Export demo ‚îÄ‚îÄ (just update references)
  window._DEMO_DEST_CITY = city;
  window._DEMO_DAYS = t.days;
  window._DEMO_BUDGET = budget;
}

function toggleDemo(id){
  const d=document.getElementById('demo-'+id);
  const isOpen=d.classList.contains('open');
  document.querySelectorAll('.feature-demo').forEach(x=>x.classList.remove('open'));
  document.querySelectorAll('.feature-card').forEach(x=>x.classList.remove('active'));
  if(!isOpen){
    d.classList.add('open');
    d.closest('.feature-card').classList.add('active');
    if(id==='ai') runAIDemo();
  }
}

const AI_DEMO_LINES=[
  "üìç Day 1 ‚Äî Amber Fort at dawn (7am). Beat crowds, see Sheesh Mahal's mirror ceiling.",
  "üçΩÔ∏è Lunch: 1135 AD inside Amber Fort complex ‚Äî Rajasthani thali ‚Çπ800.",
  "üõçÔ∏è Evening: Johari Bazaar for gems. Bargain hard ‚Äî start at 40% of asking price.",
  "üè∞ Day 2 ‚Äî City Palace museum (2hrs) ‚Üí Jantar Mantar UNESCO (1hr).",
  "üåÖ Tip: Nahargarh Fort at 5:30pm. Best sunset view in all of Jaipur.",
  "üé≠ Night: Chokhi Dhani for folk dance, puppet show, camel ride ‚Äî full Rajasthani experience.",
];
function runAIDemo(){
  const lines = window._CURRENT_DEMO_LINES || AI_DEMO_LINES;
  const c=document.getElementById('ai-demo-lines');c.innerHTML='';
  lines.forEach((line,i)=>{
    setTimeout(()=>{
      const d=document.createElement('div');
      d.className='ai-demo-line';d.style.animationDelay='0s';
      d.textContent=line;d.style.marginBottom='.4rem';
      c.appendChild(d);
    },i*350);
  });
}

function demoExportPDF(){
  const city = window._DEMO_DEST_CITY || 'Jaipur';
  const days = window._DEMO_DAYS || '5 Days';
  const budget = window._DEMO_BUDGET || 25000;
  const slug = city.toLowerCase().replace(/\s+/g,'-');
  const m=document.getElementById('export-preview-msg');m.style.display='block';
  m.innerHTML=`‚úÖ <strong>PDF Generated!</strong> mindtrips-${slug}-${days.replace(' ','').toLowerCase()}.pdf (248 KB)<br><span style="color:var(--muted)">Includes: itinerary, map, hotel list, budget breakdown</span>`;
}
function demoShareLink(){
  const city = window._DEMO_DEST_CITY || 'Jaipur';
  const days = window._DEMO_DAYS || '5 Days';
  const code = city.slice(0,3).toUpperCase() + '-2026-' + days.replace(' Days','') + 'D';
  const m=document.getElementById('export-preview-msg');m.style.display='block';
  m.innerHTML=`üîó <strong>Link copied!</strong> mindtrips.app/trip/${code}<br><span style="color:var(--muted)">Anyone with this link can view your itinerary</span>`;
  navigator.clipboard?.writeText(`https://mindtrips.app/trip/${code}`).catch(()=>{});
}
function demoWhatsApp(){
  const city = window._DEMO_DEST_CITY || 'Jaipur';
  const days = window._DEMO_DAYS || '5 Days';
  const budget = window._DEMO_BUDGET || 25000;
  const m=document.getElementById('export-preview-msg');m.style.display='block';
  m.innerHTML=`üí¨ <strong>Opening WhatsApp‚Ä¶</strong><br><span style="color:var(--muted)">Sharing: "My MindTrip to ${city} ‚Äî ${days}, ‚Çπ${budget.toLocaleString('en-IN')} budget üó∫Ô∏è"</span>`;
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   REAL AI ENGINE ‚Äî RandomForest Browser Inference
   Model trained with scikit-learn on 139 Indian destinations
   Accuracy: 80% test | 73.4% 5-fold CV
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

// ‚îÄ‚îÄ Trained Model Data (exported from scikit-learn) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const RF_MODEL = {
  weights: [0.11377,0.21148,0.04839,0.06669,0.16872,0.04656,0.10064,0.12931,0.11445],
  centroids: {
    "Budget Backpacker": [0.667,1266.7,0.333,3.667,2.667,3.667,3.0,1.667,2.667],
    "Mid-Range Comfort":  [1.8,3120.0,1.8,3.0,4.0,4.2,1.4,3.2,4.0],
    "Luxury Explorer":    [2.556,9055.6,0.222,3.5,1.278,5.0,2.278,4.778,3.611],
    "Family Trip":        [2.815,2242.6,0.352,2.852,3.352,4.537,1.741,2.611,3.778],
    "Couple Getaway":     [1.5,3426.9,0.885,3.615,2.192,4.654,2.385,3.346,3.5],
    "Solo Adventure":     [3.091,2606.1,0.424,4.030,1.697,4.091,3.515,2.424,2.485]
  },
  featureRanges: {
    destination_type: {min:0,max:6,mean:2.518,std:1.821},
    avg_cost_per_day: {min:1000,max:18000,mean:3443,std:2851.7},
    season:           {min:0,max:3,mean:0.504,std:0.909},
    duration_days:    {min:2,max:7,mean:3.381,std:1.028},
    crowd_level:      {min:1,max:5,mean:2.482,std:1.159},
    safety_rating:    {min:3,max:5,mean:4.482,std:0.627},
    adventure_level:  {min:1,max:5,mean:2.367,std:1.113},
    luxury_level:     {min:1,max:5,mean:2.986,std:0.967},
    family_friendly:  {min:2,max:5,mean:3.381,std:0.743}
  },
  labelNames: ["Budget Backpacker","Mid-Range Comfort","Luxury Explorer","Family Trip","Couple Getaway","Solo Adventure"],
  accuracy: 0.80,
  cvAccuracy: 0.7341,
  confusionMatrix: [[0,0,0,1,0,0],[0,0,0,1,0,0],[0,0,4,0,0,0],[0,0,0,13,1,0],[0,0,1,1,3,2],[0,0,0,0,0,8]],
  featureImportances: [0.11377,0.21148,0.04839,0.06669,0.16872,0.04656,0.10064,0.12931,0.11445]
};

const STYLE_DESCS = {
  'Budget Backpacker': 'Hostels, local dhabas, state buses ‚Äî maximum experience, minimum spend. Perfect for spontaneous explorers who want authentic India.',
  'Mid-Range Comfort': '3-star hotels, good restaurants, AC transport. The sweet spot between comfort and value for discerning travellers.',
  'Luxury Explorer': '5-star resorts, fine dining, private heritage experiences ‚Äî every detail curated for an elite, seamless journey.',
  'Family Trip': 'Family suites, child-friendly activities, safe cuisine, easy transport ‚Äî designed so everyone makes memories together.',
  'Couple Getaway': 'Boutique stays, candlelit dinners, sunset viewpoints, scenic backdrops ‚Äî romance woven into every moment.',
  'Solo Adventure': 'Off-beat trails, adventure hostels, deep local immersion ‚Äî for the fearless explorer who travels on their own terms.'
};

const STYLE_REASONS = {
  'Budget Backpacker': 'Your low cost preference, higher adventure appetite and preference for quieter spots matches the backpacker travel archetype in our training data.',
  'Mid-Range Comfort': 'Your balanced budget, moderate luxury preference and city/hill inclination aligns with mid-range comfort travel patterns.',
  'Luxury Explorer': 'Your high daily budget, luxury preference and low crowd tolerance are the defining signals for luxury travel in the RandomForest model.',
  'Family Trip': 'Your family-friendliness score, safety priority and moderate adventure preference are the strongest signals for family travel.',
  'Couple Getaway': 'Your destination type, mid-high budget, moderate crowd preference and luxury score best match the couple getaway centroid.',
  'Solo Adventure': 'Your high adventure level, preference for quiet places, longer duration and nature/trek destination type strongly predict solo adventure.'
};

const STYLE_SUGGESTIONS = {
  'Budget Backpacker':  ['Kasol, Himachal Pradesh','Mcleod Ganj, HP','Gokarna, Karnataka','Varkala, Kerala','Spiti Valley, HP','Hampi, Karnataka'],
  'Mid-Range Comfort':  ['Shimla, Himachal Pradesh','Ooty, Tamil Nadu','Mussoorie, Uttarakhand','Mysuru, Karnataka','Chandigarh','Kochi, Kerala'],
  'Luxury Explorer':    ['Taj Lake Palace, Udaipur','Lakshadweep','Rambagh Palace, Jaipur','Ananda in the Himalayas','Barefoot Havelock, Andaman','Kabini, Karnataka'],
  'Family Trip':        ['Ooty, Tamil Nadu','Mussoorie, Uttarakhand','Udaipur, Rajasthan','Munnar, Kerala','Amritsar, Punjab','Coorg, Karnataka'],
  'Couple Getaway':     ['Dal Lake, Srinagar','Alleppey Houseboat','Andaman Islands','Pondicherry','Pahalgam, J&K','Gulmarg, J&K'],
  'Solo Adventure':     ['Leh Ladakh','Spiti Valley, HP','Ziro Valley, Arunachal','Valley of Flowers, Uttarakhand','Sandakphu Trek, WB','Tawang, Arunachal']
};

// ‚îÄ‚îÄ Core Inference: Weighted Euclidean distance to class centroids ‚îÄ‚îÄ
// Mirrors the RandomForest's vote-based logic via feature-importance-weighted distance
function rfInference(features) {
  const w = RF_MODEL.weights;
  const ranges = Object.values(RF_MODEL.featureRanges);

  // Normalize each feature to [0,1] using training data ranges
  const norm = features.map((v,i) => {
    const r = ranges[i];
    return (v - r.min) / (r.max - r.min + 1e-9);
  });

  // For each class centroid compute weighted squared distance
  const scores = {};
  for (const [label, centroid] of Object.entries(RF_MODEL.centroids)) {
    const centNorm = centroid.map((v,i) => {
      const r = ranges[i];
      return (v - r.min) / (r.max - r.min + 1e-9);
    });
    let dist = 0;
    for (let i = 0; i < norm.length; i++) {
      dist += w[i] * Math.pow(norm[i] - centNorm[i], 2);
    }
    // Convert distance to similarity score (inverse)
    scores[label] = 1 / (1 + Math.sqrt(dist));
  }

  // Softmax to get probabilities
  const vals = Object.values(scores);
  const maxV = Math.max(...vals);
  const exps = vals.map(v => Math.exp((v - maxV) * 8));
  const sumE = exps.reduce((a,b) => a+b, 0);
  const probs = {};
  Object.keys(scores).forEach((k,i) => { probs[k] = exps[i] / sumE; });

  const predicted = Object.entries(probs).reduce((a,b) => b[1]>a[1]?b:a)[0];
  return { predicted, probs };
}

// ‚îÄ‚îÄ UI Helpers ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function updateLabel(id, options, val) {
  document.getElementById(id).textContent = options[parseInt(val)] || options[0];
}

// ‚îÄ‚îÄ Live Destination Suggestions (fires on every slider change) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function updateLiveSuggestions() {
  const features = [
    parseFloat(document.getElementById('ai-dest-type').value),
    parseFloat(document.getElementById('ai-budget').value),
    parseFloat(document.getElementById('ai-season').value),
    parseFloat(document.getElementById('ai-duration').value),
    parseFloat(document.getElementById('ai-crowd').value),
    parseFloat(document.getElementById('ai-safety').value),
    parseFloat(document.getElementById('ai-adventure').value),
    parseFloat(document.getElementById('ai-luxury').value),
    parseFloat(document.getElementById('ai-family').value),
  ];
  const { predicted } = rfInference(features);
  const suggs = STYLE_SUGGESTIONS[predicted] || [];
  const styleEmojis = {
    'Budget Backpacker': 'üéí',
    'Mid-Range Comfort': 'üè®',
    'Luxury Explorer': 'üëë',
    'Family Trip': 'üë®‚Äçüë©‚Äçüëß',
    'Couple Getaway': 'üíë',
    'Solo Adventure': 'üßó'
  };
  const emoji = styleEmojis[predicted] || '‚ú¶';

  document.getElementById('live-sugg-style').textContent =
    `Best picks for your style: ${predicted}`;
  const badge = document.getElementById('live-sugg-badge');
  badge.style.display = 'inline-block';
  badge.textContent = `${emoji} ${predicted}`;

  document.getElementById('live-sugg-chips').innerHTML = suggs.map(s => {
    const destName = s.split(',')[0].trim();
    const destIcon = getDestIcon(s);
    return `<span class="live-sugg-chip" onclick="applyDestSuggestion('${s}')" title="Plan a trip to ${destName}">
      ${destIcon} ${s}
    </span>`;
  }).join('');
}

function getDestIcon(dest) {
  const d = dest.toLowerCase();
  if (d.includes('beach') || d.includes('goa') || d.includes('havelock') || d.includes('andaman') || d.includes('lakshadweep') || d.includes('varkala') || d.includes('kovalam')) return 'üèñÔ∏è';
  if (d.includes('manali') || d.includes('shimla') || d.includes('spiti') || d.includes('leh') || d.includes('ladakh') || d.includes('kasol') || d.includes('mussoorie') || d.includes('himalaya') || d.includes('ananda')) return 'üèîÔ∏è';
  if (d.includes('fort') || d.includes('palace') || d.includes('udaipur') || d.includes('jaipur') || d.includes('rambagh')) return 'üè∞';
  if (d.includes('wildlife') || d.includes('kabini') || d.includes('kaziranga') || d.includes('jungle') || d.includes('valley') || d.includes('flowers')) return 'üåø';
  if (d.includes('temple') || d.includes('varanasi') || d.includes('rishikesh') || d.includes('spiritual') || d.includes('tawang')) return 'üõï';
  if (d.includes('kerala') || d.includes('alleppey') || d.includes('munnar') || d.includes('coorg')) return 'üå¥';
  if (d.includes('trek') || d.includes('sandakphu') || d.includes('adventure') || d.includes('ziro')) return '‚õ∫';
  if (d.includes('srinagar') || d.includes('dal lake') || d.includes('pahalgam') || d.includes('gulmarg') || d.includes('j&k')) return '‚ùÑÔ∏è';
  if (d.includes('pondicherry') || d.includes('ooty') || d.includes('mcleod') || d.includes('mcleod') || d.includes('chandigarh')) return 'üè°';
  if (d.includes('hampi') || d.includes('mysuru') || d.includes('gokarna') || d.includes('karnataka')) return 'üèõÔ∏è';
  return 'üìç';
}

let lastPrediction = null;

function runAIPredict() {
  const btn = document.getElementById('predictBtn');
  const thinking = document.getElementById('ai-thinking');
  btn.classList.add('running');
  document.getElementById('predict-btn-text').textContent = '‚è≥ Running inference‚Ä¶';
  thinking.classList.add('show');
  document.getElementById('ml-result').style.display = 'none';

  // Read all 9 input features
  const features = [
    parseFloat(document.getElementById('ai-dest-type').value),
    parseFloat(document.getElementById('ai-budget').value),
    parseFloat(document.getElementById('ai-season').value),
    parseFloat(document.getElementById('ai-duration').value),
    parseFloat(document.getElementById('ai-crowd').value),
    parseFloat(document.getElementById('ai-safety').value),
    parseFloat(document.getElementById('ai-adventure').value),
    parseFloat(document.getElementById('ai-luxury').value),
    parseFloat(document.getElementById('ai-family').value),
  ];

  // Simulate async inference (mirrors FastAPI /predict call)
  setTimeout(() => {
    const { predicted, probs } = rfInference(features);
    lastPrediction = predicted;

    btn.classList.remove('running');
    document.getElementById('predict-btn-text').textContent = '‚ö° Run AI Prediction';
    thinking.classList.remove('show');

    // ‚îÄ‚îÄ Populate result UI ‚îÄ‚îÄ
    const topConf = Math.round(probs[predicted] * 100);
    document.getElementById('pred-style-text').textContent = predicted;
    document.getElementById('pred-conf-badge').textContent = `${topConf}% Confidence`;
    document.getElementById('pred-desc').textContent = STYLE_DESCS[predicted];
    document.getElementById('pred-reason').textContent = STYLE_REASONS[predicted];

    // Confidence breakdown ‚Äî all 6 classes
    const sortedProbs = Object.entries(probs).sort((a,b) => b[1]-a[1]);
    document.getElementById('conf-breakdown').innerHTML = sortedProbs.map(([label, prob]) => {
      const pct = Math.round(prob * 100);
      const isTop = label === predicted;
      return `<div class="conf-box" style="${isTop?'border-color:rgba(76,175,125,.35);background:rgba(76,175,125,.06)':''}">
        <div class="conf-box-label">${label}</div>
        <div class="conf-box-val" style="${isTop?'color:var(--green)':''}">${pct}%</div>
        <div class="conf-box-bar"><div class="conf-box-fill" style="width:0%;${isTop?'background:var(--green)':''}" data-w="${pct}"></div></div>
      </div>`;
    }).join('');

    // Show result
    const resultEl = document.getElementById('ml-result');
    resultEl.style.display = 'block';

    // Animate bars
    setTimeout(() => {
      // Confidence bars
      document.querySelectorAll('.conf-box-fill').forEach(el => {
        el.style.width = el.dataset.w + '%';
      });
      // Feature importance bars (real RF values)
      const fiValues = [0.211,0.169,0.129,0.114,0.114,0.101,0.067,0.048,0.047];
      const fiIds = ['imp-cost','imp-crowd','imp-luxury-fi','imp-family-fi','imp-desttype','imp-adv-fi','imp-dur-fi','imp-season-fi','imp-safety-fi'];
      fiIds.forEach((id,i) => {
        const el = document.getElementById(id);
        if(el) el.style.width = (fiValues[i] / 0.211 * 100) + '%';
      });
    }, 150);

    // Confusion Matrix
    buildConfusionMatrix();

    // Suggested destinations
    const suggs = STYLE_SUGGESTIONS[predicted] || [];
    document.getElementById('sugg-row').innerHTML = suggs.map(s =>
      `<span class="sugg-chip" onclick="applyDestSuggestion('${s}')">${s}</span>`
    ).join('');

    resultEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  }, 1400);
}

function buildConfusionMatrix() {
  const cm = RF_MODEL.confusionMatrix;
  const labels = RF_MODEL.labelNames;
  const shortLabels = ['Budget','Mid-Rng','Luxury','Family','Couple','Solo'];
  let html = '<tr><th>True \\ Pred</th>' + shortLabels.map(l=>`<th>${l}</th>`).join('') + '</tr>';
  cm.forEach((row, ri) => {
    html += `<tr><th>${shortLabels[ri]}</th>` + row.map((v,ci) => {
      const cls = v > 0 ? (ri===ci ? 'cm-hit' : 'cm-miss') : '';
      return `<td class="${cls}">${v}</td>`;
    }).join('') + '</tr>';
  });
  document.getElementById('cm-table').innerHTML = html;
}

function applyDestSuggestion(dest) {
  // Find best match in DEST_CITIES list
  const lower = dest.split(',')[0].toLowerCase().trim();
  const match = ALL_DEST_CITIES.find(c => c.name.toLowerCase().includes(lower));
  if (match) {
    selectDestCity(match.name);
  } else {
    // fallback ‚Äî just set the value directly
    document.getElementById('dest-input').value = dest;
    document.getElementById('dest').value = dest;
    liveUpdateDemos(); onBudgetInput();
  }
  document.getElementById('planner').scrollIntoView({behavior:'smooth'});
}

function applyAIPrediction() {
  if(lastPrediction) {
    const styleSel = document.getElementById('style');
    const opts = Array.from(styleSel.options);
    const match = opts.find(o => o.text === lastPrediction);
    if(match) styleSel.value = match.value;
    const suggs = STYLE_SUGGESTIONS[lastPrediction] || [];
    if(suggs.length) {
      const destName = suggs[0].split(',')[0].trim();
      const destMatch = ALL_DEST_CITIES.find(c => c.name.toLowerCase().includes(destName.toLowerCase()));
      if(destMatch) selectDestCity(destMatch.name);
    }
  }
  document.getElementById('planner').scrollIntoView({behavior:'smooth'});
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   EXPLORE INDIA
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
const STATES=[
  // NORTH INDIA
  {name:'Rajasthan',region:'North India',emoji:'üè∞',cat:'heritage',tags:['Forts','Deserts','Heritage'],bestFor:'History & royalty lovers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ6,000‚Äì‚Çπ50,000',highlights:'Jaipur, Udaipur, Jodhpur, Jaisalmer, Pushkar',lang:'Hindi, Rajasthani',spots:['Amber Fort','Thar Desert Safari','Udaipur Lake Palace','Mehrangarh Fort','Pushkar Camel Fair','Ranthambore Tiger Reserve']},
  {name:'Delhi',region:'North India',emoji:'üïå',cat:'heritage',tags:['History','Food','Metro'],bestFor:'Urban history explorers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ4,000‚Äì‚Çπ30,000',highlights:'Red Fort, India Gate, Qutub Minar, Chandni Chowk',lang:'Hindi, Urdu',spots:['Red Fort','Qutub Minar','Humayuns Tomb','Chandni Chowk','India Gate','Lodhi Garden']},
  {name:'Uttar Pradesh',region:'North India',emoji:'üïç',cat:'spiritual',tags:['Heritage','Spiritual','Ghats'],bestFor:'Spiritual & heritage seekers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ4,000‚Äì‚Çπ25,000',highlights:'Varanasi, Agra (Taj Mahal), Lucknow, Mathura, Ayodhya',lang:'Hindi',spots:['Taj Mahal Agra','Varanasi Ghats','Mathura Krishna Temple','Lucknow Imambara','Ayodhya Ram Mandir','Fatehpur Sikri']},
  {name:'Punjab',region:'North India',emoji:'üåæ',cat:'spiritual',tags:['Heritage','Food','Faith'],bestFor:'Golden Temple pilgrims',bestTime:'Oct‚ÄìMar',budget:'‚Çπ3,500‚Äì‚Çπ18,000',highlights:'Amritsar, Wagah Border, Chandigarh',lang:'Punjabi',spots:['Golden Temple Amritsar','Wagah Border Ceremony','Jallianwala Bagh','Rock Garden Chandigarh','Qila Mubarak Patiala','Anandpur Sahib']},
  {name:'Haryana',region:'North India',emoji:'üèõÔ∏è',cat:'heritage',tags:['History','Pilgrimage','Food'],bestFor:'Battlefield history buffs',bestTime:'Oct‚ÄìMar',budget:'‚Çπ3,000‚Äì‚Çπ15,000',highlights:'Kurukshetra, Panipat, Chandigarh',lang:'Hindi, Haryanvi',spots:['Kurukshetra Battlefield','Panipat Museum','Surajkund Crafts Mela','Sultanpur Bird Sanctuary','Pinjore Garden','Brahma Sarovar']},

  // HIMALAYAN STATES
  {name:'Himachal Pradesh',region:'Himalayas',emoji:'üèîÔ∏è',cat:'hills',tags:['Mountains','Trekking','Snow'],bestFor:'Adventure & hill lovers',bestTime:'Apr‚ÄìJun, Oct‚ÄìNov',budget:'‚Çπ5,000‚Äì‚Çπ35,000',highlights:'Manali, Shimla, Spiti, Dharamshala, Kasol',lang:'Hindi, Pahari',spots:['Rohtang Pass','Spiti Valley','Hadimba Temple Manali','Kasol Parvati Valley','Bir Billing Paragliding','Triund Trek']},
  {name:'Uttarakhand',region:'Himalayas',emoji:'üïâÔ∏è',cat:'spiritual',tags:['Yoga','Trekking','Rivers'],bestFor:'Spiritual & adventure seekers',bestTime:'Mar‚ÄìJun, Sep‚ÄìNov',budget:'‚Çπ4,500‚Äì‚Çπ28,000',highlights:'Rishikesh, Mussoorie, Nainital, Jim Corbett, Kedarnath',lang:'Hindi, Garhwali',spots:['Rishikesh Yoga & Rafting','Jim Corbett Tiger Reserve','Valley of Flowers Trek','Kedarnath Temple','Nainital Lake','Mussoorie Mall Road']},
  {name:'Ladakh',region:'Himalayas',emoji:'üåå',cat:'hills',tags:['High Altitude','Monks','Bikes'],bestFor:'Off-beat adventurers',bestTime:'Jun‚ÄìSep',budget:'‚Çπ12,000‚Äì‚Çπ80,000',highlights:'Leh, Nubra Valley, Pangong Lake, Zanskar',lang:'Ladakhi, Hindi',spots:['Pangong Tso Lake','Nubra Valley Sand Dunes','Thiksey Monastery','Khardung La Pass','Zanskar River','Diskit Monastery']},
  {name:'Jammu & Kashmir',region:'Himalayas',emoji:'üå∑',cat:'hills',tags:['Valley','Lakes','Houseboats'],bestFor:'Paradise seekers',bestTime:'Apr‚ÄìJun, Sep‚ÄìOct',budget:'‚Çπ8,000‚Äì‚Çπ45,000',highlights:'Srinagar Dal Lake, Gulmarg, Pahalgam, Sonamarg',lang:'Kashmiri, Dogri',spots:['Dal Lake Shikaras','Gulmarg Gondola','Pahalgam Lidder Valley','Sonamarg Glacier','Vaishno Devi Shrine','Mughal Gardens Srinagar']},
  {name:'Sikkim',region:'North East',emoji:'üå∏',cat:'hills',tags:['Kanchenjunga','Monasteries','Organic'],bestFor:'Mountain & monastery lovers',bestTime:'Mar‚ÄìMay, Sep‚ÄìDec',budget:'‚Çπ8,000‚Äì‚Çπ40,000',highlights:'Gangtok, Pelling, Lachung, Tsomgo Lake',lang:'Nepali, Sikkimese',spots:['Tsomgo Lake','Rumtek Monastery','Pelling Kanchenjunga View','Lachung Yumthang Valley','Nathula Pass','Ravangla Buddha Park']},

  // NORTH EAST
  {name:'Assam',region:'North East',emoji:'ü¶è',cat:'nature',tags:['Wildlife','Tea','Rivers'],bestFor:'Wildlife & nature lovers',bestTime:'Nov‚ÄìApr',budget:'‚Çπ6,000‚Äì‚Çπ30,000',highlights:'Kaziranga Rhino Park, Guwahati, Majuli Island',lang:'Assamese',spots:['Kaziranga One-Horned Rhino','Majuli River Island','Kamakhya Temple','Haflong Blue Hill','Manas Tiger Reserve','Brahmaputra River Cruise']},
  {name:'Meghalaya',region:'North East',emoji:'üåßÔ∏è',cat:'nature',tags:['Living Roots','Caves','Falls'],bestFor:'Nature & adventure explorers',bestTime:'Oct‚ÄìMay',budget:'‚Çπ7,000‚Äì‚Çπ32,000',highlights:'Shillong, Cherrapunji, Dawki, Mawlynnong',lang:'Khasi, Garo',spots:['Living Root Bridges Cherrapunji','Dawki Crystal Clear River','Mawlynnong Cleanest Village','Nohkalikai Waterfall','Umiam Lake','Double Decker Root Bridge']},
  {name:'Arunachal Pradesh',region:'North East',emoji:'üèîÔ∏è',cat:'hills',tags:['Monasteries','Tribes','Untouched'],bestFor:'Intrepid explorers',bestTime:'Oct‚ÄìApr',budget:'‚Çπ10,000‚Äì‚Çπ45,000',highlights:'Tawang, Ziro Valley, Namdapha, Bomdila',lang:'Bengali, Nyishi, Adi',spots:['Tawang Monastery','Ziro Valley Rice Fields','Sela Pass','Namdapha National Park','Bomdila Monastery','Dong ‚Äî Indias First Sunrise']},
  {name:'Manipur',region:'North East',emoji:'üåä',cat:'nature',tags:['Floating Lake','Polo','Dance'],bestFor:'Unique culture seekers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ7,000‚Äì‚Çπ25,000',highlights:'Loktak Lake, Imphal, Keibul Lamjao',lang:'Meitei',spots:['Loktak Floating Lake','Keibul Lamjao Deer Park','Ima Keithel Market','Kangla Fort','Shirui Lily Festival','Thoubal River']},
  {name:'Nagaland',region:'North East',emoji:'üé™',cat:'heritage',tags:['Hornbill Fest','Tribes','Food'],bestFor:'Cultural festival lovers',bestTime:'Oct‚ÄìFeb',budget:'‚Çπ8,000‚Äì‚Çπ30,000',highlights:'Kohima, Dzukou Valley, Hornbill Festival',lang:'English, Nagamese',spots:['Hornbill Festival Kisama','Dzukou Valley Trek','Kohima War Cemetery','Mokokchung','Khonoma Green Village','Japfu Peak']},
  {name:'Mizoram',region:'North East',emoji:'üåÑ',cat:'nature',tags:['Hills','Music','Handloom'],bestFor:'Off-beat travellers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ8,000‚Äì‚Çπ28,000',highlights:'Aizawl, Champhai, Phawngpui Peak',lang:'Mizo',spots:['Phawngpui Blue Mountain','Champhai Myanmar Border','Vantawng Waterfall','Aizawl Solomon Temple','Tamdil Lake','Reiek Heritage Village']},
  {name:'Tripura',region:'North East',emoji:'üèõÔ∏è',cat:'heritage',tags:['Temples','Palaces','Bamboo'],bestFor:'Hidden gem seekers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ5,000‚Äì‚Çπ20,000',highlights:'Agartala, Neermahal, Unakoti',lang:'Bengali, Kokborok',spots:['Ujjayanta Palace Agartala','Neermahal Water Palace','Unakoti Rock Carvings','Sepahijala Wildlife Sanctuary','Tripura Sundari Temple','Jampui Hills']},

  // EAST INDIA
  {name:'West Bengal',region:'East India',emoji:'üçµ',cat:'nature',tags:['Tea','Temples','Delta'],bestFor:'Culture, hills & wildlife',bestTime:'Oct‚ÄìApr',budget:'‚Çπ5,000‚Äì‚Çπ28,000',highlights:'Darjeeling, Kolkata, Sundarbans, Bishnupur',lang:'Bengali',spots:['Darjeeling Tea Gardens','Tiger Hill Sunrise','Sundarbans Tiger Reserve','Victoria Memorial Kolkata','Howrah Bridge','Bishnupur Terracotta Temples']},
  {name:'Odisha',region:'East India',emoji:'üõï',cat:'heritage',tags:['Temples','Beaches','Tribes'],bestFor:'Temple & beach lovers',bestTime:'Oct‚ÄìFeb',budget:'‚Çπ4,000‚Äì‚Çπ20,000',highlights:'Puri, Konark Sun Temple, Bhubaneswar, Chilika',lang:'Odia',spots:['Konark Sun Temple','Jagannath Temple Puri','Chilika Lake Dolphins','Bhubaneswar Temples','Simlipal Tiger Reserve','Daringbadi Coffee Plantation']},
  {name:'Bihar',region:'East India',emoji:'‚ò∏Ô∏è',cat:'spiritual',tags:['Buddhism','Hinduism','History'],bestFor:'Spiritual & history seekers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ3,500‚Äì‚Çπ15,000',highlights:'Bodh Gaya, Nalanda, Patna, Rajgir',lang:'Hindi, Maithili',spots:['Bodh Gaya Mahabodhi Temple','Nalanda University Ruins','Rajgir Vishwa Shanti Stupa','Vaishali Stupa','Vikramshila Ruins','Patna Museum']},
  {name:'Jharkhand',region:'East India',emoji:'üåø',cat:'nature',tags:['Waterfalls','Tribes','Mines'],bestFor:'Nature & waterfall lovers',bestTime:'Oct‚ÄìFeb',budget:'‚Çπ4,000‚Äì‚Çπ18,000',highlights:'Ranchi, Jamshedpur, Deoghar, Betla',lang:'Hindi, Santali',spots:['Hundru Falls Ranchi','Betla Elephant Safaris','Deoghar Baidyanath Temple','Dasam Falls','Jonha Falls','Panchghagh Waterfall']},

  // CENTRAL INDIA
  {name:'Madhya Pradesh',region:'Central India',emoji:'üêØ',cat:'nature',tags:['Tigers','Temples','Heritage'],bestFor:'Wildlife & temple trails',bestTime:'Oct‚ÄìApr',budget:'‚Çπ5,000‚Äì‚Çπ35,000',highlights:'Khajuraho, Kanha, Bandhavgarh, Pachmarhi, Orchha',lang:'Hindi',spots:['Khajuraho Temples UNESCO','Kanha Tiger Reserve','Bandhavgarh Tigers','Pachmarhi Hill Station','Orchha Medieval Town','Sanchi Stupa UNESCO']},
  {name:'Chhattisgarh',region:'Central India',emoji:'üåä',cat:'nature',tags:['Waterfalls','Tribes','Caves'],bestFor:'Off-beat adventure seekers',bestTime:'Oct‚ÄìFeb',budget:'‚Çπ4,000‚Äì‚Çπ18,000',highlights:'Jagdalpur, Chitrakote Falls, Bastar Dussehra',lang:'Hindi, Gondi',spots:['Chitrakote Waterfall (India\'s Niagara)','Tirathgarh Falls','Bastar Dussehra Festival','Kanger Valley Caves','Udanti Wildlife Sanctuary','Bhoramdeo Temple']},

  // WEST INDIA
  {name:'Gujarat',region:'West India',emoji:'ü¶Å',cat:'heritage',tags:['Lions','Salt Desert','Temples'],bestFor:'Wildlife & culture explorers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ5,000‚Äì‚Çπ30,000',highlights:'Rann of Kutch, Gir Lion Safari, Ahmedabad, Dwarka',lang:'Gujarati',spots:['Rann of Kutch White Desert','Gir Asiatic Lion Safari','Ahmedabad Heritage Walk UNESCO','Somnath Temple','Dwarka Dwarkadhish','Rani ki Vav UNESCO']},
  {name:'Maharashtra',region:'West India',emoji:'üåä',cat:'heritage',tags:['Caves','Beaches','Forts'],bestFor:'Heritage & coastal lovers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ5,000‚Äì‚Çπ35,000',highlights:'Mumbai, Pune, Ajanta Ellora Caves, Mahabaleshwar, Lonavala',lang:'Marathi',spots:['Ajanta Cave Paintings UNESCO','Ellora Caves UNESCO','Gateway of India Mumbai','Raigad Fort','Mahabaleshwar Strawberry','Lonavala Bhushi Dam']},
  {name:'Goa',region:'West India',emoji:'üèñÔ∏è',cat:'beach',tags:['Beaches','Nightlife','Heritage'],bestFor:'Beach & party lovers',bestTime:'Nov‚ÄìFeb',budget:'‚Çπ5,000‚Äì‚Çπ40,000',highlights:'Baga, Anjuna, Palolem, Old Goa Churches, Dudhsagar',lang:'Konkani',spots:['Anjuna Flea Market','Basilica of Bom Jesus UNESCO','Dudhsagar Waterfall','Chapora Fort','Palolem Secluded Beach','Fontainhas Latin Quarter']},

  // SOUTH INDIA
  {name:'Karnataka',region:'South India',emoji:'üåø',cat:'nature',tags:['Coffee','Heritage','Wildlife'],bestFor:'Nature, heritage & coffee lovers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ6,000‚Äì‚Çπ40,000',highlights:'Coorg, Hampi, Mysuru, Kabini, Gokarna, Badami',lang:'Kannada',spots:['Hampi Ruins UNESCO','Mysore Palace Illuminated','Coorg Coffee Estates','Kabini Elephant Corridor','Gokarna Beach & Temples','Badami Cave Temples']},
  {name:'Kerala',region:'South India',emoji:'üå¥',cat:'nature',tags:['Backwaters','Spices','Wellness'],bestFor:'Nature & relaxation seekers',bestTime:'Sep‚ÄìMar',budget:'‚Çπ6,000‚Äì‚Çπ45,000',highlights:'Munnar, Alleppey Backwaters, Wayanad, Kovalam, Thekkady',lang:'Malayalam',spots:['Alleppey Houseboat Backwaters','Munnar Tea Gardens','Periyar Tiger Reserve','Varkala Cliffs & Beach','Kovalam Lighthouse Beach','Kochi Fort Cochin']},
  {name:'Tamil Nadu',region:'South India',emoji:'üõï',cat:'heritage',tags:['Temples','Hills','Beaches'],bestFor:'Temple trail & hill station lovers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ5,000‚Äì‚Çπ30,000',highlights:'Madurai, Ooty, Kodaikanal, Mahabalipuram, Rameswaram, Pondicherry',lang:'Tamil',spots:['Meenakshi Temple Madurai','Brihadeeswarar Temple Thanjavur','Mahabalipuram Shore Temple UNESCO','Ooty Nilgiri Hills','Rameswaram Pilgrim Island','Pondicherry French Quarter']},
  {name:'Andhra Pradesh',region:'South India',emoji:'‚ö°',cat:'spiritual',tags:['Temples','Beaches','Tech'],bestFor:'Pilgrimage & beach lovers',bestTime:'Oct‚ÄìMar',budget:'‚Çπ4,000‚Äì‚Çπ22,000',highlights:'Tirupati, Araku Valley, Vizag, Amaravati',lang:'Telugu',spots:['Tirupati Balaji Temple','Araku Coffee Valley','Visakhapatnam RK Beach','Borra Caves','Lambasingi Mini Kashmir','Sri Sailam Dam']},
  {name:'Telangana',region:'South India',emoji:'üè∞',cat:'heritage',tags:['Forts','Pearls','Biryani'],bestFor:'Heritage & food lovers',bestTime:'Oct‚ÄìFeb',budget:'‚Çπ4,500‚Äì‚Çπ25,000',highlights:'Hyderabad, Warangal, Nagarjunasagar',lang:'Telugu',spots:['Charminar Hyderabad','Golconda Fort','Ramoji Film City','Warangal Fort','Nagarjunasagar Dam','Nehru Zoological Park']},
  {name:'Pondicherry',region:'South India',emoji:'üá´üá∑',cat:'beach',tags:['French Quarter','Beaches','Auroville'],bestFor:'Serene coastal & yoga lovers',bestTime:'Oct‚ÄìFeb',budget:'‚Çπ4,000‚Äì‚Çπ22,000',highlights:'French Quarter, Auroville, Rock Beach, Sri Aurobindo Ashram',lang:'Tamil, French',spots:['Auroville Matrimandir','Rock Beach Promenade','Sri Aurobindo Ashram','French War Memorial','Serenity Beach','Paradise Beach']},

  // ISLANDS
  {name:'Andaman & Nicobar',region:'Islands',emoji:'üê†',cat:'beach',tags:['Coral','Diving','Untouched'],bestFor:'Scuba divers & beach lovers',bestTime:'Oct‚ÄìMay',budget:'‚Çπ12,000‚Äì‚Çπ60,000',highlights:'Havelock Island, Neil Island, Port Blair, Radhanagar Beach',lang:'Hindi, Bengali',spots:['Radhanagar Beach Havelock','Elephant Beach Snorkelling','Cellular Jail Port Blair','Neil Island Laxmanpur','Baratang Limestone Caves','Ross Island']},
  {name:'Lakshadweep',region:'Islands',emoji:'üåä',cat:'beach',tags:['Lagoons','Coral','Untouched'],bestFor:'Luxury island seekers',bestTime:'Oct‚ÄìMay',budget:'‚Çπ15,000‚Äì‚Çπ80,000',highlights:'Agatti Island, Bangaram, Kavaratti',lang:'Malayalam',spots:['Agatti Coral Reef','Bangaram Atoll','Kavaratti Lagoon','Glass-bottom Boat Rides','Minicoy Lighthouse','Underwater Coral Gardens']},
];

function renderStates(cat='all'){
  const filtered=cat==='all'?STATES:STATES.filter(s=>s.cat===cat);
  document.getElementById('states-grid').innerHTML=filtered.map(s=>`
    <div class="state-card cat-${s.cat}" onclick="openStateModal('${s.name.replace(/'/g,"\\'")}')">
      <div class="state-card-top">
        <span class="state-emoji">${s.emoji}</span>
        <div class="state-name">${s.name}</div>
        <div class="state-region">${s.region}</div>
      </div>
      <div class="state-card-bottom">
        <div class="state-tags">${s.tags.map(t=>`<span class="state-tag">${t}</span>`).join('')}</div>
        <div class="state-card-cta">Explore <span>‚Üí</span></div>
      </div>
    </div>`).join('');
}
renderStates();
// Show live destination suggestions immediately on page load
updateLiveSuggestions();

function filterStates(cat,btn){
  document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  document.getElementById('state-search').value='';
  renderStates(cat);
}

function searchStates(q){
  if(!q.trim()){renderStates('all');return;}
  const lower=q.toLowerCase();
  const filtered=STATES.filter(s=>
    s.name.toLowerCase().includes(lower)||
    s.region.toLowerCase().includes(lower)||
    s.tags.some(t=>t.toLowerCase().includes(lower))||
    s.highlights.toLowerCase().includes(lower)||
    s.spots.some(sp=>sp.toLowerCase().includes(lower))
  );
  const grid=document.getElementById('states-grid');
  if(!filtered.length){grid.innerHTML=`<div style="color:var(--muted);font-size:.9rem;grid-column:1/-1;padding:2rem 0">No results for "${q}" ‚Äî try another region or activity.</div>`;return;}
  grid.innerHTML=filtered.map(s=>`
    <div class="state-card cat-${s.cat}" onclick="openStateModal('${s.name.replace(/'/g,"\\'")}')">
      <div class="state-card-top">
        <span class="state-emoji">${s.emoji}</span>
        <div class="state-name">${s.name}</div>
        <div class="state-region">${s.region}</div>
      </div>
      <div class="state-card-bottom">
        <div class="state-tags">${s.tags.map(t=>`<span class="state-tag">${t}</span>`).join('')}</div>
        <div class="state-card-cta">Explore <span>‚Üí</span></div>
      </div>
    </div>`).join('');
}

function openStateModal(name){
  const s=STATES.find(x=>x.name===name);if(!s)return;
  document.getElementById('m-emoji').textContent=s.emoji;
  document.getElementById('m-name').textContent=s.name;
  document.getElementById('m-region').textContent=s.region+' ¬∑ '+s.lang;
  document.getElementById('m-spots').innerHTML=s.spots.map(sp=>`<span class="modal-spot">${sp}</span>`).join('');
  document.getElementById('m-facts').innerHTML=[
    {k:'Best Time',v:s.bestTime},{k:'Budget Range',v:s.budget},
    {k:'Best For',v:s.bestFor},{k:'Top Highlights',v:s.highlights.split(',')[0]+' & more'},
  ].map(f=>`<div class="modal-fact"><div class="modal-fact-key">${f.k}</div><div class="modal-fact-val">${f.v}</div></div>`).join('');
  document.getElementById('m-cta').onclick=()=>{
    closeStateModal();
    const stateName = name.split('&')[0].trim().toLowerCase();
    const match = ALL_DEST_CITIES.find(c=>
      c.name.toLowerCase().includes(stateName) ||
      c.name.toLowerCase().includes(name.split(',')[0].toLowerCase())
    );
    if(match) selectDestCity(match.name);
    document.getElementById('planner').scrollIntoView({behavior:'smooth'});
  };
  document.getElementById('stateModal').classList.add('open');
  document.body.style.overflow='hidden';
}

function closeStateModal(){
  document.getElementById('stateModal').classList.remove('open');
  document.body.style.overflow='';
}

function closeModal(e){
  if(e.target===document.getElementById('stateModal'))closeStateModal();
}

document.addEventListener('keydown',e=>{if(e.key==='Escape'){closeStateModal();closeMobileMenu();}});

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   INDIA BACKGROUND SYMBOLS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
(function(){
  const container = document.getElementById('indiaBg');

  // SVG symbols ‚Äî Taj Mahal, Lotus, Mandala, Om, Peacock, Elephant, Diya, Rickshaw, Wheel of Ashoka, Namaste
  const SYMBOLS = [
    // Taj Mahal silhouette
    { id:'taj', svg:`<svg width="90" height="70" viewBox="0 0 90 70" fill="none" xmlns="http://www.w3.org/2000/svg">
      <ellipse cx="45" cy="30" rx="12" ry="14" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <path d="M45 16 L45 10 M45 10 L43 7 L45 5 L47 7 L45 10" stroke="currentColor" stroke-width="1" fill="none" stroke-linejoin="round"/>
      <path d="M33 44 L33 30 Q33 24 38 22 Q41 30 45 30 Q49 30 52 22 Q57 24 57 30 L57 44" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <path d="M20 44 L20 36 Q20 32 25 31 L33 30" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <path d="M70 44 L70 36 Q70 32 65 31 L57 30" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <ellipse cx="26" cy="29" rx="4" ry="5" stroke="currentColor" stroke-width="1" fill="none"/>
      <ellipse cx="64" cy="29" rx="4" ry="5" stroke="currentColor" stroke-width="1" fill="none"/>
      <path d="M25 31 L25 27 M27 31 L27 27" stroke="currentColor" stroke-width=".8" fill="none"/>
      <path d="M63 31 L63 27 M65 31 L65 27" stroke="currentColor" stroke-width=".8" fill="none"/>
      <line x1="10" y1="44" x2="80" y2="44" stroke="currentColor" stroke-width="1.5"/>
      <line x1="5" y1="47" x2="85" y2="47" stroke="currentColor" stroke-width="1"/>
      <path d="M10 47 Q10 55 5 58 L85 58 Q80 55 80 47" stroke="currentColor" stroke-width=".8" fill="none"/>
      <line x1="5" y1="58" x2="85" y2="58" stroke="currentColor" stroke-width="1"/>
    </svg>`, color:'rgba(200,169,110,0.055)', size:90 },

    // Lotus flower
    { id:'lotus', svg:`<svg width="70" height="60" viewBox="0 0 70 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M35 50 Q35 35 35 28" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <path d="M35 28 Q28 20 22 28 Q28 36 35 28Z" stroke="currentColor" stroke-width="1" fill="none"/>
      <path d="M35 28 Q42 20 48 28 Q42 36 35 28Z" stroke="currentColor" stroke-width="1" fill="none"/>
      <path d="M35 28 Q30 16 25 20 Q26 30 35 28Z" stroke="currentColor" stroke-width="1" fill="none"/>
      <path d="M35 28 Q40 16 45 20 Q44 30 35 28Z" stroke="currentColor" stroke-width="1" fill="none"/>
      <path d="M35 28 Q35 14 35 10 Q38 18 35 28Z" stroke="currentColor" stroke-width="1" fill="none"/>
      <path d="M35 28 Q22 22 18 16 Q24 22 35 28Z" stroke="currentColor" stroke-width="1" fill="none"/>
      <path d="M35 28 Q48 22 52 16 Q46 22 35 28Z" stroke="currentColor" stroke-width="1" fill="none"/>
      <ellipse cx="35" cy="28" rx="4" ry="3" stroke="currentColor" stroke-width="1" fill="none"/>
      <path d="M20 50 Q28 46 35 50 Q42 46 50 50" stroke="currentColor" stroke-width="1.2" fill="none"/>
    </svg>`, color:'rgba(255,107,53,0.06)', size:70 },

    // Mandala ring
    { id:'mandala', svg:`<svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="40" cy="40" r="36" stroke="currentColor" stroke-width=".8"/>
      <circle cx="40" cy="40" r="28" stroke="currentColor" stroke-width=".6"/>
      <circle cx="40" cy="40" r="18" stroke="currentColor" stroke-width=".8"/>
      <circle cx="40" cy="40" r="8" stroke="currentColor" stroke-width="1"/>
      <circle cx="40" cy="40" r="3" stroke="currentColor" stroke-width="1" fill="currentColor" opacity=".4"/>
      ${Array.from({length:8},(_,i)=>{const a=i*45*Math.PI/180;const x1=40+18*Math.cos(a);const y1=40+18*Math.sin(a);const x2=40+36*Math.cos(a);const y2=40+36*Math.sin(a);return `<line x1="${x1.toFixed(1)}" y1="${y1.toFixed(1)}" x2="${x2.toFixed(1)}" y2="${y2.toFixed(1)}" stroke="currentColor" stroke-width=".6"/>`;}).join('')}
      ${Array.from({length:8},(_,i)=>{const a=(i*45+22.5)*Math.PI/180;const x=40+28*Math.cos(a);const y=40+28*Math.sin(a);return `<circle cx="${x.toFixed(1)}" cy="${y.toFixed(1)}" r="2.5" stroke="currentColor" stroke-width=".8" fill="none"/>`;}).join('')}
      ${Array.from({length:8},(_,i)=>{const a=i*45*Math.PI/180;const x=40+28*Math.cos(a);const y=40+28*Math.sin(a);return `<path d="M${(40+22*Math.cos(a)).toFixed(1)},${(40+22*Math.sin(a)).toFixed(1)} L${x.toFixed(1)},${y.toFixed(1)} L${(40+22*Math.cos(a+(22.5*Math.PI/180))).toFixed(1)},${(40+22*Math.sin(a+(22.5*Math.PI/180))).toFixed(1)}" stroke="currentColor" stroke-width=".6" fill="none"/>`;}).join('')}
    </svg>`, color:'rgba(200,169,110,0.05)', size:80 },

    // Om symbol
    { id:'om', svg:`<svg width="55" height="60" viewBox="0 0 55 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 38 Q8 30 12 22 Q18 14 26 18 Q32 22 28 30 Q24 36 16 34" stroke="currentColor" stroke-width="1.8" fill="none" stroke-linecap="round"/>
      <path d="M16 34 Q10 36 12 44 Q14 52 24 50 Q34 48 34 40 Q34 32 26 30" stroke="currentColor" stroke-width="1.8" fill="none" stroke-linecap="round"/>
      <path d="M26 30 Q36 28 40 20 Q44 12 36 10 Q30 10 30 16" stroke="currentColor" stroke-width="1.8" fill="none" stroke-linecap="round"/>
      <path d="M34 40 Q40 42 44 38" stroke="currentColor" stroke-width="1.8" fill="none" stroke-linecap="round"/>
      <path d="M38 30 Q42 26 46 30" stroke="currentColor" stroke-width="1.4" fill="none" stroke-linecap="round"/>
      <circle cx="40" cy="12" r="2.5" fill="currentColor" opacity=".6"/>
      <path d="M28 6 Q36 4 42 8" stroke="currentColor" stroke-width="1.2" fill="none" stroke-linecap="round"/>
    </svg>`, color:'rgba(255,107,53,0.065)', size:55 },

    // Peacock (simplified)
    { id:'peacock', svg:`<svg width="75" height="80" viewBox="0 0 75 80" fill="none" xmlns="http://www.w3.org/2000/svg">
      <ellipse cx="38" cy="55" rx="8" ry="12" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <circle cx="38" cy="40" r="6" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <path d="M38 34 L38 28 Q36 26 35 24" stroke="currentColor" stroke-width="1" fill="none" stroke-linecap="round"/>
      <path d="M38 28 L40 24" stroke="currentColor" stroke-width=".8" fill="none" stroke-linecap="round"/>
      <path d="M38 43 L38 67" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <path d="M38 67 Q32 70 28 68" stroke="currentColor" stroke-width="1" fill="none" stroke-linecap="round"/>
      <path d="M38 67 Q44 70 48 68" stroke="currentColor" stroke-width="1" fill="none" stroke-linecap="round"/>
      <path d="M38 30 Q20 15 12 22" stroke="currentColor" stroke-width="1" fill="none"/>
      <path d="M38 30 Q22 10 18 8" stroke="currentColor" stroke-width=".8" fill="none"/>
      <path d="M38 30 Q28 8 28 4" stroke="currentColor" stroke-width=".8" fill="none"/>
      <path d="M38 30 Q38 8 38 4" stroke="currentColor" stroke-width=".8" fill="none"/>
      <path d="M38 30 Q48 8 48 4" stroke="currentColor" stroke-width=".8" fill="none"/>
      <path d="M38 30 Q54 10 58 8" stroke="currentColor" stroke-width=".8" fill="none"/>
      <path d="M38 30 Q56 15 64 22" stroke="currentColor" stroke-width="1" fill="none"/>
      <circle cx="12" cy="22" r="4" stroke="currentColor" stroke-width=".8" fill="none"/>
      <circle cx="18" cy="8" r="3.5" stroke="currentColor" stroke-width=".8" fill="none"/>
      <circle cx="28" cy="4" r="3.5" stroke="currentColor" stroke-width=".8" fill="none"/>
      <circle cx="38" cy="4" r="3.5" stroke="currentColor" stroke-width=".8" fill="none"/>
      <circle cx="48" cy="4" r="3.5" stroke="currentColor" stroke-width=".8" fill="none"/>
      <circle cx="58" cy="8" r="3.5" stroke="currentColor" stroke-width=".8" fill="none"/>
      <circle cx="64" cy="22" r="4" stroke="currentColor" stroke-width=".8" fill="none"/>
    </svg>`, color:'rgba(76,175,125,0.055)', size:75 },

    // Elephant head (Ganesha-like)
    { id:'elephant', svg:`<svg width="75" height="80" viewBox="0 0 75 80" fill="none" xmlns="http://www.w3.org/2000/svg">
      <ellipse cx="38" cy="35" rx="22" ry="20" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <ellipse cx="38" cy="30" rx="14" ry="12" stroke="currentColor" stroke-width="1" fill="none"/>
      <path d="M24 35 Q14 32 12 24 Q14 16 20 18 Q22 26 28 28" stroke="currentColor" stroke-width="1.2" fill="none" stroke-linecap="round"/>
      <path d="M52 35 Q62 32 63 24 Q61 16 55 18 Q53 26 47 28" stroke="currentColor" stroke-width="1.2" fill="none" stroke-linecap="round"/>
      <path d="M38 42 Q32 50 28 62 Q32 66 36 60 Q38 56 38 50" stroke="currentColor" stroke-width="1.2" fill="none" stroke-linecap="round"/>
      <path d="M38 50 Q40 58 42 64 Q46 66 46 60 Q44 52 38 42" stroke="currentColor" stroke-width="1.2" fill="none" stroke-linecap="round"/>
      <circle cx="30" cy="28" r="3" stroke="currentColor" stroke-width="1" fill="none"/>
      <circle cx="46" cy="28" r="3" stroke="currentColor" stroke-width="1" fill="none"/>
      <circle cx="30" cy="28" r="1.2" fill="currentColor" opacity=".5"/>
      <circle cx="46" cy="28" r="1.2" fill="currentColor" opacity=".5"/>
      <path d="M31 18 Q33 12 38 10 Q43 12 45 18" stroke="currentColor" stroke-width="1" fill="none"/>
    </svg>`, color:'rgba(200,169,110,0.055)', size:75 },

    // Diya (oil lamp)
    { id:'diya', svg:`<svg width="55" height="55" viewBox="0 0 55 55" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 38 Q14 28 27 28 Q40 28 43 38 Q40 44 27 44 Q14 44 12 38Z" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <path d="M12 38 Q10 36 12 34 L43 34 Q45 36 43 38" stroke="currentColor" stroke-width=".8" fill="none"/>
      <path d="M27 28 L27 20 Q28 16 27 12" stroke="currentColor" stroke-width="1.2" fill="none" stroke-linecap="round"/>
      <path d="M27 12 Q24 8 26 6 Q28 4 30 6 Q32 8 29 12" stroke="currentColor" stroke-width="1" fill="none" stroke-linecap="round"/>
      <ellipse cx="27" cy="12" rx="4" ry="5" stroke="currentColor" stroke-width=".8" fill="none"/>
      <path d="M40 34 Q44 30 48 32" stroke="currentColor" stroke-width="1" fill="none" stroke-linecap="round"/>
      <path d="M22 44 Q20 50 22 52" stroke="currentColor" stroke-width=".8" fill="none" stroke-linecap="round"/>
      <path d="M32 44 Q34 50 32 52" stroke="currentColor" stroke-width=".8" fill="none" stroke-linecap="round"/>
    </svg>`, color:'rgba(255,107,53,0.07)', size:55 },

    // Ashoka Wheel (Dharma Chakra)
    { id:'chakra', svg:`<svg width="65" height="65" viewBox="0 0 65 65" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="32" cy="32" r="28" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <circle cx="32" cy="32" r="5" stroke="currentColor" stroke-width="1.2" fill="none"/>
      ${Array.from({length:24},(_,i)=>{const a=i*15*Math.PI/180;const x1=32+5*Math.cos(a);const y1=32+5*Math.sin(a);const x2=32+28*Math.cos(a);const y2=32+28*Math.sin(a);return `<line x1="${x1.toFixed(1)}" y1="${y1.toFixed(1)}" x2="${x2.toFixed(1)}" y2="${y2.toFixed(1)}" stroke="currentColor" stroke-width=".5"/>`;}).join('')}
      <circle cx="32" cy="32" r="18" stroke="currentColor" stroke-width=".6" fill="none"/>
    </svg>`, color:'rgba(91,155,213,0.05)', size:65 },

    // Hawa Mahal / jali window
    { id:'jali', svg:`<svg width="65" height="80" viewBox="0 0 65 80" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 70 L10 30 Q10 10 32 10 Q55 10 55 30 L55 70 Z" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <path d="M10 30 Q10 10 32 10 Q55 10 55 30" stroke="currentColor" stroke-width="1" fill="none"/>
      <line x1="10" y1="70" x2="55" y2="70" stroke="currentColor" stroke-width="1.2"/>
      <line x1="10" y1="60" x2="55" y2="60" stroke="currentColor" stroke-width=".7"/>
      <line x1="10" y1="50" x2="55" y2="50" stroke="currentColor" stroke-width=".7"/>
      <line x1="10" y1="40" x2="55" y2="40" stroke="currentColor" stroke-width=".7"/>
      <line x1="20" y1="70" x2="20" y2="30" stroke="currentColor" stroke-width=".7"/>
      <line x1="32" y1="70" x2="32" y2="15" stroke="currentColor" stroke-width=".7"/>
      <line x1="44" y1="70" x2="44" y2="30" stroke="currentColor" stroke-width=".7"/>
      <path d="M32 10 L32 5 Q30 3 32 1 Q34 3 32 5" stroke="currentColor" stroke-width="1" fill="none" stroke-linecap="round"/>
      ${Array.from({length:3},(_,j)=>Array.from({length:3},(_,i)=>`<circle cx="${20+i*12}" cy="${42+j*10}" r="3" stroke="currentColor" stroke-width=".7" fill="none"/>`).join('')).join('')}
    </svg>`, color:'rgba(200,169,110,0.05)', size:65 },

    // Star of India / rangoli pattern
    { id:'rangoli', svg:`<svg width="70" height="70" viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">
      <polygon points="35,5 38,28 58,15 42,32 65,35 42,38 58,55 38,42 35,65 32,42 12,55 28,38 5,35 28,32 12,15 32,28" stroke="currentColor" stroke-width=".9" fill="none"/>
      <circle cx="35" cy="35" r="12" stroke="currentColor" stroke-width=".8" fill="none"/>
      <circle cx="35" cy="35" r="5" stroke="currentColor" stroke-width="1" fill="none"/>
      <circle cx="35" cy="35" r="2" fill="currentColor" opacity=".4"/>
    </svg>`, color:'rgba(255,107,53,0.055)', size:70 },

    // Temple gopuram silhouette
    { id:'temple', svg:`<svg width="70" height="90" viewBox="0 0 70 90" fill="none" xmlns="http://www.w3.org/2000/svg">
      <polygon points="35,5 42,20 35,18 28,20" stroke="currentColor" stroke-width="1" fill="none"/>
      <rect x="28" y="20" width="14" height="10" stroke="currentColor" stroke-width="1" fill="none"/>
      <rect x="24" y="30" width="22" height="8" stroke="currentColor" stroke-width="1" fill="none"/>
      <rect x="20" y="38" width="30" height="7" stroke="currentColor" stroke-width="1" fill="none"/>
      <rect x="16" y="45" width="38" height="7" stroke="currentColor" stroke-width="1" fill="none"/>
      <rect x="12" y="52" width="46" height="6" stroke="currentColor" stroke-width="1" fill="none"/>
      <rect x="18" y="58" width="34" height="20" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <path d="M27 78 L27 58 M35 78 L35 58 M43 78 L43 58" stroke="currentColor" stroke-width=".7" fill="none"/>
      <line x1="8" y1="78" x2="62" y2="78" stroke="currentColor" stroke-width="1.5"/>
      <path d="M35 5 L35 2" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
    </svg>`, color:'rgba(200,169,110,0.055)', size:70 },

    // Kite
    { id:'kite', svg:`<svg width="50" height="65" viewBox="0 0 50 65" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M25 5 L45 28 L25 45 L5 28 Z" stroke="currentColor" stroke-width="1.2" fill="none"/>
      <line x1="25" y1="5" x2="25" y2="45" stroke="currentColor" stroke-width=".8"/>
      <line x1="5" y1="28" x2="45" y2="28" stroke="currentColor" stroke-width=".8"/>
      <path d="M25 45 Q22 52 26 58 Q28 54 25 45" stroke="currentColor" stroke-width="1" fill="none" stroke-linecap="round"/>
      <path d="M26 58 Q24 62 27 65" stroke="currentColor" stroke-width=".8" fill="none" stroke-linecap="round"/>
    </svg>`, color:'rgba(76,175,125,0.06)', size:50 },
  ];

  // Spawn configuration ‚Äî varied positions, sizes, speeds, delays
  const SPAWN_CONFIG = [
    // Left column
    { sym:'taj',      x:2,   baseDelay:0,    dur:28, size:1.2,  anim:'symbolFloat' },
    { sym:'lotus',    x:6,   baseDelay:5,    dur:22, size:0.9,  anim:'symbolDrift' },
    { sym:'mandala',  x:3,   baseDelay:12,   dur:35, size:1.0,  anim:'symbolSway'  },
    { sym:'diya',     x:8,   baseDelay:18,   dur:20, size:0.85, anim:'symbolFloat' },
    { sym:'temple',   x:1,   baseDelay:25,   dur:40, size:1.1,  anim:'symbolDrift' },
    // Left-center
    { sym:'om',       x:16,  baseDelay:3,    dur:26, size:1.1,  anim:'symbolSway'  },
    { sym:'rangoli',  x:20,  baseDelay:9,    dur:30, size:0.8,  anim:'symbolFloat' },
    { sym:'kite',     x:14,  baseDelay:16,   dur:18, size:1.3,  anim:'symbolDrift' },
    { sym:'chakra',   x:22,  baseDelay:22,   dur:33, size:0.9,  anim:'symbolSway'  },
    // Right-center
    { sym:'elephant', x:72,  baseDelay:2,    dur:32, size:1.0,  anim:'symbolFloat' },
    { sym:'peacock',  x:78,  baseDelay:8,    dur:24, size:1.15, anim:'symbolDrift' },
    { sym:'jali',     x:68,  baseDelay:14,   dur:36, size:0.85, anim:'symbolSway'  },
    { sym:'lotus',    x:75,  baseDelay:20,   dur:21, size:1.2,  anim:'symbolFloat' },
    { sym:'mandala',  x:82,  baseDelay:27,   dur:38, size:0.75, anim:'symbolDrift' },
    // Right column
    { sym:'taj',      x:90,  baseDelay:4,    dur:30, size:1.0,  anim:'symbolSway'  },
    { sym:'om',       x:94,  baseDelay:11,   dur:25, size:0.9,  anim:'symbolFloat' },
    { sym:'temple',   x:88,  baseDelay:19,   dur:42, size:1.1,  anim:'symbolDrift' },
    { sym:'diya',     x:92,  baseDelay:23,   dur:19, size:1.0,  anim:'symbolSway'  },
    { sym:'kite',     x:96,  baseDelay:30,   dur:22, size:0.8,  anim:'symbolFloat' },
    // Extras scattered
    { sym:'rangoli',  x:48,  baseDelay:6,    dur:45, size:0.65, anim:'symbolSway'  },
    { sym:'chakra',   x:52,  baseDelay:15,   dur:50, size:0.6,  anim:'symbolFloat' },
    { sym:'lotus',    x:44,  baseDelay:32,   dur:48, size:0.55, anim:'symbolDrift' },
  ];

  const symMap = {};
  SYMBOLS.forEach(s => { symMap[s.id] = s; });

  SPAWN_CONFIG.forEach(cfg => {
    const sym = symMap[cfg.sym];
    if (!sym) return;

    const el = document.createElement('div');
    el.className = 'india-symbol';

    const scaledSize = sym.size * cfg.size;
    const startY = 100 + Math.random() * 20; // Start below viewport

    el.style.cssText = `
      left: ${cfg.x + (Math.random()-0.5)*3}%;
      bottom: -${scaledSize + 20}px;
      width: ${scaledSize}px;
      height: ${scaledSize}px;
      color: ${sym.color};
      animation-name: ${cfg.anim};
      animation-duration: ${cfg.dur + Math.random()*6}s;
      animation-delay: ${cfg.baseDelay + Math.random()*4}s;
      animation-iteration-count: infinite;
      animation-timing-function: linear;
    `;
    el.innerHTML = sym.svg;
    container.appendChild(el);
  });
})();

function toggleMobileMenu(){
  const menu=document.getElementById('mobileMenu');
  const btn=document.getElementById('hamburger');
  const isOpen=menu.classList.contains('open');
  if(isOpen){closeMobileMenu();}else{
    menu.classList.add('open');
    btn.classList.add('open');
    document.body.style.overflow='hidden';
  }
}
function closeMobileMenu(){
  document.getElementById('mobileMenu').classList.remove('open');
  document.getElementById('hamburger').classList.remove('open');
  document.body.style.overflow='';
}
  </script>
</body>
</html>